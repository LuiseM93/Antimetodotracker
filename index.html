<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El Antimétodo - Adquiere Idiomas</title>
  <link rel="manifest" href="manifest.json">
  <!-- Favicons -->
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="apple-touch-icon" href="assets/logo.png">

  <!-- Theme Color -->
  <meta name="theme-color" content="#4a148c" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="/">
  <meta property="og:title" content="El Antimétodo - Adquiere Idiomas">
  <meta property="og:description" content="Tu centro de mando y compañero de viaje para aprender idiomas con la filosofía de 'El Antimétodo'. Registra tu progreso, visualiza tus estadísticas y accede a recursos útiles, todo de forma gratuita y sin anuncios.">
  <meta property="og:image" content="/assets/social-preview.jpg">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="/">
  <meta property="twitter:title" content="El Antimétodo - Adquiere Idiomas">
  <meta property="twitter:description" content="Tu centro de mando y compañero de viaje para aprender idiomas con la filosofía de 'El Antimétodo'. Registra tu progreso, visualiza tus estadísticas y accede a recursos útiles, todo de forma gratuita y sin anuncios.">
  <meta property="twitter:image" content="/assets/social-preview.jpg">

  <!-- NOTE TO USER: Ensure 'assets/money.png' exists for the gamification feature. -->
  <!-- NOTE TO USER: Ensure 'assets/icons/*.svg' exist for reward icons, or replace paths. Placeholder icons like flair_rebel.svg, flair_brain.svg etc., need to be created. -->
  <!-- NOTE TO USER: For new cultural themes, add images to 'assets/themes/' as specified in chat. E.g., 'assets/themes/japan-neon-alley.jpg', 'assets/themes/cafe-parisien-night.jpg'. -->

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Light Theme (Default) */
    :root {
      --color-primary: #4a148c;
      --color-secondary: #7b1fa2;
      --color-accent: #9c27b0;
      --color-light-purple: #d1c4e9;
      
      --color-app-bg: #f8f7fa;
      --color-card-bg: #ffffff;
      --color-text-main: #333333;
      --color-text-light: #666666;
      --color-text-inverse: #ffffff; /* Text on dark primary/secondary bg */
      
      --color-input-border: #cbd5e1; /* approx. gray-300 */
      --color-input-bg: #ffffff;
      --color-input-text: #111827; /* approx. gray-900 */
      --color-placeholder-text: #9ca3af; /* approx. gray-400 */
      
      --color-error: #ef4444;
      --color-success: #22c55e;
      --color-warning: #f97316;
      --color-nav-bg: var(--color-primary);
      --color-nav-text: #f3e5f5; /* Lighter purple text for nav */
      --color-nav-hover-bg: var(--color-secondary);
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #ffffff;
      --color-border-light: var(--color-light-purple); /* General light border */
      --color-chart-primary-line-bar: var(--color-accent);
      --color-chart-grid-line: #e0e0e0;
      --color-chart-text: #555555;
      --color-chart-tooltip-bg: #ffffff;
      --color-chart-tooltip-border: #cccccc;

      /* Theme background image URLs (default to none) */
      --theme-background-image-url-light: none;
      --theme-background-image-url-dark: none;
    }

    /* Dark Theme */
    html.dark {
      --color-primary: #8e44ad; /* Slightly lighter purple for dark mode primary */
      --color-secondary: #9b59b6; /* Lighter still for secondary */
      --color-accent: #bb86fc; /* Common Material Design dark accent */
      --color-light-purple: #3e2753; /* Darker purple for "light" variant in dark mode */
      
      --color-app-bg: #121212;
      --color-card-bg: #1e1e1e; /* Material dark surface */
      --color-text-main: #e0e0e0;
      --color-text-light: #b0b0b0;
      --color-text-inverse: #121212; /* Text on light accent bg */

      --color-input-border: #4b5563; /* Gray-600 */
      --color-input-bg: #2d3748;    /* Gray-800 or similar dark */
      --color-input-text: #e0e0e0;
      --color-placeholder-text: #718096; /* Gray-500 */
      
      --color-error: #cf6679; /* Material dark error */
      --color-success: #66bb6a; 
      --color-warning: #f59e0b; 
      --color-nav-bg: #1e1e1e; /* Darker nav bg */
      --color-nav-text: #c7c7c7;
      --color-nav-hover-bg: #2c2c3a;
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #121212;
      --color-border-light: #3e3e3e; /* Darker border */
      --color-chart-primary-line-bar: var(--color-accent);
      --color-chart-grid-line: #4B5563;
      --color-chart-text: var(--color-text-light);
      --color-chart-tooltip-bg: #374151;
      --color-chart-tooltip-border: #4B5563;
    }

    /* Theme: Zen Garden */
    html.theme-zen {
      --color-primary: #556B2F; 
      --color-secondary: #8FBC8F; 
      --color-accent: #6B8E23; 
      --color-light-purple: #E9F5E9; 
      --color-app-bg: #F0FFF0; 
      --color-card-bg: #FFFFFF;
      --color-text-main: #2F4F4F; 
      --color-text-light: #556B2F;
      --color-text-inverse: #FFFFFF;
      --color-nav-bg: var(--color-primary);
      --color-nav-text: #F0FFF0;
      --color-nav-hover-bg: var(--color-secondary);
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #FFFFFF;
      --theme-background-image-url-light: none; /* Or path to light Zen image */
      --theme-background-image-url-dark: none; /* Or path to dark Zen image */
    }
    html.dark.theme-zen { 
      --color-primary: #6B8E23; 
      --color-secondary: #556B2F; 
      --color-accent: #8FBC8F; 
      --color-light-purple: #2F3B2F; 
      --color-app-bg: #1A2A1A; 
      --color-card-bg: #2A3F2A; 
      --color-text-main: #E0F0E0;
      --color-text-light: #ADD8AD; 
      --color-text-inverse: #1A2A1A;
      --color-nav-bg: #2A3F2A;
      --color-nav-text: #E0F0E0;
      --color-nav-hover-bg: #3A4F3A;
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #1A2A1A;
    }

    /* Theme: Neon Nocturno */
    html.theme-neon, html.dark.theme-neon { 
      --color-primary: #FF00FF; 
      --color-secondary: #00FFFF; 
      --color-accent: #FFFF00; 
      --color-light-purple: #330033; 
      --color-app-bg: #0A0A0A; 
      --color-card-bg: #141414; 
      --color-text-main: #E0E0E0;
      --color-text-light: #00FFFF;
      --color-text-inverse: #000000;
      --color-nav-bg: #101010;
      --color-nav-text: #00FFFF;
      --color-nav-hover-bg: #FF00FF;
      --color-nav-active-bg: #FFFF00;
      --color-nav-active-text: #000000;
      --color-border-light: #FF00FF;
      --color-input-border: var(--color-secondary);
      --color-input-bg: #1A1A1A;
      --color-input-text: #E0E0E0;
      --theme-background-image-url-light: none; /* Or path to light Neon image */
      --theme-background-image-url-dark: none; /* Or path to dark Neon image */
    }
     /* Theme: Ocean Breeze */
    html.theme-ocean {
      --color-primary: #0077BE; 
      --color-secondary: #00A8E8; 
      --color-accent: #92DCE5; 
      --color-light-purple: #E0F7FA; 
      --color-app-bg: #F0FAFC; 
      --color-card-bg: #FFFFFF;
      --color-text-main: #003B46; 
      --color-text-light: #0077BE;
      --color-text-inverse: #FFFFFF;
      --color-nav-bg: var(--color-primary);
      --color-nav-text: #E0F7FA;
      --color-nav-hover-bg: var(--color-secondary);
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #003B46;
      --theme-background-image-url-light: none; /* Or path to light Ocean image */
      --theme-background-image-url-dark: none; /* Or path to dark Ocean image */
    }
    html.dark.theme-ocean {
      --color-primary: #00A8E8;
      --color-secondary: #0077BE;
      --color-accent: #66CCCC; 
      --color-light-purple: #002A33;
      --color-app-bg: #001F29; 
      --color-card-bg: #003B46; 
      --color-text-main: #E0F7FA;
      --color-text-light: #92DCE5;
      --color-text-inverse: #001F29;
      --color-nav-bg: #003B46;
      --color-nav-text: #E0F7FA;
      --color-nav-hover-bg: #005A6F;
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #001F29;
    }

    /* NEW THEME: Japón Neón */
    html.theme-japan-neon, html.dark.theme-japan-neon { /* Often neon themes are dark by default */
      --color-primary: #F300FF; /* Vivid Pink */
      --color-secondary: #00CFFF; /* Electric Blue */
      --color-accent: #FFD300; /* Neon Yellow */
      --color-light-purple: #3D004C; /* Dark Purple for subtle bg elements */
      
      --color-app-bg: #08040C; /* Very Dark Purple/Black */
      --color-card-bg: #1A0E24; /* Dark Purple Surface */
      --color-text-main: #EAE0F0; /* Light Lavender/Off-white */
      --color-text-light: var(--color-secondary); /* Electric Blue for lighter text */
      --color-text-inverse: #08040C; /* Text on bright accents */

      --color-input-border: var(--color-secondary);
      --color-input-bg: #2C1A3A;
      --color-input-text: var(--color-text-main);
      
      --color-nav-bg: #100814; /* Darker Nav */
      --color-nav-text: var(--color-secondary);
      --color-nav-hover-bg: var(--color-primary);
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: var(--color-text-inverse);
      --color-border-light: var(--color-secondary);
      --theme-background-image-url-light: url('assets/themes/japan-neon-alley.jpg'); /* User provided image */
      --theme-background-image-url-dark: url('assets/themes/japan-neon-alley.jpg'); /* User provided image */
    }

    /* NEW THEME: Café Parisino */
    html.theme-cafe-parisien {
      --color-primary: #5D4037; /* Dark Brown */
      --color-secondary: #D7CCC8; /* Light Beige */
      --color-accent: #A1887F; /* Muted Brown */
      --color-light-purple: #EFEBE9; /* Very Light Beige (used as light-border equivalent) */
      
      --color-app-bg: #F5F5F5; /* Off-white */
      --color-card-bg: #FFFFFF;
      --color-text-main: #3E2723; /* Darkest Brown */
      --color-text-light: #795548; /* Medium Brown */
      --color-text-inverse: #FFFFFF;
      
      --color-nav-bg: var(--color-primary);
      --color-nav-text: var(--color-secondary);
      --color-nav-hover-bg: #795548; /* Slightly lighter brown for hover */
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #FFFFFF;
      --theme-background-image-url-light: url('assets/themes/cafe-parisien-night.jpg'); /* User provided image */
      --theme-background-image-url-dark: url('assets/themes/cafe-parisien-night.jpg'); /* User provided image for dark mode too */
    }
    html.dark.theme-cafe-parisien {
      --color-primary: #A1887F; 
      --color-secondary: #4E342E; 
      --color-accent: #BCAAA4; 
      --color-light-purple: #3A2E2C; 
      
      --color-app-bg: #261F1E; 
      --color-card-bg: #3E2723; 
      --color-text-main: #D7CCC8; 
      --color-text-light: #A1887F;
      --color-text-inverse: #261F1E;

      --color-nav-bg: var(--color-card-bg);
      --color-nav-text: var(--color-text-main);
      --color-nav-hover-bg: #4E342E;
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: var(--color-text-inverse);
    }

    /* NEW THEME: Fiesta Brasileña */
    html.theme-fiesta-brasil {
      --color-primary: #009688; /* Teal */
      --color-secondary: #FFC107; /* Amber Yellow */
      --color-accent: #FF5722; /* Deep Orange */
      --color-light-purple: #B2DFDB; /* Light Teal (used as light-border equivalent) */
      
      --color-app-bg: #FFF9C4; /* Very Light Yellow */
      --color-card-bg: #FFFFFF;
      --color-text-main: #212121; /* Dark Grey */
      --color-text-light: #00796B; /* Darker Teal */
      --color-text-inverse: #FFFFFF;
      
      --color-nav-bg: var(--color-primary);
      --color-nav-text: #FFFFFF;
      --color-nav-hover-bg: #00796B; /* Darker Teal for hover */
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: #FFFFFF;
      --theme-background-image-url-light: url('assets/themes/fiesta-brasil-light.jpg'); /* Placeholder */
      --theme-background-image-url-dark: url('assets/themes/fiesta-brasil-dark.jpg'); /* Placeholder */
    }
    html.dark.theme-fiesta-brasil {
      --color-primary: #FF5722; 
      --color-secondary: #00796B; 
      --color-accent: #FFEB3B; /* Bright Yellow */
      --color-light-purple: #004D40; 
      
      --color-app-bg: #123C32; 
      --color-card-bg: #004D40; 
      --color-text-main: #FFFDE7; /* Light Cream/Yellow */
      --color-text-light: #FFC107; /* Amber */
      --color-text-inverse: #123C32;

      --color-nav-bg: var(--color-card-bg);
      --color-nav-text: var(--color-text-main);
      --color-nav-hover-bg: #00695C; /* Slightly lighter dark teal */
      --color-nav-active-bg: var(--color-accent);
      --color-nav-active-text: var(--color-text-inverse);
    }


    body {
      font-family: 'Open Sans', sans-serif;
      background-color: var(--color-app-bg); 
      color: var(--color-text-main);
      transition: background-color 0.3s ease, color 0.3s ease;
      /* Background image handling */
      background-image: var(--theme-background-image-url-light);
      background-size: cover;
      background-position: center center;
      background-attachment: fixed;
      background-repeat: no-repeat;
    }
    html.dark body {
      background-image: var(--theme-background-image-url-dark);
    }

    h1, h2, h3, h4, h5, h6, .font-poppins {
      font-family: 'Poppins', sans-serif;
    }
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: var(--color-light-purple);
      opacity: 0.2;
      border-radius: 10px;
    }
    html.dark ::-webkit-scrollbar-track {
      background: #2d3748; /* Darker track for dark mode */
    }
    ::-webkit-scrollbar-thumb {
      background: var(--color-accent);
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: var(--color-secondary);
    }
    html.dark ::-webkit-scrollbar-thumb {
      background: var(--color-primary);
    }
    html.dark ::-webkit-scrollbar-thumb:hover {
      background: var(--color-secondary);
    }


    /* Ensure selects and inputs adapt */
    select, input[type="text"], input[type="date"], input[type="time"], input[type="number"], textarea, input[type="email"], input[type="password"] {
        background-color: var(--color-input-bg) !important;
        border-color: var(--color-input-border) !important;
        color: var(--color-input-text) !important;
        border-width: 1px; /* Ensure border is visible */
    }
    select option { /* May not be stylable consistently across browsers */
        background-color: var(--color-input-bg);
        color: var(--color-input-text);
    }
    input::placeholder, textarea::placeholder {
        color: var(--color-placeholder-text) !important;
    }
    /* Specific overrides for Tailwind classes if needed, or prefer using CSS variables in Tailwind config if possible */
    .bg-white { background-color: var(--color-card-bg); } /* This ensures Tailwind's bg-white respects the theme */
    html.dark .bg-white { background-color: var(--color-card-bg); } /* Explicit for dark mode if needed */
    .text-gray-800 { color: var(--color-text-main); }
    /* Add more specific overrides if Tailwind utilities don't pick up CSS vars directly in all cases */

    /* For html2canvas rendering, ensure modal content has explicit background */
    #year-in-review-content-area {
        background-color: var(--color-card-bg); /* Use the card background color */
        padding: 1rem; /* Ensure padding is part of the captured image */
    }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react/": "https://esm.sh/react@^19.1.0/",
    "@google/genai": "https://esm.sh/@google/genai@^1.8.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@^2.50.2",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.6.3",
    "recharts": "https://esm.sh/recharts@^3.0.2",
    "html2canvas": "https://esm.sh/html2canvas@^1.4.1"
  }
}
</script>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="./index.tsx"></script>
</body>
</html>
