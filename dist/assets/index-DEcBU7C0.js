(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}})();function Iy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mc={exports:{}},gs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function Xx(){if(hh)return gs;hh=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(o,l,d){var p=null;if(d!==void 0&&(p=""+d),l.key!==void 0&&(p=""+l.key),"key"in l){d={};for(var g in l)g!=="key"&&(d[g]=l[g])}else d=l;return l=d.ref,{$$typeof:t,type:o,key:p,ref:l!==void 0?l:null,props:d}}return gs.Fragment=e,gs.jsx=a,gs.jsxs=a,gs}var gh;function Qx(){return gh||(gh=1,Mc.exports=Xx()),Mc.exports}var f=Qx(),Rc={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function Wx(){if(yh)return De;yh=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function G(w,Z,ae){this.props=w,this.context=Z,this.refs=D,this.updater=ae||E}G.prototype.isReactComponent={},G.prototype.setState=function(w,Z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Z,"setState")},G.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function V(){}V.prototype=G.prototype;function j(w,Z,ae){this.props=w,this.context=Z,this.refs=D,this.updater=ae||E}var P=j.prototype=new V;P.constructor=j,N(P,G.prototype),P.isPureReactComponent=!0;var K=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function Q(w,Z,ae,ne,B,se){return ae=se.ref,{$$typeof:t,type:w,key:Z,ref:ae!==void 0?ae:null,props:se}}function Te(w,Z){return Q(w.type,Z,void 0,void 0,void 0,w.props)}function te(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function de(w){var Z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ae){return Z[ae]})}var ue=/\/+/g;function Me(w,Z){return typeof w=="object"&&w!==null&&w.key!=null?de(""+w.key):Z.toString(36)}function ut(){}function me(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ut,ut):(w.status="pending",w.then(function(Z){w.status==="pending"&&(w.status="fulfilled",w.value=Z)},function(Z){w.status==="pending"&&(w.status="rejected",w.reason=Z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function be(w,Z,ae,ne,B){var se=typeof w;(se==="undefined"||se==="boolean")&&(w=null);var W=!1;if(w===null)W=!0;else switch(se){case"bigint":case"string":case"number":W=!0;break;case"object":switch(w.$$typeof){case t:case e:W=!0;break;case x:return W=w._init,be(W(w._payload),Z,ae,ne,B)}}if(W)return B=B(w),W=ne===""?"."+Me(w,0):ne,K(B)?(ae="",W!=null&&(ae=W.replace(ue,"$&/")+"/"),be(B,Z,ae,"",function(vt){return vt})):B!=null&&(te(B)&&(B=Te(B,ae+(B.key==null||w&&w.key===B.key?"":(""+B.key).replace(ue,"$&/")+"/")+W)),Z.push(B)),1;W=0;var Re=ne===""?".":ne+":";if(K(w))for(var Ge=0;Ge<w.length;Ge++)ne=w[Ge],se=Re+Me(ne,Ge),W+=be(ne,Z,ae,se,B);else if(Ge=S(w),typeof Ge=="function")for(w=Ge.call(w),Ge=0;!(ne=w.next()).done;)ne=ne.value,se=Re+Me(ne,Ge++),W+=be(ne,Z,ae,se,B);else if(se==="object"){if(typeof w.then=="function")return be(me(w),Z,ae,ne,B);throw Z=String(w),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return W}function q(w,Z,ae){if(w==null)return w;var ne=[],B=0;return be(w,ne,"","",function(se){return Z.call(ae,se,B++)}),ne}function oe(w){if(w._status===-1){var Z=w._result;Z=Z(),Z.then(function(ae){(w._status===0||w._status===-1)&&(w._status=1,w._result=ae)},function(ae){(w._status===0||w._status===-1)&&(w._status=2,w._result=ae)}),w._status===-1&&(w._status=0,w._result=Z)}if(w._status===1)return w._result.default;throw w._result}var ce=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function je(){}return De.Children={map:q,forEach:function(w,Z,ae){q(w,function(){Z.apply(this,arguments)},ae)},count:function(w){var Z=0;return q(w,function(){Z++}),Z},toArray:function(w){return q(w,function(Z){return Z})||[]},only:function(w){if(!te(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},De.Component=G,De.Fragment=a,De.Profiler=l,De.PureComponent=j,De.StrictMode=o,De.Suspense=v,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,De.__COMPILER_RUNTIME={__proto__:null,c:function(w){return F.H.useMemoCache(w)}},De.cache=function(w){return function(){return w.apply(null,arguments)}},De.cloneElement=function(w,Z,ae){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ne=N({},w.props),B=w.key,se=void 0;if(Z!=null)for(W in Z.ref!==void 0&&(se=void 0),Z.key!==void 0&&(B=""+Z.key),Z)!ie.call(Z,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&Z.ref===void 0||(ne[W]=Z[W]);var W=arguments.length-2;if(W===1)ne.children=ae;else if(1<W){for(var Re=Array(W),Ge=0;Ge<W;Ge++)Re[Ge]=arguments[Ge+2];ne.children=Re}return Q(w.type,B,void 0,void 0,se,ne)},De.createContext=function(w){return w={$$typeof:p,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},De.createElement=function(w,Z,ae){var ne,B={},se=null;if(Z!=null)for(ne in Z.key!==void 0&&(se=""+Z.key),Z)ie.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(B[ne]=Z[ne]);var W=arguments.length-2;if(W===1)B.children=ae;else if(1<W){for(var Re=Array(W),Ge=0;Ge<W;Ge++)Re[Ge]=arguments[Ge+2];B.children=Re}if(w&&w.defaultProps)for(ne in W=w.defaultProps,W)B[ne]===void 0&&(B[ne]=W[ne]);return Q(w,se,void 0,void 0,null,B)},De.createRef=function(){return{current:null}},De.forwardRef=function(w){return{$$typeof:g,render:w}},De.isValidElement=te,De.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:oe}},De.memo=function(w,Z){return{$$typeof:h,type:w,compare:Z===void 0?null:Z}},De.startTransition=function(w){var Z=F.T,ae={};F.T=ae;try{var ne=w(),B=F.S;B!==null&&B(ae,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(je,ce)}catch(se){ce(se)}finally{F.T=Z}},De.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},De.use=function(w){return F.H.use(w)},De.useActionState=function(w,Z,ae){return F.H.useActionState(w,Z,ae)},De.useCallback=function(w,Z){return F.H.useCallback(w,Z)},De.useContext=function(w){return F.H.useContext(w)},De.useDebugValue=function(){},De.useDeferredValue=function(w,Z){return F.H.useDeferredValue(w,Z)},De.useEffect=function(w,Z,ae){var ne=F.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(w,Z)},De.useId=function(){return F.H.useId()},De.useImperativeHandle=function(w,Z,ae){return F.H.useImperativeHandle(w,Z,ae)},De.useInsertionEffect=function(w,Z){return F.H.useInsertionEffect(w,Z)},De.useLayoutEffect=function(w,Z){return F.H.useLayoutEffect(w,Z)},De.useMemo=function(w,Z){return F.H.useMemo(w,Z)},De.useOptimistic=function(w,Z){return F.H.useOptimistic(w,Z)},De.useReducer=function(w,Z,ae){return F.H.useReducer(w,Z,ae)},De.useRef=function(w){return F.H.useRef(w)},De.useState=function(w){return F.H.useState(w)},De.useSyncExternalStore=function(w,Z,ae){return F.H.useSyncExternalStore(w,Z,ae)},De.useTransition=function(){return F.H.useTransition()},De.version="19.1.0",De}var vh;function ud(){return vh||(vh=1,Rc.exports=Wx()),Rc.exports}var _=ud();const ky=Iy(_);var Dc={exports:{}},ys={},Ic={exports:{}},kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function eT(){return xh||(xh=1,function(t){function e(q,oe){var ce=q.length;q.push(oe);e:for(;0<ce;){var je=ce-1>>>1,w=q[je];if(0<l(w,oe))q[je]=oe,q[ce]=w,ce=je;else break e}}function a(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var oe=q[0],ce=q.pop();if(ce!==oe){q[0]=ce;e:for(var je=0,w=q.length,Z=w>>>1;je<Z;){var ae=2*(je+1)-1,ne=q[ae],B=ae+1,se=q[B];if(0>l(ne,ce))B<w&&0>l(se,ne)?(q[je]=se,q[B]=ce,je=B):(q[je]=ne,q[ae]=ce,je=ae);else if(B<w&&0>l(se,ce))q[je]=se,q[B]=ce,je=B;else break e}}return oe}function l(q,oe){var ce=q.sortIndex-oe.sortIndex;return ce!==0?ce:q.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();t.unstable_now=function(){return p.now()-g}}var v=[],h=[],x=1,T=null,S=3,E=!1,N=!1,D=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var oe=a(h);oe!==null;){if(oe.callback===null)o(h);else if(oe.startTime<=q)o(h),oe.sortIndex=oe.expirationTime,e(v,oe);else break;oe=a(h)}}function F(q){if(D=!1,K(q),!N)if(a(v)!==null)N=!0,ie||(ie=!0,Me());else{var oe=a(h);oe!==null&&be(F,oe.startTime-q)}}var ie=!1,Q=-1,Te=5,te=-1;function de(){return G?!0:!(t.unstable_now()-te<Te)}function ue(){if(G=!1,ie){var q=t.unstable_now();te=q;var oe=!0;try{e:{N=!1,D&&(D=!1,j(Q),Q=-1),E=!0;var ce=S;try{t:{for(K(q),T=a(v);T!==null&&!(T.expirationTime>q&&de());){var je=T.callback;if(typeof je=="function"){T.callback=null,S=T.priorityLevel;var w=je(T.expirationTime<=q);if(q=t.unstable_now(),typeof w=="function"){T.callback=w,K(q),oe=!0;break t}T===a(v)&&o(v),K(q)}else o(v);T=a(v)}if(T!==null)oe=!0;else{var Z=a(h);Z!==null&&be(F,Z.startTime-q),oe=!1}}break e}finally{T=null,S=ce,E=!1}oe=void 0}}finally{oe?Me():ie=!1}}}var Me;if(typeof P=="function")Me=function(){P(ue)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,me=ut.port2;ut.port1.onmessage=ue,Me=function(){me.postMessage(null)}}else Me=function(){V(ue,0)};function be(q,oe){Q=V(function(){q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(q){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var ce=S;S=oe;try{return q()}finally{S=ce}},t.unstable_requestPaint=function(){G=!0},t.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=S;S=q;try{return oe()}finally{S=ce}},t.unstable_scheduleCallback=function(q,oe,ce){var je=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?je+ce:je):ce=je,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ce+w,q={id:x++,callback:oe,priorityLevel:q,startTime:ce,expirationTime:w,sortIndex:-1},ce>je?(q.sortIndex=ce,e(h,q),a(v)===null&&q===a(h)&&(D?(j(Q),Q=-1):D=!0,be(F,ce-je))):(q.sortIndex=w,e(v,q),N||E||(N=!0,ie||(ie=!0,Me()))),q},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(q){var oe=S;return function(){var ce=S;S=oe;try{return q.apply(this,arguments)}finally{S=ce}}}}(kc)),kc}var Th;function tT(){return Th||(Th=1,Ic.exports=eT()),Ic.exports}var Lc={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function nT(){if(Ch)return Pt;Ch=1;var t=ud();function e(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(v,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:v,containerInfo:h,implementation:x}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pt.createPortal=function(v,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(v,h,null,x)},Pt.flushSync=function(v){var h=p.T,x=o.p;try{if(p.T=null,o.p=2,v)return v()}finally{p.T=h,o.p=x,o.d.f()}},Pt.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(v,h))},Pt.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Pt.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?o.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:E}):x==="script"&&o.d.X(v,{crossOrigin:T,integrity:S,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pt.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=g(h.as,h.crossOrigin);o.d.M(v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(v)},Pt.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin);o.d.L(v,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pt.preloadModule=function(v,h){if(typeof v=="string")if(h){var x=g(h.as,h.crossOrigin);o.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(v)},Pt.requestFormReset=function(v){o.d.r(v)},Pt.unstable_batchedUpdates=function(v,h){return v(h)},Pt.useFormState=function(v,h,x){return p.H.useFormState(v,h,x)},Pt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Pt.version="19.1.0",Pt}var Sh;function aT(){if(Sh)return Lc.exports;Sh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lc.exports=nT(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function iT(){if(bh)return ys;bh=1;var t=tT(),e=ud(),a=aT();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function p(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(d(n)!==n)throw Error(o(188))}function v(n){var i=n.alternate;if(!i){if(i=d(n),i===null)throw Error(o(188));return i!==n?null:n}for(var s=n,c=i;;){var m=s.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){s=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===s)return g(m),n;if(y===c)return g(m),i;y=y.sibling}throw Error(o(188))}if(s.return!==c.return)s=m,c=y;else{for(var C=!1,b=m.child;b;){if(b===s){C=!0,s=m,c=y;break}if(b===c){C=!0,c=m,s=y;break}b=b.sibling}if(!C){for(b=y.child;b;){if(b===s){C=!0,s=y,c=m;break}if(b===c){C=!0,c=y,s=m;break}b=b.sibling}if(!C)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:i}function h(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=h(n),i!==null)return i;n=n.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),P=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Me(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Symbol.for("react.client.reference");function me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ut?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case G:return"Profiler";case D:return"StrictMode";case F:return"Suspense";case ie:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case P:return(n.displayName||"Context")+".Provider";case j:return(n._context.displayName||"Context")+".Consumer";case K:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return i=n.displayName||null,i!==null?i:me(n.type)||"Memo";case Te:i=n._payload,n=n._init;try{return me(n(i))}catch{}}return null}var be=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},je=[],w=-1;function Z(n){return{current:n}}function ae(n){0>w||(n.current=je[w],je[w]=null,w--)}function ne(n,i){w++,je[w]=n.current,n.current=i}var B=Z(null),se=Z(null),W=Z(null),Re=Z(null);function Ge(n,i){switch(ne(W,i),ne(se,n),ne(B,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Bp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Bp(i),n=Fp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(B),ne(B,n)}function vt(){ae(B),ae(se),ae(W)}function jt(n){n.memoizedState!==null&&ne(Re,n);var i=B.current,s=Fp(i,n.type);i!==s&&(ne(se,n),ne(B,s))}function Ft(n){se.current===n&&(ae(B),ae(se)),Re.current===n&&(ae(Re),ds._currentValue=ce)}var fa=Object.prototype.hasOwnProperty,Tn=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Nn=t.unstable_shouldYield,ma=t.unstable_requestPaint,qt=t.unstable_now,kt=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,Gn=t.unstable_UserBlockingPriority,zt=t.unstable_NormalPriority,pa=t.unstable_LowPriority,ha=t.unstable_IdlePriority,ga=t.log,Fa=t.unstable_setDisableYieldValue,Bn=null,re=null;function M(n){if(typeof ga=="function"&&Fa(n),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Bn,n)}catch{}}var k=Math.clz32?Math.clz32:fe,Y=Math.log,H=Math.LN2;function fe(n){return n>>>=0,n===0?32:31-(Y(n)/H|0)|0}var ge=256,Ee=4194304;function Ne(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xt(n,i,s){var c=n.pendingLanes;if(c===0)return 0;var m=0,y=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var b=c&134217727;return b!==0?(c=b&~y,c!==0?m=Ne(c):(C&=b,C!==0?m=Ne(C):s||(s=b&~n,s!==0&&(m=Ne(s))))):(b=c&~y,b!==0?m=Ne(b):C!==0?m=Ne(C):s||(s=c&~n,s!==0&&(m=Ne(s)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,s=i&-i,y>=s||y===32&&(s&4194048)!==0)?i:m}function He(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ke(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var n=ge;return ge<<=1,(ge&4194048)===0&&(ge=256),n}function bt(){var n=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),n}function Fn(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Hn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jv(n,i,s,c,m,y){var C=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var b=n.entanglements,A=n.expirationTimes,U=n.hiddenUpdates;for(s=C&~s;0<s;){var J=31-k(s),X=1<<J;b[J]=0,A[J]=-1;var O=U[J];if(O!==null)for(U[J]=null,J=0;J<O.length;J++){var z=O[J];z!==null&&(z.lane&=-536870913)}s&=~X}c!==0&&Nd(n,c,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(C&~i))}function Nd(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-k(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function wd(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var c=31-k(s),m=1<<c;m&i|n[c]&i&&(n[c]|=i),s&=~m}}function xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Md(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:uh(n.type))}function qv(n,i){var s=oe.p;try{return oe.p=n,i()}finally{oe.p=s}}var ya=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ya,Yt="__reactProps$"+ya,vi="__reactContainer$"+ya,Cr="__reactEvents$"+ya,zv="__reactListeners$"+ya,Gv="__reactHandles$"+ya,Rd="__reactResources$"+ya,So="__reactMarker$"+ya;function Sr(n){delete n[Lt],delete n[Yt],delete n[Cr],delete n[zv],delete n[Gv]}function xi(n){var i=n[Lt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[vi]||s[Lt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=$p(n);n!==null;){if(s=n[Lt])return s;n=$p(n)}return i}n=s,s=n.parentNode}return null}function Ti(n){if(n=n[Lt]||n[vi]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bo(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function Ci(n){var i=n[Rd];return i||(i=n[Rd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[So]=!0}var Dd=new Set,Id={};function Ha(n,i){Si(n,i),Si(n+"Capture",i)}function Si(n,i){for(Id[n]=i,n=0;n<i.length;n++)Dd.add(i[n])}var Bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Ld={};function Fv(n){return fa.call(Ld,n)?!0:fa.call(kd,n)?!1:Bv.test(n)?Ld[n]=!0:(kd[n]=!0,!1)}function ks(n,i,s){if(Fv(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Ls(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Yn(n,i,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+c)}}var br,Ud;function bi(n){if(br===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);br=i&&i[1]||"",Ud=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+n+Ud}var _r=!1;function Er(n,i){if(!n||_r)return"";_r=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(z){var O=z}Reflect.construct(n,[],X)}else{try{X.call()}catch(z){O=z}n.call(X.prototype)}}else{try{throw Error()}catch(z){O=z}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(z){if(z&&O&&typeof z.stack=="string")return[z.stack,O.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],b=y[1];if(C&&b){var A=C.split(`
`),U=b.split(`
`);for(m=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(c===A.length||m===U.length)for(c=A.length-1,m=U.length-1;1<=c&&0<=m&&A[c]!==U[m];)m--;for(;1<=c&&0<=m;c--,m--)if(A[c]!==U[m]){if(c!==1||m!==1)do if(c--,m--,0>m||A[c]!==U[m]){var J=`
`+A[c].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=c&&0<=m);break}}}finally{_r=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?bi(s):""}function Hv(n){switch(n.tag){case 26:case 27:case 5:return bi(n.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Er(n.type,!1);case 11:return Er(n.type.render,!1);case 1:return Er(n.type,!0);case 31:return bi("Activity");default:return""}}function Pd(n){try{var i="";do i+=Hv(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yv(n){var i=Vd(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,y=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Us(n){n._valueTracker||(n._valueTracker=Yv(n))}function Od(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return n&&(c=Vd(n)?n.checked?"true":"false":n.value),n=c,n!==s?(i.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Jv=/[\n"\\]/g;function rn(n){return n.replace(Jv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(n,i,s,c,m,y,C,b){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ln(i)):n.value!==""+ln(i)&&(n.value=""+ln(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Nr(n,C,ln(i)):s!=null?Nr(n,C,ln(s)):c!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+ln(b):n.removeAttribute("name")}function jd(n,i,s,c,m,y,C,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;s=s!=null?""+ln(s):"",i=i!=null?""+ln(i):s,b||i===n.value||(n.value=i),n.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=b?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function Nr(n,i,s){i==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function _i(n,i,s,c){if(n=n.options,i){i={};for(var m=0;m<s.length;m++)i["$"+s[m]]=!0;for(s=0;s<n.length;s++)m=i.hasOwnProperty("$"+n[s].value),n[s].selected!==m&&(n[s].selected=m),m&&c&&(n[s].defaultSelected=!0)}else{for(s=""+ln(s),i=null,m=0;m<n.length;m++){if(n[m].value===s){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function qd(n,i,s){if(i!=null&&(i=""+ln(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+ln(s):""}function zd(n,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(o(92));if(be(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=ln(i),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function Ei(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var $v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gd(n,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,s):typeof s!="number"||s===0||$v.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Bd(n,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&s[m]!==c&&Gd(n,m,c)}else for(var y in i)i.hasOwnProperty(y)&&Gd(n,y,i[y])}function wr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(n){return Kv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mr=null;function Rr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ai=null,Ni=null;function Fd(n){var i=Ti(n);if(i&&(n=i.stateNode)){var s=n[Yt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ar(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==n&&c.form===n.form){var m=c[Yt]||null;if(!m)throw Error(o(90));Ar(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===n.form&&Od(c)}break e;case"textarea":qd(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&_i(n,!!s.multiple,i,!1)}}}var Dr=!1;function Hd(n,i,s){if(Dr)return n(i,s);Dr=!0;try{var c=n(i);return c}finally{if(Dr=!1,(Ai!==null||Ni!==null)&&(Sl(),Ai&&(i=Ai,n=Ni,Ni=Ai=null,Fd(i),n)))for(i=0;i<n.length;i++)Fd(n[i])}}function _o(n,i){var s=n.stateNode;if(s===null)return null;var c=s[Yt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Jn)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Ir=!1}var va=null,kr=null,Os=null;function Yd(){if(Os)return Os;var n,i=kr,s=i.length,c,m="value"in va?va.value:va.textContent,y=m.length;for(n=0;n<s&&i[n]===m[n];n++);var C=s-n;for(c=1;c<=C&&i[s-c]===m[y-c];c++);return Os=m.slice(n,1<c?1-c:void 0)}function js(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function qs(){return!0}function Jd(){return!1}function Jt(n){function i(s,c,m,y,C){this._reactName=s,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(s=n[b],this[b]=s?s(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qs:Jd,this.isPropagationStopped=Jd,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),i}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Jt(Ya),Ao=x({},Ya,{view:0,detail:0}),Xv=Jt(Ao),Lr,Ur,No,Gs=x({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==No&&(No&&n.type==="mousemove"?(Lr=n.screenX-No.screenX,Ur=n.screenY-No.screenY):Ur=Lr=0,No=n),Lr)},movementY:function(n){return"movementY"in n?n.movementY:Ur}}),$d=Jt(Gs),Qv=x({},Gs,{dataTransfer:0}),Wv=Jt(Qv),e0=x({},Ao,{relatedTarget:0}),Pr=Jt(e0),t0=x({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=Jt(t0),a0=x({},Ya,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),i0=Jt(a0),o0=x({},Ya,{data:0}),Zd=Jt(o0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=r0[n])?!!i[n]:!1}function Vr(){return u0}var c0=x({},Ao,{key:function(n){if(n.key){var i=s0[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?l0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(n){return n.type==="keypress"?js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),d0=Jt(c0),f0=x({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Jt(f0),m0=x({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),p0=Jt(m0),h0=x({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=Jt(h0),y0=x({},Gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=Jt(y0),x0=x({},Ya,{newState:0,oldState:0}),T0=Jt(x0),C0=[9,13,27,32],Or=Jn&&"CompositionEvent"in window,wo=null;Jn&&"documentMode"in document&&(wo=document.documentMode);var S0=Jn&&"TextEvent"in window&&!wo,Xd=Jn&&(!Or||wo&&8<wo&&11>=wo),Qd=" ",Wd=!1;function ef(n,i){switch(n){case"keyup":return C0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wi=!1;function b0(n,i){switch(n){case"compositionend":return tf(i);case"keypress":return i.which!==32?null:(Wd=!0,Qd);case"textInput":return n=i.data,n===Qd&&Wd?null:n;default:return null}}function _0(n,i){if(wi)return n==="compositionend"||!Or&&ef(n,i)?(n=Yd(),Os=kr=va=null,wi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xd&&i.locale!=="ko"?null:i.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!E0[n.type]:i==="textarea"}function af(n,i,s,c){Ai?Ni?Ni.push(c):Ni=[c]:Ai=c,i=wl(i,"onChange"),0<i.length&&(s=new zs("onChange","change",null,s,c),n.push({event:s,listeners:i}))}var Mo=null,Ro=null;function A0(n){Op(n,0)}function Bs(n){var i=bo(n);if(Od(i))return n}function of(n,i){if(n==="change")return i}var sf=!1;if(Jn){var jr;if(Jn){var qr="oninput"in document;if(!qr){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),qr=typeof lf.oninput=="function"}jr=qr}else jr=!1;sf=jr&&(!document.documentMode||9<document.documentMode)}function rf(){Mo&&(Mo.detachEvent("onpropertychange",uf),Ro=Mo=null)}function uf(n){if(n.propertyName==="value"&&Bs(Ro)){var i=[];af(i,Ro,n,Rr(n)),Hd(A0,i)}}function N0(n,i,s){n==="focusin"?(rf(),Mo=i,Ro=s,Mo.attachEvent("onpropertychange",uf)):n==="focusout"&&rf()}function w0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bs(Ro)}function M0(n,i){if(n==="click")return Bs(i)}function R0(n,i){if(n==="input"||n==="change")return Bs(i)}function D0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Xt=typeof Object.is=="function"?Object.is:D0;function Do(n,i){if(Xt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var m=s[c];if(!fa.call(i,m)||!Xt(n[m],i[m]))return!1}return!0}function cf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function df(n,i){var s=cf(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=i&&c>=i)return{node:s,offset:i-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cf(s)}}function ff(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ff(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function mf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ps(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ps(n.document)}return i}function zr(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var I0=Jn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Gr=null,Io=null,Br=!1;function pf(n,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Br||Mi==null||Mi!==Ps(c)||(c=Mi,"selectionStart"in c&&zr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Io&&Do(Io,c)||(Io=c,c=wl(Gr,"onSelect"),0<c.length&&(i=new zs("onSelect","select",null,i,s),n.push({event:i,listeners:c}),i.target=Mi)))}function Ja(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ri={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Fr={},hf={};Jn&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function $a(n){if(Fr[n])return Fr[n];if(!Ri[n])return n;var i=Ri[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in hf)return Fr[n]=i[s];return n}var gf=$a("animationend"),yf=$a("animationiteration"),vf=$a("animationstart"),k0=$a("transitionrun"),L0=$a("transitionstart"),U0=$a("transitioncancel"),xf=$a("transitionend"),Tf=new Map,Hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hr.push("scrollEnd");function Cn(n,i){Tf.set(n,i),Ha(i,[n])}var Cf=new WeakMap;function un(n,i){if(typeof n=="object"&&n!==null){var s=Cf.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Pd(i)},Cf.set(n,i),i)}return{value:n,source:i,stack:Pd(i)}}var cn=[],Di=0,Yr=0;function Fs(){for(var n=Di,i=Yr=Di=0;i<n;){var s=cn[i];cn[i++]=null;var c=cn[i];cn[i++]=null;var m=cn[i];cn[i++]=null;var y=cn[i];if(cn[i++]=null,c!==null&&m!==null){var C=c.pending;C===null?m.next=m:(m.next=C.next,C.next=m),c.pending=m}y!==0&&Sf(s,m,y)}}function Hs(n,i,s,c){cn[Di++]=n,cn[Di++]=i,cn[Di++]=s,cn[Di++]=c,Yr|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Jr(n,i,s,c){return Hs(n,i,s,c),Ys(n)}function Ii(n,i){return Hs(n,null,null,i),Ys(n)}function Sf(n,i,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var m=!1,y=n.return;y!==null;)y.childLanes|=s,c=y.alternate,c!==null&&(c.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-k(s),n=y.hiddenUpdates,c=n[m],c===null?n[m]=[i]:c.push(i),i.lane=s|536870912),y):null}function Ys(n){if(50<as)throw as=0,Wu=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ki={};function P0(n,i,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,i,s,c){return new P0(n,i,s,c)}function $r(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $n(n,i){var s=n.alternate;return s===null?(s=Qt(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function bf(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Js(n,i,s,c,m,y){var C=0;if(c=n,typeof n=="function")$r(n)&&(C=1);else if(typeof n=="string")C=Ox(n,s,B.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=Qt(31,s,i,m),n.elementType=te,n.lanes=y,n;case N:return Za(s.children,m,y,i);case D:C=8,m|=24;break;case G:return n=Qt(12,s,i,m|2),n.elementType=G,n.lanes=y,n;case F:return n=Qt(13,s,i,m),n.elementType=F,n.lanes=y,n;case ie:return n=Qt(19,s,i,m),n.elementType=ie,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:case P:C=10;break e;case j:C=9;break e;case K:C=11;break e;case Q:C=14;break e;case Te:C=16,c=null;break e}C=29,s=Error(o(130,n===null?"null":typeof n,"")),c=null}return i=Qt(C,s,i,m),i.elementType=n,i.type=c,i.lanes=y,i}function Za(n,i,s,c){return n=Qt(7,n,c,i),n.lanes=s,n}function Zr(n,i,s){return n=Qt(6,n,null,i),n.lanes=s,n}function Kr(n,i,s){return i=Qt(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Li=[],Ui=0,$s=null,Zs=0,dn=[],fn=0,Ka=null,Zn=1,Kn="";function Xa(n,i){Li[Ui++]=Zs,Li[Ui++]=$s,$s=n,Zs=i}function _f(n,i,s){dn[fn++]=Zn,dn[fn++]=Kn,dn[fn++]=Ka,Ka=n;var c=Zn;n=Kn;var m=32-k(c)-1;c&=~(1<<m),s+=1;var y=32-k(i)+m;if(30<y){var C=m-m%5;y=(c&(1<<C)-1).toString(32),c>>=C,m-=C,Zn=1<<32-k(i)+m|s<<m|c,Kn=y+n}else Zn=1<<y|s<<m|c,Kn=n}function Xr(n){n.return!==null&&(Xa(n,1),_f(n,1,0))}function Qr(n){for(;n===$s;)$s=Li[--Ui],Li[Ui]=null,Zs=Li[--Ui],Li[Ui]=null;for(;n===Ka;)Ka=dn[--fn],dn[fn]=null,Kn=dn[--fn],dn[fn]=null,Zn=dn[--fn],dn[fn]=null}var Gt=null,mt=null,Ze=!1,Qa=null,wn=!1,Wr=Error(o(519));function Wa(n){var i=Error(o(418,""));throw Uo(un(i,n)),Wr}function Ef(n){var i=n.stateNode,s=n.type,c=n.memoizedProps;switch(i[Lt]=n,i[Yt]=c,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<os.length;s++)ze(os[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),jd(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Us(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),zd(i,c.value,c.defaultValue,c.children),Us(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||Gp(i.textContent,s)?(c.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),c.onScroll!=null&&ze("scroll",i),c.onScrollEnd!=null&&ze("scrollend",i),c.onClick!=null&&(i.onclick=Ml),i=!0):i=!1,i||Wa(n)}function Af(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Gt=Gt.return}}function ko(n){if(n!==Gt)return!1;if(!Ze)return Af(n),Ze=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||hc(n.type,n.memoizedProps)),s=!s),s&&mt&&Wa(n),Af(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){mt=bn(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}mt=null}}else i===27?(i=mt,La(n.type)?(n=xc,xc=null,mt=n):mt=i):mt=Gt?bn(n.stateNode.nextSibling):null;return!0}function Lo(){mt=Gt=null,Ze=!1}function Nf(){var n=Qa;return n!==null&&(Kt===null?Kt=n:Kt.push.apply(Kt,n),Qa=null),n}function Uo(n){Qa===null?Qa=[n]:Qa.push(n)}var eu=Z(null),ei=null,Xn=null;function xa(n,i,s){ne(eu,i._currentValue),i._currentValue=s}function Qn(n){n._currentValue=eu.current,ae(eu)}function tu(n,i,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===s)break;n=n.return}}function nu(n,i,s,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var C=m.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=m;for(var A=0;A<i.length;A++)if(b.context===i[A]){y.lanes|=s,b=y.alternate,b!==null&&(b.lanes|=s),tu(y.return,s,n),c||(C=null);break e}y=b.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(o(341));C.lanes|=s,y=C.alternate,y!==null&&(y.lanes|=s),tu(C,s,n),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===n){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Po(n,i,s,c){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var b=m.type;Xt(m.pendingProps.value,C.value)||(n!==null?n.push(b):n=[b])}}else if(m===Re.current){if(C=m.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(ds):n=[ds])}m=m.return}n!==null&&nu(i,n,s,c),i.flags|=262144}function Ks(n){for(n=n.firstContext;n!==null;){if(!Xt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ti(n){ei=n,Xn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ut(n){return wf(ei,n)}function Xs(n,i){return ei===null&&ti(n),wf(n,i)}function wf(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Xn===null){if(n===null)throw Error(o(308));Xn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Xn=Xn.next=i;return s}var V0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},O0=t.unstable_scheduleCallback,j0=t.unstable_NormalPriority,_t={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new V0,data:new Map,refCount:0}}function Vo(n){n.refCount--,n.refCount===0&&O0(j0,function(){n.controller.abort()})}var Oo=null,iu=0,Pi=0,Vi=null;function q0(n,i){if(Oo===null){var s=Oo=[];iu=0,Pi=sc(),Vi={status:"pending",value:void 0,then:function(c){s.push(c)}}}return iu++,i.then(Mf,Mf),i}function Mf(){if(--iu===0&&Oo!==null){Vi!==null&&(Vi.status="fulfilled");var n=Oo;Oo=null,Pi=0,Vi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function z0(n,i){var s=[],c={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<s.length;m++)(0,s[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),c}var Rf=q.S;q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&q0(n,i),Rf!==null&&Rf(n,i)};var ni=Z(null);function ou(){var n=ni.current;return n!==null?n:st.pooledCache}function Qs(n,i){i===null?ne(ni,ni.current):ne(ni,i.pool)}function Df(){var n=ou();return n===null?null:{parent:_t._currentValue,pool:n}}var jo=Error(o(460)),If=Error(o(474)),Ws=Error(o(542)),su={then:function(){}};function kf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function el(){}function Lf(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(el,el),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Pf(n),n;default:if(typeof i.status=="string")i.then(el,el);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Pf(n),n}throw qo=i,jo}}var qo=null;function Uf(){if(qo===null)throw Error(o(459));var n=qo;return qo=null,n}function Pf(n){if(n===jo||n===Ws)throw Error(o(483))}var Ta=!1;function lu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ca(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sa(n,i,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Ys(n),Sf(n,null,s),i}return Hs(n,c,i,s),Ys(n)}function zo(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,wd(n,s)}}function uu(n,i){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var m=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?m=y=C:y=y.next=C,s=s.next}while(s!==null);y===null?m=y=i:y=y.next=i}else m=y=i;s={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var cu=!1;function Go(){if(cu){var n=Vi;if(n!==null)throw n}}function Bo(n,i,s,c){cu=!1;var m=n.updateQueue;Ta=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var A=b,U=A.next;A.next=null,C===null?y=U:C.next=U,C=A;var J=n.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==C&&(b===null?J.firstBaseUpdate=U:b.next=U,J.lastBaseUpdate=A))}if(y!==null){var X=m.baseState;C=0,J=U=A=null,b=y;do{var O=b.lane&-536870913,z=O!==b.lane;if(z?(Ye&O)===O:(c&O)===O){O!==0&&O===Pi&&(cu=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=n,Ce=b;O=i;var it=s;switch(Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){X=_e.call(it,X,O);break e}X=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,O=typeof _e=="function"?_e.call(it,X,O):_e,O==null)break e;X=x({},X,O);break e;case 2:Ta=!0}}O=b.callback,O!==null&&(n.flags|=64,z&&(n.flags|=8192),z=m.callbacks,z===null?m.callbacks=[O]:z.push(O))}else z={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(U=J=z,A=X):J=J.next=z,C|=O;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;z=b,b=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);J===null&&(A=X),m.baseState=A,m.firstBaseUpdate=U,m.lastBaseUpdate=J,y===null&&(m.shared.lanes=0),Ra|=C,n.lanes=C,n.memoizedState=X}}function Vf(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Of(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Vf(s[n],i)}var Oi=Z(null),tl=Z(0);function jf(n,i){n=oa,ne(tl,n),ne(Oi,i),oa=n|i.baseLanes}function du(){ne(tl,oa),ne(Oi,Oi.current)}function fu(){oa=tl.current,ae(Oi),ae(tl)}var ba=0,Ve=null,nt=null,Tt=null,nl=!1,ji=!1,ai=!1,al=0,Fo=0,qi=null,G0=0;function gt(){throw Error(o(321))}function mu(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Xt(n[s],i[s]))return!1;return!0}function pu(n,i,s,c,m,y){return ba=y,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?Sm:bm,ai=!1,y=s(c,m),ai=!1,ji&&(y=zf(i,s,c,m)),qf(n),y}function qf(n){q.H=ul;var i=nt!==null&&nt.next!==null;if(ba=0,Tt=nt=Ve=null,nl=!1,Fo=0,qi=null,i)throw Error(o(300));n===null||Nt||(n=n.dependencies,n!==null&&Ks(n)&&(Nt=!0))}function zf(n,i,s,c){Ve=n;var m=0;do{if(ji&&(qi=null),Fo=0,ji=!1,25<=m)throw Error(o(301));if(m+=1,Tt=nt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=Z0,y=i(s,c)}while(ji);return y}function B0(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?Ho(i):i,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ve.flags|=1024),i}function hu(){var n=al!==0;return al=0,n}function gu(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function yu(n){if(nl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nl=!1}ba=0,Tt=nt=Ve=null,ji=!1,Fo=al=0,qi=null}function $t(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ve.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function Ct(){if(nt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var i=Tt===null?Ve.memoizedState:Tt.next;if(i!==null)Tt=i,nt=n;else{if(n===null)throw Ve.alternate===null?Error(o(467)):Error(o(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Tt===null?Ve.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(n){var i=Fo;return Fo+=1,qi===null&&(qi=[]),n=Lf(qi,n,i),i=Ve,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Sm:bm),n}function il(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ho(n);if(n.$$typeof===P)return Ut(n)}throw Error(o(438,String(n)))}function xu(n){var i=null,s=Ve.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=vu(),Ve.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),c=0;c<n;c++)s[c]=de;return i.index++,s}function Wn(n,i){return typeof i=="function"?i(n):i}function ol(n){var i=Ct();return Tu(i,nt,n)}function Tu(n,i,s){var c=n.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var m=n.baseQueue,y=c.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}i.baseQueue=m=y,c.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var b=C=null,A=null,U=i,J=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Ye&X)===X:(ba&X)===X){var O=U.revertLane;if(O===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Pi&&(J=!0);else if((ba&O)===O){U=U.next,O===Pi&&(J=!0);continue}else X={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(b=A=X,C=y):A=A.next=X,Ve.lanes|=O,Ra|=O;X=U.action,ai&&s(y,X),y=U.hasEagerState?U.eagerState:s(y,X)}else O={lane:X,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(b=A=O,C=y):A=A.next=O,Ve.lanes|=X,Ra|=X;U=U.next}while(U!==null&&U!==i);if(A===null?C=y:A.next=b,!Xt(y,n.memoizedState)&&(Nt=!0,J&&(s=Vi,s!==null)))throw s;n.memoizedState=y,n.baseState=C,n.baseQueue=A,c.lastRenderedState=y}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Cu(n){var i=Ct(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var c=s.dispatch,m=s.pending,y=i.memoizedState;if(m!==null){s.pending=null;var C=m=m.next;do y=n(y,C.action),C=C.next;while(C!==m);Xt(y,i.memoizedState)||(Nt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),s.lastRenderedState=y}return[y,c]}function Gf(n,i,s){var c=Ve,m=Ct(),y=Ze;if(y){if(s===void 0)throw Error(o(407));s=s()}else s=i();var C=!Xt((nt||m).memoizedState,s);C&&(m.memoizedState=s,Nt=!0),m=m.queue;var b=Hf.bind(null,c,m,n);if(Yo(2048,8,b,[n]),m.getSnapshot!==i||C||Tt!==null&&Tt.memoizedState.tag&1){if(c.flags|=2048,zi(9,sl(),Ff.bind(null,c,m,s,i),null),st===null)throw Error(o(349));y||(ba&124)!==0||Bf(c,i,s)}return s}function Bf(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ve.updateQueue,i===null?(i=vu(),Ve.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Ff(n,i,s,c){i.value=s,i.getSnapshot=c,Yf(i)&&Jf(n)}function Hf(n,i,s){return s(function(){Yf(i)&&Jf(n)})}function Yf(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Xt(n,s)}catch{return!0}}function Jf(n){var i=Ii(n,2);i!==null&&an(i,n,2)}function Su(n){var i=$t();if(typeof n=="function"){var s=n;if(n=s(),ai){M(!0);try{s()}finally{M(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},i}function $f(n,i,s,c){return n.baseState=s,Tu(n,nt,typeof c=="function"?c:Wn)}function F0(n,i,s,c,m){if(rl(n))throw Error(o(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};q.T!==null?s(!0):y.isTransition=!1,c(y),s=i.pending,s===null?(y.next=i.pending=y,Zf(i,y)):(y.next=s.next,i.pending=s.next=y)}}function Zf(n,i){var s=i.action,c=i.payload,m=n.state;if(i.isTransition){var y=q.T,C={};q.T=C;try{var b=s(m,c),A=q.S;A!==null&&A(C,b),Kf(n,i,b)}catch(U){bu(n,i,U)}finally{q.T=y}}else try{y=s(m,c),Kf(n,i,y)}catch(U){bu(n,i,U)}}function Kf(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Xf(n,i,c)},function(c){return bu(n,i,c)}):Xf(n,i,s)}function Xf(n,i,s){i.status="fulfilled",i.value=s,Qf(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Zf(n,s)))}function bu(n,i,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,Qf(i),i=i.next;while(i!==c)}n.action=null}function Qf(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Wf(n,i){return i}function em(n,i){if(Ze){var s=st.formState;if(s!==null){e:{var c=Ve;if(Ze){if(mt){t:{for(var m=mt,y=wn;m.nodeType!==8;){if(!y){m=null;break t}if(m=bn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){mt=bn(m.nextSibling),c=m.data==="F!";break e}}Wa(c)}c=!1}c&&(i=s[0])}}return s=$t(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:i},s.queue=c,s=xm.bind(null,Ve,c),c.dispatch=s,c=Su(!1),y=wu.bind(null,Ve,!1,c.queue),c=$t(),m={state:i,dispatch:null,action:n,pending:null},c.queue=m,s=F0.bind(null,Ve,m,y,s),m.dispatch=s,c.memoizedState=n,[i,s,!1]}function tm(n){var i=Ct();return nm(i,nt,n)}function nm(n,i,s){if(i=Tu(n,i,Wf)[0],n=ol(Wn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ho(i)}catch(C){throw C===jo?Ws:C}else c=i;i=Ct();var m=i.queue,y=m.dispatch;return s!==i.memoizedState&&(Ve.flags|=2048,zi(9,sl(),H0.bind(null,m,s),null)),[c,y,n]}function H0(n,i){n.action=i}function am(n){var i=Ct(),s=nt;if(s!==null)return nm(i,s,n);Ct(),i=i.memoizedState,s=Ct();var c=s.queue.dispatch;return s.memoizedState=n,[i,c,!1]}function zi(n,i,s,c){return n={tag:n,create:s,deps:c,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=vu(),Ve.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,i.lastEffect=n),n}function sl(){return{destroy:void 0,resource:void 0}}function im(){return Ct().memoizedState}function ll(n,i,s,c){var m=$t();c=c===void 0?null:c,Ve.flags|=n,m.memoizedState=zi(1|i,sl(),s,c)}function Yo(n,i,s,c){var m=Ct();c=c===void 0?null:c;var y=m.memoizedState.inst;nt!==null&&c!==null&&mu(c,nt.memoizedState.deps)?m.memoizedState=zi(i,y,s,c):(Ve.flags|=n,m.memoizedState=zi(1|i,y,s,c))}function om(n,i){ll(8390656,8,n,i)}function sm(n,i){Yo(2048,8,n,i)}function lm(n,i){return Yo(4,2,n,i)}function rm(n,i){return Yo(4,4,n,i)}function um(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function cm(n,i,s){s=s!=null?s.concat([n]):null,Yo(4,4,um.bind(null,i,n),s)}function _u(){}function dm(n,i){var s=Ct();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&mu(i,c[1])?c[0]:(s.memoizedState=[n,i],n)}function fm(n,i){var s=Ct();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&mu(i,c[1]))return c[0];if(c=n(),ai){M(!0);try{n()}finally{M(!1)}}return s.memoizedState=[c,i],c}function Eu(n,i,s){return s===void 0||(ba&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=hp(),Ve.lanes|=n,Ra|=n,s)}function mm(n,i,s,c){return Xt(s,i)?s:Oi.current!==null?(n=Eu(n,s,c),Xt(n,i)||(Nt=!0),n):(ba&42)===0?(Nt=!0,n.memoizedState=s):(n=hp(),Ve.lanes|=n,Ra|=n,i)}function pm(n,i,s,c,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var C=q.T,b={};q.T=b,wu(n,!1,i,s);try{var A=m(),U=q.S;if(U!==null&&U(b,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var J=z0(A,c);Jo(n,i,J,nn(n))}else Jo(n,i,c,nn(n))}catch(X){Jo(n,i,{then:function(){},status:"rejected",reason:X},nn())}finally{oe.p=y,q.T=C}}function Y0(){}function Au(n,i,s,c){if(n.tag!==5)throw Error(o(476));var m=hm(n).queue;pm(n,m,i,ce,s===null?Y0:function(){return gm(n),s(c)})}function hm(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:ce},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function gm(n){var i=hm(n).next.queue;Jo(n,i,{},nn())}function Nu(){return Ut(ds)}function ym(){return Ct().memoizedState}function vm(){return Ct().memoizedState}function J0(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=nn();n=Ca(s);var c=Sa(i,n,s);c!==null&&(an(c,i,s),zo(c,i,s)),i={cache:au()},n.payload=i;return}i=i.return}}function $0(n,i,s){var c=nn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rl(n)?Tm(i,s):(s=Jr(n,i,s,c),s!==null&&(an(s,n,c),Cm(s,i,c)))}function xm(n,i,s){var c=nn();Jo(n,i,s,c)}function Jo(n,i,s,c){var m={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rl(n))Tm(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var C=i.lastRenderedState,b=y(C,s);if(m.hasEagerState=!0,m.eagerState=b,Xt(b,C))return Hs(n,i,m,0),st===null&&Fs(),!1}catch{}finally{}if(s=Jr(n,i,m,c),s!==null)return an(s,n,c),Cm(s,i,c),!0}return!1}function wu(n,i,s,c){if(c={lane:2,revertLane:sc(),action:c,hasEagerState:!1,eagerState:null,next:null},rl(n)){if(i)throw Error(o(479))}else i=Jr(n,s,c,2),i!==null&&an(i,n,2)}function rl(n){var i=n.alternate;return n===Ve||i!==null&&i===Ve}function Tm(n,i){ji=nl=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Cm(n,i,s){if((s&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,wd(n,s)}}var ul={readContext:Ut,use:il,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Sm={readContext:Ut,use:il,useCallback:function(n,i){return $t().memoizedState=[n,i===void 0?null:i],n},useContext:Ut,useEffect:om,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,ll(4194308,4,um.bind(null,i,n),s)},useLayoutEffect:function(n,i){return ll(4194308,4,n,i)},useInsertionEffect:function(n,i){ll(4,2,n,i)},useMemo:function(n,i){var s=$t();i=i===void 0?null:i;var c=n();if(ai){M(!0);try{n()}finally{M(!1)}}return s.memoizedState=[c,i],c},useReducer:function(n,i,s){var c=$t();if(s!==void 0){var m=s(i);if(ai){M(!0);try{s(i)}finally{M(!1)}}}else m=i;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=$0.bind(null,Ve,n),[c.memoizedState,n]},useRef:function(n){var i=$t();return n={current:n},i.memoizedState=n},useState:function(n){n=Su(n);var i=n.queue,s=xm.bind(null,Ve,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:_u,useDeferredValue:function(n,i){var s=$t();return Eu(s,n,i)},useTransition:function(){var n=Su(!1);return n=pm.bind(null,Ve,n.queue,!0,!1),$t().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var c=Ve,m=$t();if(Ze){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),st===null)throw Error(o(349));(Ye&124)!==0||Bf(c,i,s)}m.memoizedState=s;var y={value:s,getSnapshot:i};return m.queue=y,om(Hf.bind(null,c,y,n),[n]),c.flags|=2048,zi(9,sl(),Ff.bind(null,c,y,s,i),null),s},useId:function(){var n=$t(),i=st.identifierPrefix;if(Ze){var s=Kn,c=Zn;s=(c&~(1<<32-k(c)-1)).toString(32)+s,i=""+i+"R"+s,s=al++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=G0++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Nu,useFormState:em,useActionState:em,useOptimistic:function(n){var i=$t();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=wu.bind(null,Ve,!0,s),s.dispatch=i,[n,i]},useMemoCache:xu,useCacheRefresh:function(){return $t().memoizedState=J0.bind(null,Ve)}},bm={readContext:Ut,use:il,useCallback:dm,useContext:Ut,useEffect:sm,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:rm,useMemo:fm,useReducer:ol,useRef:im,useState:function(){return ol(Wn)},useDebugValue:_u,useDeferredValue:function(n,i){var s=Ct();return mm(s,nt.memoizedState,n,i)},useTransition:function(){var n=ol(Wn)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Ho(n),i]},useSyncExternalStore:Gf,useId:ym,useHostTransitionStatus:Nu,useFormState:tm,useActionState:tm,useOptimistic:function(n,i){var s=Ct();return $f(s,nt,n,i)},useMemoCache:xu,useCacheRefresh:vm},Z0={readContext:Ut,use:il,useCallback:dm,useContext:Ut,useEffect:sm,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:rm,useMemo:fm,useReducer:Cu,useRef:im,useState:function(){return Cu(Wn)},useDebugValue:_u,useDeferredValue:function(n,i){var s=Ct();return nt===null?Eu(s,n,i):mm(s,nt.memoizedState,n,i)},useTransition:function(){var n=Cu(Wn)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Ho(n),i]},useSyncExternalStore:Gf,useId:ym,useHostTransitionStatus:Nu,useFormState:am,useActionState:am,useOptimistic:function(n,i){var s=Ct();return nt!==null?$f(s,nt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:xu,useCacheRefresh:vm},Gi=null,$o=0;function cl(n){var i=$o;return $o+=1,Gi===null&&(Gi=[]),Lf(Gi,n,i)}function Zo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function dl(n,i){throw i.$$typeof===T?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function _m(n){var i=n._init;return i(n._payload)}function Em(n){function i(I,R){if(n){var L=I.deletions;L===null?(I.deletions=[R],I.flags|=16):L.push(R)}}function s(I,R){if(!n)return null;for(;R!==null;)i(I,R),R=R.sibling;return null}function c(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function m(I,R){return I=$n(I,R),I.index=0,I.sibling=null,I}function y(I,R,L){return I.index=L,n?(L=I.alternate,L!==null?(L=L.index,L<R?(I.flags|=67108866,R):L):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function C(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function b(I,R,L,$){return R===null||R.tag!==6?(R=Zr(L,I.mode,$),R.return=I,R):(R=m(R,L),R.return=I,R)}function A(I,R,L,$){var pe=L.type;return pe===N?J(I,R,L.props.children,$,L.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&_m(pe)===R.type)?(R=m(R,L.props),Zo(R,L),R.return=I,R):(R=Js(L.type,L.key,L.props,null,I.mode,$),Zo(R,L),R.return=I,R)}function U(I,R,L,$){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Kr(L,I.mode,$),R.return=I,R):(R=m(R,L.children||[]),R.return=I,R)}function J(I,R,L,$,pe){return R===null||R.tag!==7?(R=Za(L,I.mode,$,pe),R.return=I,R):(R=m(R,L),R.return=I,R)}function X(I,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Zr(""+R,I.mode,L),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return L=Js(R.type,R.key,R.props,null,I.mode,L),Zo(L,R),L.return=I,L;case E:return R=Kr(R,I.mode,L),R.return=I,R;case Te:var $=R._init;return R=$(R._payload),X(I,R,L)}if(be(R)||Me(R))return R=Za(R,I.mode,L,null),R.return=I,R;if(typeof R.then=="function")return X(I,cl(R),L);if(R.$$typeof===P)return X(I,Xs(I,R),L);dl(I,R)}return null}function O(I,R,L,$){var pe=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pe!==null?null:b(I,R,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===pe?A(I,R,L,$):null;case E:return L.key===pe?U(I,R,L,$):null;case Te:return pe=L._init,L=pe(L._payload),O(I,R,L,$)}if(be(L)||Me(L))return pe!==null?null:J(I,R,L,$,null);if(typeof L.then=="function")return O(I,R,cl(L),$);if(L.$$typeof===P)return O(I,R,Xs(I,L),$);dl(I,L)}return null}function z(I,R,L,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return I=I.get(L)||null,b(R,I,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return I=I.get($.key===null?L:$.key)||null,A(R,I,$,pe);case E:return I=I.get($.key===null?L:$.key)||null,U(R,I,$,pe);case Te:var Oe=$._init;return $=Oe($._payload),z(I,R,L,$,pe)}if(be($)||Me($))return I=I.get(L)||null,J(R,I,$,pe,null);if(typeof $.then=="function")return z(I,R,L,cl($),pe);if($.$$typeof===P)return z(I,R,L,Xs(R,$),pe);dl(R,$)}return null}function _e(I,R,L,$){for(var pe=null,Oe=null,xe=R,Se=R=0,Mt=null;xe!==null&&Se<L.length;Se++){xe.index>Se?(Mt=xe,xe=null):Mt=xe.sibling;var Je=O(I,xe,L[Se],$);if(Je===null){xe===null&&(xe=Mt);break}n&&xe&&Je.alternate===null&&i(I,xe),R=y(Je,R,Se),Oe===null?pe=Je:Oe.sibling=Je,Oe=Je,xe=Mt}if(Se===L.length)return s(I,xe),Ze&&Xa(I,Se),pe;if(xe===null){for(;Se<L.length;Se++)xe=X(I,L[Se],$),xe!==null&&(R=y(xe,R,Se),Oe===null?pe=xe:Oe.sibling=xe,Oe=xe);return Ze&&Xa(I,Se),pe}for(xe=c(xe);Se<L.length;Se++)Mt=z(xe,I,Se,L[Se],$),Mt!==null&&(n&&Mt.alternate!==null&&xe.delete(Mt.key===null?Se:Mt.key),R=y(Mt,R,Se),Oe===null?pe=Mt:Oe.sibling=Mt,Oe=Mt);return n&&xe.forEach(function(ja){return i(I,ja)}),Ze&&Xa(I,Se),pe}function Ce(I,R,L,$){if(L==null)throw Error(o(151));for(var pe=null,Oe=null,xe=R,Se=R=0,Mt=null,Je=L.next();xe!==null&&!Je.done;Se++,Je=L.next()){xe.index>Se?(Mt=xe,xe=null):Mt=xe.sibling;var ja=O(I,xe,Je.value,$);if(ja===null){xe===null&&(xe=Mt);break}n&&xe&&ja.alternate===null&&i(I,xe),R=y(ja,R,Se),Oe===null?pe=ja:Oe.sibling=ja,Oe=ja,xe=Mt}if(Je.done)return s(I,xe),Ze&&Xa(I,Se),pe;if(xe===null){for(;!Je.done;Se++,Je=L.next())Je=X(I,Je.value,$),Je!==null&&(R=y(Je,R,Se),Oe===null?pe=Je:Oe.sibling=Je,Oe=Je);return Ze&&Xa(I,Se),pe}for(xe=c(xe);!Je.done;Se++,Je=L.next())Je=z(xe,I,Se,Je.value,$),Je!==null&&(n&&Je.alternate!==null&&xe.delete(Je.key===null?Se:Je.key),R=y(Je,R,Se),Oe===null?pe=Je:Oe.sibling=Je,Oe=Je);return n&&xe.forEach(function(Kx){return i(I,Kx)}),Ze&&Xa(I,Se),pe}function it(I,R,L,$){if(typeof L=="object"&&L!==null&&L.type===N&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var pe=L.key;R!==null;){if(R.key===pe){if(pe=L.type,pe===N){if(R.tag===7){s(I,R.sibling),$=m(R,L.props.children),$.return=I,I=$;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&_m(pe)===R.type){s(I,R.sibling),$=m(R,L.props),Zo($,L),$.return=I,I=$;break e}s(I,R);break}else i(I,R);R=R.sibling}L.type===N?($=Za(L.props.children,I.mode,$,L.key),$.return=I,I=$):($=Js(L.type,L.key,L.props,null,I.mode,$),Zo($,L),$.return=I,I=$)}return C(I);case E:e:{for(pe=L.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){s(I,R.sibling),$=m(R,L.children||[]),$.return=I,I=$;break e}else{s(I,R);break}else i(I,R);R=R.sibling}$=Kr(L,I.mode,$),$.return=I,I=$}return C(I);case Te:return pe=L._init,L=pe(L._payload),it(I,R,L,$)}if(be(L))return _e(I,R,L,$);if(Me(L)){if(pe=Me(L),typeof pe!="function")throw Error(o(150));return L=pe.call(L),Ce(I,R,L,$)}if(typeof L.then=="function")return it(I,R,cl(L),$);if(L.$$typeof===P)return it(I,R,Xs(I,L),$);dl(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(s(I,R.sibling),$=m(R,L),$.return=I,I=$):(s(I,R),$=Zr(L,I.mode,$),$.return=I,I=$),C(I)):s(I,R)}return function(I,R,L,$){try{$o=0;var pe=it(I,R,L,$);return Gi=null,pe}catch(xe){if(xe===jo||xe===Ws)throw xe;var Oe=Qt(29,xe,null,I.mode);return Oe.lanes=$,Oe.return=I,Oe}finally{}}}var Bi=Em(!0),Am=Em(!1),mn=Z(null),Mn=null;function _a(n){var i=n.alternate;ne(Et,Et.current&1),ne(mn,n),Mn===null&&(i===null||Oi.current!==null||i.memoizedState!==null)&&(Mn=n)}function Nm(n){if(n.tag===22){if(ne(Et,Et.current),ne(mn,n),Mn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Mn=n)}}else Ea()}function Ea(){ne(Et,Et.current),ne(mn,mn.current)}function ea(n){ae(mn),Mn===n&&(Mn=null),ae(Et)}var Et=Z(0);function fl(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||vc(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Mu(n,i,s,c){i=n.memoizedState,s=s(c,i),s=s==null?i:x({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Ru={enqueueSetState:function(n,i,s){n=n._reactInternals;var c=nn(),m=Ca(c);m.payload=i,s!=null&&(m.callback=s),i=Sa(n,m,c),i!==null&&(an(i,n,c),zo(i,n,c))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var c=nn(),m=Ca(c);m.tag=1,m.payload=i,s!=null&&(m.callback=s),i=Sa(n,m,c),i!==null&&(an(i,n,c),zo(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=nn(),c=Ca(s);c.tag=2,i!=null&&(c.callback=i),i=Sa(n,c,s),i!==null&&(an(i,n,s),zo(i,n,s))}};function wm(n,i,s,c,m,y,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,C):i.prototype&&i.prototype.isPureReactComponent?!Do(s,c)||!Do(m,y):!0}function Mm(n,i,s,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==n&&Ru.enqueueReplaceState(i,i.state,null)}function ii(n,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(n=n.defaultProps){s===i&&(s=x({},s));for(var m in n)s[m]===void 0&&(s[m]=n[m])}return s}var ml=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Rm(n){ml(n)}function Dm(n){console.error(n)}function Im(n){ml(n)}function pl(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function km(n,i,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Du(n,i,s){return s=Ca(s),s.tag=3,s.payload={element:null},s.callback=function(){pl(n,i)},s}function Lm(n){return n=Ca(n),n.tag=3,n}function Um(n,i,s,c){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;n.payload=function(){return m(y)},n.callback=function(){km(i,s,c)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){km(i,s,c),typeof m!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function K0(n,i,s,c,m){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Po(i,s,m,!0),s=mn.current,s!==null){switch(s.tag){case 13:return Mn===null?tc():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=m,c===su?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),ac(n,c,m)),!1;case 22:return s.flags|=65536,c===su?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),ac(n,c,m)),!1}throw Error(o(435,s.tag))}return ac(n,c,m),tc(),!1}if(Ze)return i=mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Wr&&(n=Error(o(422),{cause:c}),Uo(un(n,s)))):(c!==Wr&&(i=Error(o(423),{cause:c}),Uo(un(i,s))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=un(c,s),m=Du(n.stateNode,c,m),uu(n,m),pt!==4&&(pt=2)),!1;var y=Error(o(520),{cause:c});if(y=un(y,s),ns===null?ns=[y]:ns.push(y),pt!==4&&(pt=2),i===null)return!0;c=un(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=m&-m,s.lanes|=n,n=Du(s.stateNode,c,n),uu(s,n),!1;case 1:if(i=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Da===null||!Da.has(y))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Lm(m),Um(m,n,s,c),uu(s,m),!1}s=s.return}while(s!==null);return!1}var Pm=Error(o(461)),Nt=!1;function Rt(n,i,s,c){i.child=n===null?Am(i,null,s,c):Bi(i,n.child,s,c)}function Vm(n,i,s,c,m){s=s.render;var y=i.ref;if("ref"in c){var C={};for(var b in c)b!=="ref"&&(C[b]=c[b])}else C=c;return ti(i),c=pu(n,i,s,C,y,m),b=hu(),n!==null&&!Nt?(gu(n,i,m),ta(n,i,m)):(Ze&&b&&Xr(i),i.flags|=1,Rt(n,i,c,m),i.child)}function Om(n,i,s,c,m){if(n===null){var y=s.type;return typeof y=="function"&&!$r(y)&&y.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=y,jm(n,i,y,c,m)):(n=Js(s.type,null,c,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!ju(n,m)){var C=y.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(C,c)&&n.ref===i.ref)return ta(n,i,m)}return i.flags|=1,n=$n(y,c),n.ref=i.ref,n.return=i,i.child=n}function jm(n,i,s,c,m){if(n!==null){var y=n.memoizedProps;if(Do(y,c)&&n.ref===i.ref)if(Nt=!1,i.pendingProps=c=y,ju(n,m))(n.flags&131072)!==0&&(Nt=!0);else return i.lanes=n.lanes,ta(n,i,m)}return Iu(n,i,s,c,m)}function qm(n,i,s){var c=i.pendingProps,m=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|s:s,n!==null){for(m=i.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return zm(n,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qs(i,y!==null?y.cachePool:null),y!==null?jf(i,y):du(),Nm(i);else return i.lanes=i.childLanes=536870912,zm(n,i,y!==null?y.baseLanes|s:s,s)}else y!==null?(Qs(i,y.cachePool),jf(i,y),Ea(),i.memoizedState=null):(n!==null&&Qs(i,null),du(),Ea());return Rt(n,i,m,s),i.child}function zm(n,i,s,c){var m=ou();return m=m===null?null:{parent:_t._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},n!==null&&Qs(i,null),du(),Nm(i),n!==null&&Po(n,i,c,!0),null}function hl(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Iu(n,i,s,c,m){return ti(i),s=pu(n,i,s,c,void 0,m),c=hu(),n!==null&&!Nt?(gu(n,i,m),ta(n,i,m)):(Ze&&c&&Xr(i),i.flags|=1,Rt(n,i,s,m),i.child)}function Gm(n,i,s,c,m,y){return ti(i),i.updateQueue=null,s=zf(i,c,s,m),qf(n),c=hu(),n!==null&&!Nt?(gu(n,i,y),ta(n,i,y)):(Ze&&c&&Xr(i),i.flags|=1,Rt(n,i,s,y),i.child)}function Bm(n,i,s,c,m){if(ti(i),i.stateNode===null){var y=ki,C=s.contextType;typeof C=="object"&&C!==null&&(y=Ut(C)),y=new s(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ru,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},lu(i),C=s.contextType,y.context=typeof C=="object"&&C!==null?Ut(C):ki,y.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Mu(i,s,C,c),y.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Ru.enqueueReplaceState(y,y.state,null),Bo(i,c,y,m),Go(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){y=i.stateNode;var b=i.memoizedProps,A=ii(s,b);y.props=A;var U=y.context,J=s.contextType;C=ki,typeof J=="object"&&J!==null&&(C=Ut(J));var X=s.getDerivedStateFromProps;J=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||U!==C)&&Mm(i,y,c,C),Ta=!1;var O=i.memoizedState;y.state=O,Bo(i,c,y,m),Go(),U=i.memoizedState,b||O!==U||Ta?(typeof X=="function"&&(Mu(i,s,X,c),U=i.memoizedState),(A=Ta||wm(i,s,A,c,O,U,C))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=U),y.props=c,y.state=U,y.context=C,c=A):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,ru(n,i),C=i.memoizedProps,J=ii(s,C),y.props=J,X=i.pendingProps,O=y.context,U=s.contextType,A=ki,typeof U=="object"&&U!==null&&(A=Ut(U)),b=s.getDerivedStateFromProps,(U=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==X||O!==A)&&Mm(i,y,c,A),Ta=!1,O=i.memoizedState,y.state=O,Bo(i,c,y,m),Go();var z=i.memoizedState;C!==X||O!==z||Ta||n!==null&&n.dependencies!==null&&Ks(n.dependencies)?(typeof b=="function"&&(Mu(i,s,b,c),z=i.memoizedState),(J=Ta||wm(i,s,J,c,O,z,A)||n!==null&&n.dependencies!==null&&Ks(n.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,z,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,z,A)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&O===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&O===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=z),y.props=c,y.state=z,y.context=A,c=J):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&O===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&O===n.memoizedState||(i.flags|=1024),c=!1)}return y=c,hl(n,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&c?(i.child=Bi(i,n.child,null,m),i.child=Bi(i,null,s,m)):Rt(n,i,s,m),i.memoizedState=y.state,n=i.child):n=ta(n,i,m),n}function Fm(n,i,s,c){return Lo(),i.flags|=256,Rt(n,i,s,c),i.child}var ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(n){return{baseLanes:n,cachePool:Df()}}function Uu(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=pn),n}function Hm(n,i,s){var c=i.pendingProps,m=!1,y=(i.flags&128)!==0,C;if((C=y)||(C=n!==null&&n.memoizedState===null?!1:(Et.current&2)!==0),C&&(m=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ze){if(m?_a(i):Ea(),Ze){var b=mt,A;if(A=b){e:{for(A=b,b=wn;A.nodeType!==8;){if(!b){b=null;break e}if(A=bn(A.nextSibling),A===null){b=null;break e}}b=A}b!==null?(i.memoizedState={dehydrated:b,treeContext:Ka!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},A=Qt(18,null,null,0),A.stateNode=b,A.return=i,i.child=A,Gt=i,mt=null,A=!0):A=!1}A||Wa(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return vc(b)?i.lanes=32:i.lanes=536870912,null;ea(i)}return b=c.children,c=c.fallback,m?(Ea(),m=i.mode,b=gl({mode:"hidden",children:b},m),c=Za(c,m,s,null),b.return=i,c.return=i,b.sibling=c,i.child=b,m=i.child,m.memoizedState=Lu(s),m.childLanes=Uu(n,C,s),i.memoizedState=ku,c):(_a(i),Pu(i,b))}if(A=n.memoizedState,A!==null&&(b=A.dehydrated,b!==null)){if(y)i.flags&256?(_a(i),i.flags&=-257,i=Vu(n,i,s)):i.memoizedState!==null?(Ea(),i.child=n.child,i.flags|=128,i=null):(Ea(),m=c.fallback,b=i.mode,c=gl({mode:"visible",children:c.children},b),m=Za(m,b,s,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,Bi(i,n.child,null,s),c=i.child,c.memoizedState=Lu(s),c.childLanes=Uu(n,C,s),i.memoizedState=ku,i=m);else if(_a(i),vc(b)){if(C=b.nextSibling&&b.nextSibling.dataset,C)var U=C.dgst;C=U,c=Error(o(419)),c.stack="",c.digest=C,Uo({value:c,source:null,stack:null}),i=Vu(n,i,s)}else if(Nt||Po(n,i,s,!1),C=(s&n.childLanes)!==0,Nt||C){if(C=st,C!==null&&(c=s&-s,c=(c&42)!==0?1:xr(c),c=(c&(C.suspendedLanes|s))!==0?0:c,c!==0&&c!==A.retryLane))throw A.retryLane=c,Ii(n,c),an(C,n,c),Pm;b.data==="$?"||tc(),i=Vu(n,i,s)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=A.treeContext,mt=bn(b.nextSibling),Gt=i,Ze=!0,Qa=null,wn=!1,n!==null&&(dn[fn++]=Zn,dn[fn++]=Kn,dn[fn++]=Ka,Zn=n.id,Kn=n.overflow,Ka=i),i=Pu(i,c.children),i.flags|=4096);return i}return m?(Ea(),m=c.fallback,b=i.mode,A=n.child,U=A.sibling,c=$n(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,U!==null?m=$n(U,m):(m=Za(m,b,s,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,b=n.child.memoizedState,b===null?b=Lu(s):(A=b.cachePool,A!==null?(U=_t._currentValue,A=A.parent!==U?{parent:U,pool:U}:A):A=Df(),b={baseLanes:b.baseLanes|s,cachePool:A}),m.memoizedState=b,m.childLanes=Uu(n,C,s),i.memoizedState=ku,c):(_a(i),s=n.child,n=s.sibling,s=$n(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=s,i.memoizedState=null,s)}function Pu(n,i){return i=gl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function gl(n,i){return n=Qt(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Vu(n,i,s){return Bi(i,n.child,null,s),n=Pu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ym(n,i,s){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),tu(n.return,i,s)}function Ou(n,i,s,c,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=s,y.tailMode=m)}function Jm(n,i,s){var c=i.pendingProps,m=c.revealOrder,y=c.tail;if(Rt(n,i,c.children,s),c=Et.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ym(n,s,i);else if(n.tag===19)Ym(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ne(Et,c),m){case"forwards":for(s=i.child,m=null;s!==null;)n=s.alternate,n!==null&&fl(n)===null&&(m=s),s=s.sibling;s=m,s===null?(m=i.child,i.child=null):(m=s.sibling,s.sibling=null),Ou(i,!1,m,s,y);break;case"backwards":for(s=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&fl(n)===null){i.child=m;break}n=m.sibling,m.sibling=s,s=m,m=n}Ou(i,!0,s,null,y);break;case"together":Ou(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ta(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Ra|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Po(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,s=$n(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=$n(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function ju(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ks(n)))}function X0(n,i,s){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),xa(i,_t,n.memoizedState.cache),Lo();break;case 27:case 5:jt(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:xa(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(_a(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Hm(n,i,s):(_a(i),n=ta(n,i,s),n!==null?n.sibling:null);_a(i);break;case 19:var m=(n.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Po(n,i,s,!1),c=(s&i.childLanes)!==0),m){if(c)return Jm(n,i,s);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(Et,Et.current),c)break;return null;case 22:case 23:return i.lanes=0,qm(n,i,s);case 24:xa(i,_t,n.memoizedState.cache)}return ta(n,i,s)}function $m(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Nt=!0;else{if(!ju(n,s)&&(i.flags&128)===0)return Nt=!1,X0(n,i,s);Nt=(n.flags&131072)!==0}else Nt=!1,Ze&&(i.flags&1048576)!==0&&_f(i,Zs,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")$r(c)?(n=ii(c,n),i.tag=1,i=Bm(null,i,c,n,s)):(i.tag=0,i=Iu(null,i,c,n,s));else{if(c!=null){if(m=c.$$typeof,m===K){i.tag=11,i=Vm(null,i,c,n,s);break e}else if(m===Q){i.tag=14,i=Om(null,i,c,n,s);break e}}throw i=me(c)||c,Error(o(306,i,""))}}return i;case 0:return Iu(n,i,i.type,i.pendingProps,s);case 1:return c=i.type,m=ii(c,i.pendingProps),Bm(n,i,c,m,s);case 3:e:{if(Ge(i,i.stateNode.containerInfo),n===null)throw Error(o(387));c=i.pendingProps;var y=i.memoizedState;m=y.element,ru(n,i),Bo(i,c,null,s);var C=i.memoizedState;if(c=C.cache,xa(i,_t,c),c!==y.cache&&nu(i,[_t],s,!0),Go(),c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Fm(n,i,c,s);break e}else if(c!==m){m=un(Error(o(424)),i),Uo(m),i=Fm(n,i,c,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=bn(n.firstChild),Gt=i,Ze=!0,Qa=null,wn=!0,s=Am(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lo(),c===m){i=ta(n,i,s);break e}Rt(n,i,c,s)}i=i.child}return i;case 26:return hl(n,i),n===null?(s=Qp(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ze||(s=i.type,n=i.pendingProps,c=Rl(W.current).createElement(s),c[Lt]=i,c[Yt]=n,It(c,s,n),At(c),i.stateNode=c):i.memoizedState=Qp(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return jt(i),n===null&&Ze&&(c=i.stateNode=Zp(i.type,i.pendingProps,W.current),Gt=i,wn=!0,m=mt,La(i.type)?(xc=m,mt=bn(c.firstChild)):mt=m),Rt(n,i,i.pendingProps.children,s),hl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ze&&((m=c=mt)&&(c=Ex(c,i.type,i.pendingProps,wn),c!==null?(i.stateNode=c,Gt=i,mt=bn(c.firstChild),wn=!1,m=!0):m=!1),m||Wa(i)),jt(i),m=i.type,y=i.pendingProps,C=n!==null?n.memoizedProps:null,c=y.children,hc(m,y)?c=null:C!==null&&hc(m,C)&&(i.flags|=32),i.memoizedState!==null&&(m=pu(n,i,B0,null,null,s),ds._currentValue=m),hl(n,i),Rt(n,i,c,s),i.child;case 6:return n===null&&Ze&&((n=s=mt)&&(s=Ax(s,i.pendingProps,wn),s!==null?(i.stateNode=s,Gt=i,mt=null,n=!0):n=!1),n||Wa(i)),null;case 13:return Hm(n,i,s);case 4:return Ge(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Bi(i,null,c,s):Rt(n,i,c,s),i.child;case 11:return Vm(n,i,i.type,i.pendingProps,s);case 7:return Rt(n,i,i.pendingProps,s),i.child;case 8:return Rt(n,i,i.pendingProps.children,s),i.child;case 12:return Rt(n,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,xa(i,i.type,c.value),Rt(n,i,c.children,s),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,ti(i),m=Ut(m),c=c(m),i.flags|=1,Rt(n,i,c,s),i.child;case 14:return Om(n,i,i.type,i.pendingProps,s);case 15:return jm(n,i,i.type,i.pendingProps,s);case 19:return Jm(n,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},n===null?(s=gl(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=$n(n.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return qm(n,i,s);case 24:return ti(i),c=Ut(_t),n===null?(m=ou(),m===null&&(m=st,y=au(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=s),m=y),i.memoizedState={parent:c,cache:m},lu(i),xa(i,_t,m)):((n.lanes&s)!==0&&(ru(n,i),Bo(i,null,null,s),Go()),m=n.memoizedState,y=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),xa(i,_t,c)):(c=y.cache,xa(i,_t,c),c!==m.cache&&nu(i,[_t],s,!0))),Rt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function na(n){n.flags|=4}function Zm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ah(i)){if(i=mn.current,i!==null&&((Ye&4194048)===Ye?Mn!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Mn))throw qo=su,If;n.flags|=8192}}function yl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?bt():536870912,n.lanes|=i,Ji|=i)}function Ko(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ft(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(i)for(var m=n.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=s,i}function Q0(n,i,s){var c=i.pendingProps;switch(Qr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return s=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Qn(_t),vt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(ko(i)?na(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nf())),ft(i),null;case 26:return s=i.memoizedState,n===null?(na(i),s!==null?(ft(i),Zm(i,s)):(ft(i),i.flags&=-16777217)):s?s!==n.memoizedState?(na(i),ft(i),Zm(i,s)):(ft(i),i.flags&=-16777217):(n.memoizedProps!==c&&na(i),ft(i),i.flags&=-16777217),null;case 27:Ft(i),s=W.current;var m=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&na(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return ft(i),null}n=B.current,ko(i)?Ef(i):(n=Zp(m,c,s),i.stateNode=n,na(i))}return ft(i),null;case 5:if(Ft(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&na(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return ft(i),null}if(n=B.current,ko(i))Ef(i);else{switch(m=Rl(W.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?m.createElement(s,{is:c.is}):m.createElement(s)}}n[Lt]=i,n[Yt]=c;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=n;e:switch(It(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&na(i)}}return ft(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&na(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(n=W.current,ko(i)){if(n=i.stateNode,s=i.memoizedProps,c=null,m=Gt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[Lt]=i,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Gp(n.nodeValue,s)),n||Wa(i)}else n=Rl(n).createTextNode(c),n[Lt]=i,i.stateNode=n}return ft(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ko(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[Lt]=i}else Lo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),m=!1}else m=Nf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(ea(i),i):(ea(i),null)}if(ea(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),yl(i,i.updateQueue),ft(i),null;case 4:return vt(),n===null&&cc(i.stateNode.containerInfo),ft(i),null;case 10:return Qn(i.type),ft(i),null;case 19:if(ae(Et),m=i.memoizedState,m===null)return ft(i),null;if(c=(i.flags&128)!==0,y=m.rendering,y===null)if(c)Ko(m,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=fl(n),y!==null){for(i.flags|=128,Ko(m,!1),n=y.updateQueue,i.updateQueue=n,yl(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)bf(s,n),s=s.sibling;return ne(Et,Et.current&1|2),i.child}n=n.sibling}m.tail!==null&&qt()>Tl&&(i.flags|=128,c=!0,Ko(m,!1),i.lanes=4194304)}else{if(!c)if(n=fl(y),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,yl(i,n),Ko(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ze)return ft(i),null}else 2*qt()-m.renderingStartTime>Tl&&s!==536870912&&(i.flags|=128,c=!0,Ko(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=qt(),i.sibling=null,n=Et.current,ne(Et,c?n&1|2:n&1),i):(ft(i),null);case 22:case 23:return ea(i),fu(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),s=i.updateQueue,s!==null&&yl(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),n!==null&&ae(ni),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Qn(_t),ft(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function W0(n,i){switch(Qr(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qn(_t),vt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ft(i),null;case 13:if(ea(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Lo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ae(Et),null;case 4:return vt(),null;case 10:return Qn(i.type),null;case 22:case 23:return ea(i),fu(),n!==null&&ae(ni),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qn(_t),null;case 25:return null;default:return null}}function Km(n,i){switch(Qr(i),i.tag){case 3:Qn(_t),vt();break;case 26:case 27:case 5:Ft(i);break;case 4:vt();break;case 13:ea(i);break;case 19:ae(Et);break;case 10:Qn(i.type);break;case 22:case 23:ea(i),fu(),n!==null&&ae(ni);break;case 24:Qn(_t)}}function Xo(n,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var m=c.next;s=m;do{if((s.tag&n)===n){c=void 0;var y=s.create,C=s.inst;c=y(),C.destroy=c}s=s.next}while(s!==m)}}catch(b){ot(i,i.return,b)}}function Aa(n,i,s){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&n)===n){var C=c.inst,b=C.destroy;if(b!==void 0){C.destroy=void 0,m=i;var A=s,U=b;try{U()}catch(J){ot(m,A,J)}}}c=c.next}while(c!==y)}}catch(J){ot(i,i.return,J)}}function Xm(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Of(i,s)}catch(c){ot(n,n.return,c)}}}function Qm(n,i,s){s.props=ii(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){ot(n,i,c)}}function Qo(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(m){ot(n,i,m)}}function Rn(n,i){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(m){ot(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){ot(n,i,m)}else s.current=null}function Wm(n){var i=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(m){ot(n,n.return,m)}}function qu(n,i,s){try{var c=n.stateNode;Tx(c,n.type,s,i),c[Yt]=i}catch(m){ot(n,n.return,m)}}function ep(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&La(n.type)||n.tag===4}function zu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ep(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&La(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gu(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Ml));else if(c!==4&&(c===27&&La(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Gu(n,i,s),n=n.sibling;n!==null;)Gu(n,i,s),n=n.sibling}function vl(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(c!==4&&(c===27&&La(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(vl(n,i,s),n=n.sibling;n!==null;)vl(n,i,s),n=n.sibling}function tp(n){var i=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);It(i,c,s),i[Lt]=n,i[Yt]=s}catch(y){ot(n,n.return,y)}}var aa=!1,yt=!1,Bu=!1,np=typeof WeakSet=="function"?WeakSet:Set,wt=null;function ex(n,i){if(n=n.containerInfo,mc=Pl,n=mf(n),zr(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var C=0,b=-1,A=-1,U=0,J=0,X=n,O=null;t:for(;;){for(var z;X!==s||m!==0&&X.nodeType!==3||(b=C+m),X!==y||c!==0&&X.nodeType!==3||(A=C+c),X.nodeType===3&&(C+=X.nodeValue.length),(z=X.firstChild)!==null;)O=X,X=z;for(;;){if(X===n)break t;if(O===s&&++U===m&&(b=C),O===y&&++J===c&&(A=C),(z=X.nextSibling)!==null)break;X=O,O=X.parentNode}X=z}s=b===-1||A===-1?null:{start:b,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(pc={focusedElem:n,selectionRange:s},Pl=!1,wt=i;wt!==null;)if(i=wt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,wt=n;else for(;wt!==null;){switch(i=wt,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=i,m=y.memoizedProps,y=y.memoizedState,c=s.stateNode;try{var _e=ii(s.type,m,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(_e,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){ot(s,s.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)yc(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,wt=n;break}wt=i.return}}function ap(n,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Na(n,s),c&4&&Xo(5,s);break;case 1:if(Na(n,s),c&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(C){ot(s,s.return,C)}else{var m=ii(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(s,s.return,C)}}c&64&&Xm(s),c&512&&Qo(s,s.return);break;case 3:if(Na(n,s),c&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Of(n,i)}catch(C){ot(s,s.return,C)}}break;case 27:i===null&&c&4&&tp(s);case 26:case 5:Na(n,s),i===null&&c&4&&Wm(s),c&512&&Qo(s,s.return);break;case 12:Na(n,s);break;case 13:Na(n,s),c&4&&sp(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=ux.bind(null,s),Nx(n,s))));break;case 22:if(c=s.memoizedState!==null||aa,!c){i=i!==null&&i.memoizedState!==null||yt,m=aa;var y=yt;aa=c,(yt=i)&&!y?wa(n,s,(s.subtreeFlags&8772)!==0):Na(n,s),aa=m,yt=y}break;case 30:break;default:Na(n,s)}}function ip(n){var i=n.alternate;i!==null&&(n.alternate=null,ip(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Sr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,Zt=!1;function ia(n,i,s){for(s=s.child;s!==null;)op(n,i,s),s=s.sibling}function op(n,i,s){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:yt||Rn(s,i),ia(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yt||Rn(s,i);var c=ct,m=Zt;La(s.type)&&(ct=s.stateNode,Zt=!1),ia(n,i,s),ls(s.stateNode),ct=c,Zt=m;break;case 5:yt||Rn(s,i);case 6:if(c=ct,m=Zt,ct=null,ia(n,i,s),ct=c,Zt=m,ct!==null)if(Zt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(y){ot(s,i,y)}else try{ct.removeChild(s.stateNode)}catch(y){ot(s,i,y)}break;case 18:ct!==null&&(Zt?(n=ct,Jp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),hs(n)):Jp(ct,s.stateNode));break;case 4:c=ct,m=Zt,ct=s.stateNode.containerInfo,Zt=!0,ia(n,i,s),ct=c,Zt=m;break;case 0:case 11:case 14:case 15:yt||Aa(2,s,i),yt||Aa(4,s,i),ia(n,i,s);break;case 1:yt||(Rn(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Qm(s,i,c)),ia(n,i,s);break;case 21:ia(n,i,s);break;case 22:yt=(c=yt)||s.memoizedState!==null,ia(n,i,s),yt=c;break;default:ia(n,i,s)}}function sp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hs(n)}catch(s){ot(i,i.return,s)}}function tx(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new np),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new np),i;default:throw Error(o(435,n.tag))}}function Fu(n,i){var s=tx(n);i.forEach(function(c){var m=cx.bind(null,n,c);s.has(c)||(s.add(c),c.then(m,m))})}function Wt(n,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var m=s[c],y=n,C=i,b=C;e:for(;b!==null;){switch(b.tag){case 27:if(La(b.type)){ct=b.stateNode,Zt=!1;break e}break;case 5:ct=b.stateNode,Zt=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,Zt=!0;break e}b=b.return}if(ct===null)throw Error(o(160));op(y,C,m),ct=null,Zt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)lp(i,n),i=i.sibling}var Sn=null;function lp(n,i){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wt(i,n),en(n),c&4&&(Aa(3,n,n.return),Xo(3,n),Aa(5,n,n.return));break;case 1:Wt(i,n),en(n),c&512&&(yt||s===null||Rn(s,s.return)),c&64&&aa&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var m=Sn;if(Wt(i,n),en(n),c&512&&(yt||s===null||Rn(s,s.return)),c&4){var y=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[So]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),It(y,c,s),y[Lt]=n,At(y),c=y;break e;case"link":var C=th("link","href",m).get(c+(s.href||""));if(C){for(var b=0;b<C.length;b++)if(y=C[b],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(b,1);break t}}y=m.createElement(c),It(y,c,s),m.head.appendChild(y);break;case"meta":if(C=th("meta","content",m).get(c+(s.content||""))){for(b=0;b<C.length;b++)if(y=C[b],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(b,1);break t}}y=m.createElement(c),It(y,c,s),m.head.appendChild(y);break;default:throw Error(o(468,c))}y[Lt]=n,At(y),c=y}n.stateNode=c}else nh(m,n.type,n.stateNode);else n.stateNode=eh(m,c,n.memoizedProps);else y!==c?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,c===null?nh(m,n.type,n.stateNode):eh(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&qu(n,n.memoizedProps,s.memoizedProps)}break;case 27:Wt(i,n),en(n),c&512&&(yt||s===null||Rn(s,s.return)),s!==null&&c&4&&qu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Wt(i,n),en(n),c&512&&(yt||s===null||Rn(s,s.return)),n.flags&32){m=n.stateNode;try{Ei(m,"")}catch(z){ot(n,n.return,z)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,qu(n,m,s!==null?s.memoizedProps:m)),c&1024&&(Bu=!0);break;case 6:if(Wt(i,n),en(n),c&4){if(n.stateNode===null)throw Error(o(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(z){ot(n,n.return,z)}}break;case 3:if(kl=null,m=Sn,Sn=Dl(i.containerInfo),Wt(i,n),Sn=m,en(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{hs(i.containerInfo)}catch(z){ot(n,n.return,z)}Bu&&(Bu=!1,rp(n));break;case 4:c=Sn,Sn=Dl(n.stateNode.containerInfo),Wt(i,n),en(n),Sn=c;break;case 12:Wt(i,n),en(n);break;case 13:Wt(i,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ku=qt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Fu(n,c)));break;case 22:m=n.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,U=aa,J=yt;if(aa=U||m,yt=J||A,Wt(i,n),yt=J,aa=U,en(n),c&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(s===null||A||aa||yt||oi(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){A=s=i;try{if(y=A.stateNode,m)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{b=A.stateNode;var X=A.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(z){ot(A,A.return,z)}}}else if(i.tag===6){if(s===null){A=i;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(z){ot(A,A.return,z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Fu(n,s))));break;case 19:Wt(i,n),en(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Fu(n,c)));break;case 30:break;case 21:break;default:Wt(i,n),en(n)}}function en(n){var i=n.flags;if(i&2){try{for(var s,c=n.return;c!==null;){if(ep(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var m=s.stateNode,y=zu(n);vl(n,y,m);break;case 5:var C=s.stateNode;s.flags&32&&(Ei(C,""),s.flags&=-33);var b=zu(n);vl(n,b,C);break;case 3:case 4:var A=s.stateNode.containerInfo,U=zu(n);Gu(n,U,A);break;default:throw Error(o(161))}}catch(J){ot(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function rp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;rp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Na(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ap(n,i.alternate,i),i=i.sibling}function oi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Aa(4,i,i.return),oi(i);break;case 1:Rn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Qm(i,i.return,s),oi(i);break;case 27:ls(i.stateNode);case 26:case 5:Rn(i,i.return),oi(i);break;case 22:i.memoizedState===null&&oi(i);break;case 30:oi(i);break;default:oi(i)}n=n.sibling}}function wa(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=n,y=i,C=y.flags;switch(y.tag){case 0:case 11:case 15:wa(m,y,s),Xo(4,y);break;case 1:if(wa(m,y,s),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){ot(c,c.return,U)}if(c=y,m=c.updateQueue,m!==null){var b=c.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Vf(A[m],b)}catch(U){ot(c,c.return,U)}}s&&C&64&&Xm(y),Qo(y,y.return);break;case 27:tp(y);case 26:case 5:wa(m,y,s),s&&c===null&&C&4&&Wm(y),Qo(y,y.return);break;case 12:wa(m,y,s);break;case 13:wa(m,y,s),s&&C&4&&sp(m,y);break;case 22:y.memoizedState===null&&wa(m,y,s),Qo(y,y.return);break;case 30:break;default:wa(m,y,s)}i=i.sibling}}function Hu(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Vo(s))}function Yu(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Vo(n))}function Dn(n,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)up(n,i,s,c),i=i.sibling}function up(n,i,s,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Dn(n,i,s,c),m&2048&&Xo(9,i);break;case 1:Dn(n,i,s,c);break;case 3:Dn(n,i,s,c),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Vo(n)));break;case 12:if(m&2048){Dn(n,i,s,c),n=i.stateNode;try{var y=i.memoizedProps,C=y.id,b=y.onPostCommit;typeof b=="function"&&b(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){ot(i,i.return,A)}}else Dn(n,i,s,c);break;case 13:Dn(n,i,s,c);break;case 23:break;case 22:y=i.stateNode,C=i.alternate,i.memoizedState!==null?y._visibility&2?Dn(n,i,s,c):Wo(n,i):y._visibility&2?Dn(n,i,s,c):(y._visibility|=2,Fi(n,i,s,c,(i.subtreeFlags&10256)!==0)),m&2048&&Hu(C,i);break;case 24:Dn(n,i,s,c),m&2048&&Yu(i.alternate,i);break;default:Dn(n,i,s,c)}}function Fi(n,i,s,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,C=i,b=s,A=c,U=C.flags;switch(C.tag){case 0:case 11:case 15:Fi(y,C,b,A,m),Xo(8,C);break;case 23:break;case 22:var J=C.stateNode;C.memoizedState!==null?J._visibility&2?Fi(y,C,b,A,m):Wo(y,C):(J._visibility|=2,Fi(y,C,b,A,m)),m&&U&2048&&Hu(C.alternate,C);break;case 24:Fi(y,C,b,A,m),m&&U&2048&&Yu(C.alternate,C);break;default:Fi(y,C,b,A,m)}i=i.sibling}}function Wo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,c=i,m=c.flags;switch(c.tag){case 22:Wo(s,c),m&2048&&Hu(c.alternate,c);break;case 24:Wo(s,c),m&2048&&Yu(c.alternate,c);break;default:Wo(s,c)}i=i.sibling}}var es=8192;function Hi(n){if(n.subtreeFlags&es)for(n=n.child;n!==null;)cp(n),n=n.sibling}function cp(n){switch(n.tag){case 26:Hi(n),n.flags&es&&n.memoizedState!==null&&qx(Sn,n.memoizedState,n.memoizedProps);break;case 5:Hi(n);break;case 3:case 4:var i=Sn;Sn=Dl(n.stateNode.containerInfo),Hi(n),Sn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=es,es=16777216,Hi(n),es=i):Hi(n));break;default:Hi(n)}}function dp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ts(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];wt=c,mp(c,n)}dp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(n),n=n.sibling}function fp(n){switch(n.tag){case 0:case 11:case 15:ts(n),n.flags&2048&&Aa(9,n,n.return);break;case 3:ts(n);break;case 12:ts(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,xl(n)):ts(n);break;default:ts(n)}}function xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];wt=c,mp(c,n)}dp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Aa(8,i,i.return),xl(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xl(i));break;default:xl(i)}n=n.sibling}}function mp(n,i){for(;wt!==null;){var s=wt;switch(s.tag){case 0:case 11:case 15:Aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,wt=c;else e:for(s=n;wt!==null;){c=wt;var m=c.sibling,y=c.return;if(ip(c),c===s){wt=null;break e}if(m!==null){m.return=y,wt=m;break e}wt=y}}}var nx={getCacheForType:function(n){var i=Ut(_t),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},ax=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,qe=null,Ye=0,We=0,tn=null,Ma=!1,Yi=!1,Ju=!1,oa=0,pt=0,Ra=0,si=0,$u=0,pn=0,Ji=0,ns=null,Kt=null,Zu=!1,Ku=0,Tl=1/0,Cl=null,Da=null,Dt=0,Ia=null,$i=null,Zi=0,Xu=0,Qu=null,pp=null,as=0,Wu=null;function nn(){if((Qe&2)!==0&&Ye!==0)return Ye&-Ye;if(q.T!==null){var n=Pi;return n!==0?n:sc()}return Md()}function hp(){pn===0&&(pn=(Ye&536870912)===0||Ze?Ue():536870912);var n=mn.current;return n!==null&&(n.flags|=32),pn}function an(n,i,s){(n===st&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Ki(n,0),ka(n,Ye,pn,!1)),Hn(n,s),((Qe&2)===0||n!==st)&&(n===st&&((Qe&2)===0&&(si|=s),pt===4&&ka(n,Ye,pn,!1)),In(n))}function gp(n,i,s){if((Qe&6)!==0)throw Error(o(327));var c=!s&&(i&124)===0&&(i&n.expiredLanes)===0||He(n,i),m=c?sx(n,i):nc(n,i,!0),y=c;do{if(m===0){Yi&&!c&&ka(n,i,0,!1);break}else{if(s=n.current.alternate,y&&!ix(s)){m=nc(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var b=n;m=ns;var A=b.current.memoizedState.isDehydrated;if(A&&(Ki(b,C).flags|=256),C=nc(b,C,!1),C!==2){if(Ju&&!A){b.errorRecoveryDisabledLanes|=y,si|=y,m=4;break e}y=Kt,Kt=m,y!==null&&(Kt===null?Kt=y:Kt.push.apply(Kt,y))}m=C}if(y=!1,m!==2)continue}}if(m===1){Ki(n,0),ka(n,i,0,!0);break}e:{switch(c=n,y=m,y){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ka(c,i,pn,!Ma);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(m=Ku+300-qt(),10<m)){if(ka(c,i,pn,!Ma),xt(c,0,!0)!==0)break e;c.timeoutHandle=Hp(yp.bind(null,c,s,Kt,Cl,Zu,i,pn,si,Ji,Ma,y,2,-0,0),m);break e}yp(c,s,Kt,Cl,Zu,i,pn,si,Ji,Ma,y,0,-0,0)}}break}while(!0);In(n)}function yp(n,i,s,c,m,y,C,b,A,U,J,X,O,z){if(n.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(cs={stylesheets:null,count:0,unsuspend:jx},cp(i),X=zx(),X!==null)){n.cancelPendingCommit=X(_p.bind(null,n,i,y,s,c,m,C,b,A,J,1,O,z)),ka(n,y,C,!U);return}_p(n,i,y,s,c,m,C,b,A)}function ix(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var m=s[c],y=m.getSnapshot;m=m.value;try{if(!Xt(y(),m))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ka(n,i,s,c){i&=~$u,i&=~si,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var m=i;0<m;){var y=31-k(m),C=1<<y;c[y]=-1,m&=~C}s!==0&&Nd(n,s,i)}function Sl(){return(Qe&6)===0?(is(0),!1):!0}function ec(){if(qe!==null){if(We===0)var n=qe.return;else n=qe,Xn=ei=null,yu(n),Gi=null,$o=0,n=qe;for(;n!==null;)Km(n.alternate,n),n=n.return;qe=null}}function Ki(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,Sx(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),ec(),st=n,qe=s=$n(n.current,null),Ye=i,We=0,tn=null,Ma=!1,Yi=He(n,i),Ju=!1,Ji=pn=$u=si=Ra=pt=0,Kt=ns=null,Zu=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var m=31-k(c),y=1<<m;i|=n[m],c&=~y}return oa=i,Fs(),s}function vp(n,i){Ve=null,q.H=ul,i===jo||i===Ws?(i=Uf(),We=3):i===If?(i=Uf(),We=4):We=i===Pm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tn=i,qe===null&&(pt=1,pl(n,un(i,n.current)))}function xp(){var n=q.H;return q.H=ul,n===null?ul:n}function Tp(){var n=q.A;return q.A=nx,n}function tc(){pt=4,Ma||(Ye&4194048)!==Ye&&mn.current!==null||(Yi=!0),(Ra&134217727)===0&&(si&134217727)===0||st===null||ka(st,Ye,pn,!1)}function nc(n,i,s){var c=Qe;Qe|=2;var m=xp(),y=Tp();(st!==n||Ye!==i)&&(Cl=null,Ki(n,i)),i=!1;var C=pt;e:do try{if(We!==0&&qe!==null){var b=qe,A=tn;switch(We){case 8:ec(),C=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(i=!0);var U=We;if(We=0,tn=null,Xi(n,b,A,U),s&&Yi){C=0;break e}break;default:U=We,We=0,tn=null,Xi(n,b,A,U)}}ox(),C=pt;break}catch(J){vp(n,J)}while(!0);return i&&n.shellSuspendCounter++,Xn=ei=null,Qe=c,q.H=m,q.A=y,qe===null&&(st=null,Ye=0,Fs()),C}function ox(){for(;qe!==null;)Cp(qe)}function sx(n,i){var s=Qe;Qe|=2;var c=xp(),m=Tp();st!==n||Ye!==i?(Cl=null,Tl=qt()+500,Ki(n,i)):Yi=He(n,i);e:do try{if(We!==0&&qe!==null){i=qe;var y=tn;t:switch(We){case 1:We=0,tn=null,Xi(n,i,y,1);break;case 2:case 9:if(kf(y)){We=0,tn=null,Sp(i);break}i=function(){We!==2&&We!==9||st!==n||(We=7),In(n)},y.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:kf(y)?(We=0,tn=null,Sp(i)):(We=0,tn=null,Xi(n,i,y,7));break;case 5:var C=null;switch(qe.tag){case 26:C=qe.memoizedState;case 5:case 27:var b=qe;if(!C||ah(C)){We=0,tn=null;var A=b.sibling;if(A!==null)qe=A;else{var U=b.return;U!==null?(qe=U,bl(U)):qe=null}break t}}We=0,tn=null,Xi(n,i,y,5);break;case 6:We=0,tn=null,Xi(n,i,y,6);break;case 8:ec(),pt=6;break e;default:throw Error(o(462))}}lx();break}catch(J){vp(n,J)}while(!0);return Xn=ei=null,q.H=c,q.A=m,Qe=s,qe!==null?0:(st=null,Ye=0,Fs(),pt)}function lx(){for(;qe!==null&&!Nn();)Cp(qe)}function Cp(n){var i=$m(n.alternate,n,oa);n.memoizedProps=n.pendingProps,i===null?bl(n):qe=i}function Sp(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Gm(s,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=Gm(s,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:yu(i);default:Km(s,i),i=qe=bf(i,oa),i=$m(s,i,oa)}n.memoizedProps=n.pendingProps,i===null?bl(n):qe=i}function Xi(n,i,s,c){Xn=ei=null,yu(i),Gi=null,$o=0;var m=i.return;try{if(K0(n,m,i,s,Ye)){pt=1,pl(n,un(s,n.current)),qe=null;return}}catch(y){if(m!==null)throw qe=m,y;pt=1,pl(n,un(s,n.current)),qe=null;return}i.flags&32768?(Ze||c===1?n=!0:Yi||(Ye&536870912)!==0?n=!1:(Ma=n=!0,(c===2||c===9||c===3||c===6)&&(c=mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),bp(i,n)):bl(i)}function bl(n){var i=n;do{if((i.flags&32768)!==0){bp(i,Ma);return}n=i.return;var s=Q0(i.alternate,i,oa);if(s!==null){qe=s;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=n}while(i!==null);pt===0&&(pt=5)}function bp(n,i){do{var s=W0(n.alternate,n);if(s!==null){s.flags&=32767,qe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){qe=n;return}qe=n=s}while(n!==null);pt=6,qe=null}function _p(n,i,s,c,m,y,C,b,A){n.cancelPendingCommit=null;do _l();while(Dt!==0);if((Qe&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(y=i.lanes|i.childLanes,y|=Yr,jv(n,s,y,C,b,A),n===st&&(qe=st=null,Ye=0),$i=i,Ia=n,Zi=s,Xu=y,Qu=m,pp=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,dx(zt,function(){return Mp(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,m=oe.p,oe.p=2,C=Qe,Qe|=4;try{ex(n,i,s)}finally{Qe=C,oe.p=m,q.T=c}}Dt=1,Ep(),Ap(),Np()}}function Ep(){if(Dt===1){Dt=0;var n=Ia,i=$i,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var c=oe.p;oe.p=2;var m=Qe;Qe|=4;try{lp(i,n);var y=pc,C=mf(n.containerInfo),b=y.focusedElem,A=y.selectionRange;if(C!==b&&b&&b.ownerDocument&&ff(b.ownerDocument.documentElement,b)){if(A!==null&&zr(b)){var U=A.start,J=A.end;if(J===void 0&&(J=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(J,b.value.length);else{var X=b.ownerDocument||document,O=X&&X.defaultView||window;if(O.getSelection){var z=O.getSelection(),_e=b.textContent.length,Ce=Math.min(A.start,_e),it=A.end===void 0?Ce:Math.min(A.end,_e);!z.extend&&Ce>it&&(C=it,it=Ce,Ce=C);var I=df(b,Ce),R=df(b,it);if(I&&R&&(z.rangeCount!==1||z.anchorNode!==I.node||z.anchorOffset!==I.offset||z.focusNode!==R.node||z.focusOffset!==R.offset)){var L=X.createRange();L.setStart(I.node,I.offset),z.removeAllRanges(),Ce>it?(z.addRange(L),z.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),z.addRange(L))}}}}for(X=[],z=b;z=z.parentNode;)z.nodeType===1&&X.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var $=X[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Pl=!!mc,pc=mc=null}finally{Qe=m,oe.p=c,q.T=s}}n.current=i,Dt=2}}function Ap(){if(Dt===2){Dt=0;var n=Ia,i=$i,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var c=oe.p;oe.p=2;var m=Qe;Qe|=4;try{ap(n,i.alternate,i)}finally{Qe=m,oe.p=c,q.T=s}}Dt=3}}function Np(){if(Dt===4||Dt===3){Dt=0,ma();var n=Ia,i=$i,s=Zi,c=pp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Dt=5:(Dt=0,$i=Ia=null,wp(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Da=null),Tr(s),i=i.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=q.T,m=oe.p,oe.p=2,q.T=null;try{for(var y=n.onRecoverableError,C=0;C<c.length;C++){var b=c[C];y(b.value,{componentStack:b.stack})}}finally{q.T=i,oe.p=m}}(Zi&3)!==0&&_l(),In(n),m=n.pendingLanes,(s&4194090)!==0&&(m&42)!==0?n===Wu?as++:(as=0,Wu=n):as=0,is(0)}}function wp(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Vo(i)))}function _l(n){return Ep(),Ap(),Np(),Mp()}function Mp(){if(Dt!==5)return!1;var n=Ia,i=Xu;Xu=0;var s=Tr(Zi),c=q.T,m=oe.p;try{oe.p=32>s?32:s,q.T=null,s=Qu,Qu=null;var y=Ia,C=Zi;if(Dt=0,$i=Ia=null,Zi=0,(Qe&6)!==0)throw Error(o(331));var b=Qe;if(Qe|=4,fp(y.current),up(y,y.current,C,s),Qe=b,is(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Bn,y)}catch{}return!0}finally{oe.p=m,q.T=c,wp(n,i)}}function Rp(n,i,s){i=un(s,i),i=Du(n.stateNode,i,2),n=Sa(n,i,2),n!==null&&(Hn(n,2),In(n))}function ot(n,i,s){if(n.tag===3)Rp(n,n,s);else for(;i!==null;){if(i.tag===3){Rp(i,n,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Da===null||!Da.has(c))){n=un(s,n),s=Lm(2),c=Sa(i,s,2),c!==null&&(Um(s,c,i,n),Hn(c,2),In(c));break}}i=i.return}}function ac(n,i,s){var c=n.pingCache;if(c===null){c=n.pingCache=new ax;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(s)||(Ju=!0,m.add(s),n=rx.bind(null,n,i,s),i.then(n,n))}function rx(n,i,s){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,st===n&&(Ye&s)===s&&(pt===4||pt===3&&(Ye&62914560)===Ye&&300>qt()-Ku?(Qe&2)===0&&Ki(n,0):$u|=s,Ji===Ye&&(Ji=0)),In(n)}function Dp(n,i){i===0&&(i=bt()),n=Ii(n,i),n!==null&&(Hn(n,i),In(n))}function ux(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Dp(n,s)}function cx(n,i){var s=0;switch(n.tag){case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(s=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Dp(n,s)}function dx(n,i){return Tn(n,i)}var El=null,Qi=null,ic=!1,Al=!1,oc=!1,li=0;function In(n){n!==Qi&&n.next===null&&(Qi===null?El=Qi=n:Qi=Qi.next=n),Al=!0,ic||(ic=!0,mx())}function is(n,i){if(!oc&&Al){oc=!0;do for(var s=!1,c=El;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var C=c.suspendedLanes,b=c.pingedLanes;y=(1<<31-k(42|n)+1)-1,y&=m&~(C&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,Up(c,y))}else y=Ye,y=xt(c,c===st?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||He(c,y)||(s=!0,Up(c,y));c=c.next}while(s);oc=!1}}function fx(){Ip()}function Ip(){Al=ic=!1;var n=0;li!==0&&(Cx()&&(n=li),li=0);for(var i=qt(),s=null,c=El;c!==null;){var m=c.next,y=kp(c,i);y===0?(c.next=null,s===null?El=m:s.next=m,m===null&&(Qi=s)):(s=c,(n!==0||(y&3)!==0)&&(Al=!0)),c=m}is(n)}function kp(n,i){for(var s=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var C=31-k(y),b=1<<C,A=m[C];A===-1?((b&s)===0||(b&c)!==0)&&(m[C]=Ke(b,i)):A<=i&&(n.expiredLanes|=b),y&=~b}if(i=st,s=Ye,s=xt(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===i&&(We===2||We===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ht(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||He(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(c!==null&&ht(c),Tr(s)){case 2:case 8:s=Gn;break;case 32:s=zt;break;case 268435456:s=ha;break;default:s=zt}return c=Lp.bind(null,n),s=Tn(s,c),n.callbackPriority=i,n.callbackNode=s,i}return c!==null&&c!==null&&ht(c),n.callbackPriority=2,n.callbackNode=null,2}function Lp(n,i){if(Dt!==0&&Dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(_l()&&n.callbackNode!==s)return null;var c=Ye;return c=xt(n,n===st?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(gp(n,c,i),kp(n,qt()),n.callbackNode!=null&&n.callbackNode===s?Lp.bind(null,n):null)}function Up(n,i){if(_l())return null;gp(n,i,!0)}function mx(){bx(function(){(Qe&6)!==0?Tn(Ht,fx):Ip()})}function sc(){return li===0&&(li=Ue()),li}function Pp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vs(""+n)}function Vp(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function px(n,i,s,c,m){if(i==="submit"&&s&&s.stateNode===m){var y=Pp((m[Yt]||null).action),C=c.submitter;C&&(i=(i=C[Yt]||null)?Pp(i.formAction):C.getAttribute("formAction"),i!==null&&(y=i,C=null));var b=new zs("action","action",null,c,m);n.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(li!==0){var A=C?Vp(m,C):new FormData(m);Au(s,{pending:!0,data:A,method:m.method,action:y},null,A)}}else typeof y=="function"&&(b.preventDefault(),A=C?Vp(m,C):new FormData(m),Au(s,{pending:!0,data:A,method:m.method,action:y},y,A))},currentTarget:m}]})}}for(var lc=0;lc<Hr.length;lc++){var rc=Hr[lc],hx=rc.toLowerCase(),gx=rc[0].toUpperCase()+rc.slice(1);Cn(hx,"on"+gx)}Cn(gf,"onAnimationEnd"),Cn(yf,"onAnimationIteration"),Cn(vf,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(k0,"onTransitionRun"),Cn(L0,"onTransitionStart"),Cn(U0,"onTransitionCancel"),Cn(xf,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(os));function Op(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],m=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var C=c.length-1;0<=C;C--){var b=c[C],A=b.instance,U=b.currentTarget;if(b=b.listener,A!==y&&m.isPropagationStopped())break e;y=b,m.currentTarget=U;try{y(m)}catch(J){ml(J)}m.currentTarget=null,y=A}else for(C=0;C<c.length;C++){if(b=c[C],A=b.instance,U=b.currentTarget,b=b.listener,A!==y&&m.isPropagationStopped())break e;y=b,m.currentTarget=U;try{y(m)}catch(J){ml(J)}m.currentTarget=null,y=A}}}}function ze(n,i){var s=i[Cr];s===void 0&&(s=i[Cr]=new Set);var c=n+"__bubble";s.has(c)||(jp(i,n,2,!1),s.add(c))}function uc(n,i,s){var c=0;i&&(c|=4),jp(s,n,c,i)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function cc(n){if(!n[Nl]){n[Nl]=!0,Dd.forEach(function(s){s!=="selectionchange"&&(yx.has(s)||uc(s,!1,n),uc(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Nl]||(i[Nl]=!0,uc("selectionchange",!1,i))}}function jp(n,i,s,c){switch(uh(i)){case 2:var m=Fx;break;case 8:m=Hx;break;default:m=_c}s=m.bind(null,i,s,n),m=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(i,s,{capture:!0,passive:m}):n.addEventListener(i,s,!0):m!==void 0?n.addEventListener(i,s,{passive:m}):n.addEventListener(i,s,!1)}function dc(n,i,s,c,m){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var b=c.stateNode.containerInfo;if(b===m)break;if(C===4)for(C=c.return;C!==null;){var A=C.tag;if((A===3||A===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;b!==null;){if(C=xi(b),C===null)return;if(A=C.tag,A===5||A===6||A===26||A===27){c=y=C;continue e}b=b.parentNode}}c=c.return}Hd(function(){var U=y,J=Rr(s),X=[];e:{var O=Tf.get(n);if(O!==void 0){var z=zs,_e=n;switch(n){case"keypress":if(js(s)===0)break e;case"keydown":case"keyup":z=d0;break;case"focusin":_e="focus",z=Pr;break;case"focusout":_e="blur",z=Pr;break;case"beforeblur":case"afterblur":z=Pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=p0;break;case gf:case yf:case vf:z=n0;break;case xf:z=g0;break;case"scroll":case"scrollend":z=Xv;break;case"wheel":z=v0;break;case"copy":case"cut":case"paste":z=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Kd;break;case"toggle":case"beforetoggle":z=T0}var Ce=(i&4)!==0,it=!Ce&&(n==="scroll"||n==="scrollend"),I=Ce?O!==null?O+"Capture":null:O;Ce=[];for(var R=U,L;R!==null;){var $=R;if(L=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||L===null||I===null||($=_o(R,I),$!=null&&Ce.push(ss(R,$,L))),it)break;R=R.return}0<Ce.length&&(O=new z(O,_e,null,s,J),X.push({event:O,listeners:Ce}))}}if((i&7)===0){e:{if(O=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",O&&s!==Mr&&(_e=s.relatedTarget||s.fromElement)&&(xi(_e)||_e[vi]))break e;if((z||O)&&(O=J.window===J?J:(O=J.ownerDocument)?O.defaultView||O.parentWindow:window,z?(_e=s.relatedTarget||s.toElement,z=U,_e=_e?xi(_e):null,_e!==null&&(it=d(_e),Ce=_e.tag,_e!==it||Ce!==5&&Ce!==27&&Ce!==6)&&(_e=null)):(z=null,_e=U),z!==_e)){if(Ce=$d,$="onMouseLeave",I="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Kd,$="onPointerLeave",I="onPointerEnter",R="pointer"),it=z==null?O:bo(z),L=_e==null?O:bo(_e),O=new Ce($,R+"leave",z,s,J),O.target=it,O.relatedTarget=L,$=null,xi(J)===U&&(Ce=new Ce(I,R+"enter",_e,s,J),Ce.target=L,Ce.relatedTarget=it,$=Ce),it=$,z&&_e)t:{for(Ce=z,I=_e,R=0,L=Ce;L;L=Wi(L))R++;for(L=0,$=I;$;$=Wi($))L++;for(;0<R-L;)Ce=Wi(Ce),R--;for(;0<L-R;)I=Wi(I),L--;for(;R--;){if(Ce===I||I!==null&&Ce===I.alternate)break t;Ce=Wi(Ce),I=Wi(I)}Ce=null}else Ce=null;z!==null&&qp(X,O,z,Ce,!1),_e!==null&&it!==null&&qp(X,it,_e,Ce,!0)}}e:{if(O=U?bo(U):window,z=O.nodeName&&O.nodeName.toLowerCase(),z==="select"||z==="input"&&O.type==="file")var pe=of;else if(nf(O))if(sf)pe=R0;else{pe=w0;var Oe=N0}else z=O.nodeName,!z||z.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?U&&wr(U.elementType)&&(pe=of):pe=M0;if(pe&&(pe=pe(n,U))){af(X,pe,s,J);break e}Oe&&Oe(n,O,U),n==="focusout"&&U&&O.type==="number"&&U.memoizedProps.value!=null&&Nr(O,"number",O.value)}switch(Oe=U?bo(U):window,n){case"focusin":(nf(Oe)||Oe.contentEditable==="true")&&(Mi=Oe,Gr=U,Io=null);break;case"focusout":Io=Gr=Mi=null;break;case"mousedown":Br=!0;break;case"contextmenu":case"mouseup":case"dragend":Br=!1,pf(X,s,J);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":pf(X,s,J)}var xe;if(Or)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else wi?ef(n,s)&&(Se="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(Xd&&s.locale!=="ko"&&(wi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&wi&&(xe=Yd()):(va=J,kr="value"in va?va.value:va.textContent,wi=!0)),Oe=wl(U,Se),0<Oe.length&&(Se=new Zd(Se,n,null,s,J),X.push({event:Se,listeners:Oe}),xe?Se.data=xe:(xe=tf(s),xe!==null&&(Se.data=xe)))),(xe=S0?b0(n,s):_0(n,s))&&(Se=wl(U,"onBeforeInput"),0<Se.length&&(Oe=new Zd("onBeforeInput","beforeinput",null,s,J),X.push({event:Oe,listeners:Se}),Oe.data=xe)),px(X,n,U,s,J)}Op(X,i)})}function ss(n,i,s){return{instance:n,listener:i,currentTarget:s}}function wl(n,i){for(var s=i+"Capture",c=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=_o(n,s),m!=null&&c.unshift(ss(n,m,y)),m=_o(n,i),m!=null&&c.push(ss(n,m,y))),n.tag===3)return c;n=n.return}return[]}function Wi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qp(n,i,s,c,m){for(var y=i._reactName,C=[];s!==null&&s!==c;){var b=s,A=b.alternate,U=b.stateNode;if(b=b.tag,A!==null&&A===c)break;b!==5&&b!==26&&b!==27||U===null||(A=U,m?(U=_o(s,y),U!=null&&C.unshift(ss(s,U,A))):m||(U=_o(s,y),U!=null&&C.push(ss(s,U,A)))),s=s.return}C.length!==0&&n.push({event:i,listeners:C})}var vx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function zp(n){return(typeof n=="string"?n:""+n).replace(vx,`
`).replace(xx,"")}function Gp(n,i){return i=zp(i),zp(n)===i}function Ml(){}function at(n,i,s,c,m,y){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ei(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ei(n,""+c);break;case"className":Ls(n,"class",c);break;case"tabIndex":Ls(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(n,s,c);break;case"style":Bd(n,c,y);break;case"data":if(i!=="object"){Ls(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Vs(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(i!=="input"&&at(n,i,"name",m.name,m,null),at(n,i,"formEncType",m.formEncType,m,null),at(n,i,"formMethod",m.formMethod,m,null),at(n,i,"formTarget",m.formTarget,m,null)):(at(n,i,"encType",m.encType,m,null),at(n,i,"method",m.method,m,null),at(n,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Vs(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=Ml);break;case"onScroll":c!=null&&ze("scroll",n);break;case"onScrollEnd":c!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=Vs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":ze("beforetoggle",n),ze("toggle",n),ks(n,"popover",c);break;case"xlinkActuate":Yn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ks(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zv.get(s)||s,ks(n,s,c))}}function fc(n,i,s,c,m,y){switch(s){case"style":Bd(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof c=="string"?Ei(n,c):(typeof c=="number"||typeof c=="bigint")&&Ei(n,""+c);break;case"onScroll":c!=null&&ze("scroll",n);break;case"onScrollEnd":c!=null&&ze("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),i=s.slice(2,m?s.length-7:void 0),y=n[Yt]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,c,m);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):ks(n,s,c)}}}function It(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var c=!1,m=!1,y;for(y in s)if(s.hasOwnProperty(y)){var C=s[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:at(n,i,y,C,s,null)}}m&&at(n,i,"srcSet",s.srcSet,s,null),c&&at(n,i,"src",s.src,s,null);return;case"input":ze("invalid",n);var b=y=C=m=null,A=null,U=null;for(c in s)if(s.hasOwnProperty(c)){var J=s[c];if(J!=null)switch(c){case"name":m=J;break;case"type":C=J;break;case"checked":A=J;break;case"defaultChecked":U=J;break;case"value":y=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,i));break;default:at(n,i,c,J,s,null)}}jd(n,y,b,A,U,C,m,!1),Us(n);return;case"select":ze("invalid",n),c=C=y=null;for(m in s)if(s.hasOwnProperty(m)&&(b=s[m],b!=null))switch(m){case"value":y=b;break;case"defaultValue":C=b;break;case"multiple":c=b;default:at(n,i,m,b,s,null)}i=y,s=C,n.multiple=!!c,i!=null?_i(n,!!c,i,!1):s!=null&&_i(n,!!c,s,!0);return;case"textarea":ze("invalid",n),y=m=c=null;for(C in s)if(s.hasOwnProperty(C)&&(b=s[C],b!=null))switch(C){case"value":c=b;break;case"defaultValue":m=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:at(n,i,C,b,s,null)}zd(n,c,m,y),Us(n);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(c=s[A],c!=null))switch(A){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(n,i,A,c,s,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(c=0;c<os.length;c++)ze(os[c],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(c=s[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:at(n,i,U,c,s,null)}return;default:if(wr(i)){for(J in s)s.hasOwnProperty(J)&&(c=s[J],c!==void 0&&fc(n,i,J,c,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(c=s[b],c!=null&&at(n,i,b,c,s,null))}function Tx(n,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,C=null,b=null,A=null,U=null,J=null;for(z in s){var X=s[z];if(s.hasOwnProperty(z)&&X!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":A=X;default:c.hasOwnProperty(z)||at(n,i,z,null,c,X)}}for(var O in c){var z=c[O];if(X=s[O],c.hasOwnProperty(O)&&(z!=null||X!=null))switch(O){case"type":y=z;break;case"name":m=z;break;case"checked":U=z;break;case"defaultChecked":J=z;break;case"value":C=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,i));break;default:z!==X&&at(n,i,O,z,c,X)}}Ar(n,C,b,A,U,J,y,m);return;case"select":z=C=b=O=null;for(y in s)if(A=s[y],s.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":z=A;default:c.hasOwnProperty(y)||at(n,i,y,null,c,A)}for(m in c)if(y=c[m],A=s[m],c.hasOwnProperty(m)&&(y!=null||A!=null))switch(m){case"value":O=y;break;case"defaultValue":b=y;break;case"multiple":C=y;default:y!==A&&at(n,i,m,y,c,A)}i=b,s=C,c=z,O!=null?_i(n,!!s,O,!1):!!c!=!!s&&(i!=null?_i(n,!!s,i,!0):_i(n,!!s,s?[]:"",!1));return;case"textarea":z=O=null;for(b in s)if(m=s[b],s.hasOwnProperty(b)&&m!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:at(n,i,b,null,c,m)}for(C in c)if(m=c[C],y=s[C],c.hasOwnProperty(C)&&(m!=null||y!=null))switch(C){case"value":O=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==y&&at(n,i,C,m,c,y)}qd(n,O,z);return;case"option":for(var _e in s)if(O=s[_e],s.hasOwnProperty(_e)&&O!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:at(n,i,_e,null,c,O)}for(A in c)if(O=c[A],z=s[A],c.hasOwnProperty(A)&&O!==z&&(O!=null||z!=null))switch(A){case"selected":n.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:at(n,i,A,O,c,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)O=s[Ce],s.hasOwnProperty(Ce)&&O!=null&&!c.hasOwnProperty(Ce)&&at(n,i,Ce,null,c,O);for(U in c)if(O=c[U],z=s[U],c.hasOwnProperty(U)&&O!==z&&(O!=null||z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,i));break;default:at(n,i,U,O,c,z)}return;default:if(wr(i)){for(var it in s)O=s[it],s.hasOwnProperty(it)&&O!==void 0&&!c.hasOwnProperty(it)&&fc(n,i,it,void 0,c,O);for(J in c)O=c[J],z=s[J],!c.hasOwnProperty(J)||O===z||O===void 0&&z===void 0||fc(n,i,J,O,c,z);return}}for(var I in s)O=s[I],s.hasOwnProperty(I)&&O!=null&&!c.hasOwnProperty(I)&&at(n,i,I,null,c,O);for(X in c)O=c[X],z=s[X],!c.hasOwnProperty(X)||O===z||O==null&&z==null||at(n,i,X,O,c,z)}var mc=null,pc=null;function Rl(n){return n.nodeType===9?n:n.ownerDocument}function Bp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function hc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gc=null;function Cx(){var n=window.event;return n&&n.type==="popstate"?n===gc?!1:(gc=n,!0):(gc=null,!1)}var Hp=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(n){return Yp.resolve(null).then(n).catch(_x)}:Hp;function _x(n){setTimeout(function(){throw n})}function La(n){return n==="head"}function Jp(n,i){var s=i,c=0,m=0;do{var y=s.nextSibling;if(n.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(0<c&&8>c){s=c;var C=n.ownerDocument;if(s&1&&ls(C.documentElement),s&2&&ls(C.body),s&4)for(s=C.head,ls(s),C=s.firstChild;C;){var b=C.nextSibling,A=C.nodeName;C[So]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=b}}if(m===0){n.removeChild(y),hs(i);return}m--}else s==="$"||s==="$?"||s==="$!"?m++:c=s.charCodeAt(0)-48;else c=0;s=y}while(s);hs(i)}function yc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yc(s),Sr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Ex(n,i,s,c){for(;n.nodeType===1;){var m=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[So])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=bn(n.nextSibling),n===null)break}return null}function Ax(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=bn(n.nextSibling),n===null))return null;return n}function vc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Nx(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function bn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var xc=null;function $p(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Zp(n,i,s){switch(i=Rl(s),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function ls(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Sr(n)}var hn=new Map,Kp=new Set;function Dl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var sa=oe.d;oe.d={f:wx,r:Mx,D:Rx,C:Dx,L:Ix,m:kx,X:Ux,S:Lx,M:Px};function wx(){var n=sa.f(),i=Sl();return n||i}function Mx(n){var i=Ti(n);i!==null&&i.tag===5&&i.type==="form"?gm(i):sa.r(n)}var eo=typeof document>"u"?null:document;function Xp(n,i,s){var c=eo;if(c&&typeof i=="string"&&i){var m=rn(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),Kp.has(m)||(Kp.add(m),n={rel:n,crossOrigin:s,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),It(i,"link",n),At(i),c.head.appendChild(i)))}}function Rx(n){sa.D(n),Xp("dns-prefetch",n,null)}function Dx(n,i){sa.C(n,i),Xp("preconnect",n,i)}function Ix(n,i,s){sa.L(n,i,s);var c=eo;if(c&&n&&i){var m='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+rn(s.imageSizes)+'"]')):m+='[href="'+rn(n)+'"]';var y=m;switch(i){case"style":y=to(n);break;case"script":y=no(n)}hn.has(y)||(n=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),hn.set(y,n),c.querySelector(m)!==null||i==="style"&&c.querySelector(rs(y))||i==="script"&&c.querySelector(us(y))||(i=c.createElement("link"),It(i,"link",n),At(i),c.head.appendChild(i)))}}function kx(n,i){sa.m(n,i);var s=eo;if(s&&n){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(n)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=no(n)}if(!hn.has(y)&&(n=x({rel:"modulepreload",href:n},i),hn.set(y,n),s.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(us(y)))return}c=s.createElement("link"),It(c,"link",n),At(c),s.head.appendChild(c)}}}function Lx(n,i,s){sa.S(n,i,s);var c=eo;if(c&&n){var m=Ci(c).hoistableStyles,y=to(n);i=i||"default";var C=m.get(y);if(!C){var b={loading:0,preload:null};if(C=c.querySelector(rs(y)))b.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":i},s),(s=hn.get(y))&&Tc(n,s);var A=C=c.createElement("link");At(A),It(A,"link",n),A._p=new Promise(function(U,J){A.onload=U,A.onerror=J}),A.addEventListener("load",function(){b.loading|=1}),A.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Il(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:b},m.set(y,C)}}}function Ux(n,i){sa.X(n,i);var s=eo;if(s&&n){var c=Ci(s).hoistableScripts,m=no(n),y=c.get(m);y||(y=s.querySelector(us(m)),y||(n=x({src:n,async:!0},i),(i=hn.get(m))&&Cc(n,i),y=s.createElement("script"),At(y),It(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Px(n,i){sa.M(n,i);var s=eo;if(s&&n){var c=Ci(s).hoistableScripts,m=no(n),y=c.get(m);y||(y=s.querySelector(us(m)),y||(n=x({src:n,async:!0,type:"module"},i),(i=hn.get(m))&&Cc(n,i),y=s.createElement("script"),At(y),It(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Qp(n,i,s,c){var m=(m=W.current)?Dl(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=to(s.href),s=Ci(m).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=to(s.href);var y=Ci(m).hoistableStyles,C=y.get(n);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,C),(y=m.querySelector(rs(n)))&&!y._p&&(C.instance=y,C.state.loading=5),hn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},hn.set(n,s),y||Vx(m,n,s,C.state))),i&&c===null)throw Error(o(528,""));return C}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(s),s=Ci(m).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function to(n){return'href="'+rn(n)+'"'}function rs(n){return'link[rel="stylesheet"]['+n+"]"}function Wp(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function Vx(n,i,s,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),It(i,"link",s),At(i),n.head.appendChild(i))}function no(n){return'[src="'+rn(n)+'"]'}function us(n){return"script[async]"+n}function eh(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+rn(s.href)+'"]');if(c)return i.instance=c,At(c),c;var m=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),At(c),It(c,"style",m),Il(c,s.precedence,n),i.instance=c;case"stylesheet":m=to(s.href);var y=n.querySelector(rs(m));if(y)return i.state.loading|=4,i.instance=y,At(y),y;c=Wp(s),(m=hn.get(m))&&Tc(c,m),y=(n.ownerDocument||n).createElement("link"),At(y);var C=y;return C._p=new Promise(function(b,A){C.onload=b,C.onerror=A}),It(y,"link",c),i.state.loading|=4,Il(y,s.precedence,n),i.instance=y;case"script":return y=no(s.src),(m=n.querySelector(us(y)))?(i.instance=m,At(m),m):(c=s,(m=hn.get(y))&&(c=x({},s),Cc(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),At(m),It(m,"link",c),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Il(c,s.precedence,n));return i.instance}function Il(n,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,C=0;C<c.length;C++){var b=c[C];if(b.dataset.precedence===i)y=b;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Tc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Cc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var kl=null;function th(n,i,s){if(kl===null){var c=new Map,m=kl=new Map;m.set(s,c)}else m=kl,c=m.get(s),c||(c=new Map,m.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),m=0;m<s.length;m++){var y=s[m];if(!(y[So]||y[Lt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(i)||"";C=n+C;var b=c.get(C);b?b.push(y):c.set(C,[y])}}return c}function nh(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function Ox(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ah(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var cs=null;function jx(){}function qx(n,i,s){if(cs===null)throw Error(o(475));var c=cs;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=to(s.href),y=n.querySelector(rs(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Ll.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=y,At(y);return}y=n.ownerDocument||n,s=Wp(s),(m=hn.get(m))&&Tc(s,m),y=y.createElement("link"),At(y);var C=y;C._p=new Promise(function(b,A){C.onload=b,C.onerror=A}),It(y,"link",s),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Ll.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function zx(){if(cs===null)throw Error(o(475));var n=cs;return n.stylesheets&&n.count===0&&Sc(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Sc(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Ll(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ul=null;function Sc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ul=new Map,i.forEach(Gx,n),Ul=null,Ll.call(n))}function Gx(n,i){if(!(i.state.loading&4)){var s=Ul.get(n);if(s)var c=s.get(null);else{s=new Map,Ul.set(n,s);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var C=m[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),c=C)}c&&s.set(null,c)}m=i.instance,C=m.getAttribute("data-precedence"),y=s.get(C)||c,y===c&&s.set(null,m),s.set(C,m),this.count++,c=Ll.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var ds={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Bx(n,i,s,c,m,y,C,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function ih(n,i,s,c,m,y,C,b,A,U,J,X){return n=new Bx(n,i,s,C,b,A,U,X),i=1,y===!0&&(i|=24),y=Qt(3,null,null,i),n.current=y,y.stateNode=n,i=au(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:s,cache:i},lu(y),n}function oh(n){return n?(n=ki,n):ki}function sh(n,i,s,c,m,y){m=oh(m),c.context===null?c.context=m:c.pendingContext=m,c=Ca(i),c.payload={element:s},y=y===void 0?null:y,y!==null&&(c.callback=y),s=Sa(n,c,i),s!==null&&(an(s,n,i),zo(s,n,i))}function lh(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function bc(n,i){lh(n,i),(n=n.alternate)&&lh(n,i)}function rh(n){if(n.tag===13){var i=Ii(n,67108864);i!==null&&an(i,n,67108864),bc(n,67108864)}}var Pl=!0;function Fx(n,i,s,c){var m=q.T;q.T=null;var y=oe.p;try{oe.p=2,_c(n,i,s,c)}finally{oe.p=y,q.T=m}}function Hx(n,i,s,c){var m=q.T;q.T=null;var y=oe.p;try{oe.p=8,_c(n,i,s,c)}finally{oe.p=y,q.T=m}}function _c(n,i,s,c){if(Pl){var m=Ec(c);if(m===null)dc(n,i,c,Vl,s),ch(n,c);else if(Jx(m,n,i,s,c))c.stopPropagation();else if(ch(n,c),i&4&&-1<Yx.indexOf(n)){for(;m!==null;){var y=Ti(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=Ne(y.pendingLanes);if(C!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;C;){var A=1<<31-k(C);b.entanglements[1]|=A,C&=~A}In(y),(Qe&6)===0&&(Tl=qt()+500,is(0))}}break;case 13:b=Ii(y,2),b!==null&&an(b,y,2),Sl(),bc(y,2)}if(y=Ec(c),y===null&&dc(n,i,c,Vl,s),y===m)break;m=y}m!==null&&c.stopPropagation()}else dc(n,i,c,null,s)}}function Ec(n){return n=Rr(n),Ac(n)}var Vl=null;function Ac(n){if(Vl=null,n=xi(n),n!==null){var i=d(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=p(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Vl=n,null}function uh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case Ht:return 2;case Gn:return 8;case zt:case pa:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Nc=!1,Ua=null,Pa=null,Va=null,fs=new Map,ms=new Map,Oa=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ch(n,i){switch(n){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":fs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(i.pointerId)}}function ps(n,i,s,c,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Ti(i),i!==null&&rh(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function Jx(n,i,s,c,m){switch(i){case"focusin":return Ua=ps(Ua,n,i,s,c,m),!0;case"dragenter":return Pa=ps(Pa,n,i,s,c,m),!0;case"mouseover":return Va=ps(Va,n,i,s,c,m),!0;case"pointerover":var y=m.pointerId;return fs.set(y,ps(fs.get(y)||null,n,i,s,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ms.set(y,ps(ms.get(y)||null,n,i,s,c,m)),!0}return!1}function dh(n){var i=xi(n.target);if(i!==null){var s=d(i);if(s!==null){if(i=s.tag,i===13){if(i=p(s),i!==null){n.blockedOn=i,qv(n.priority,function(){if(s.tag===13){var c=nn();c=xr(c);var m=Ii(s,c);m!==null&&an(m,s,c),bc(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ol(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Ec(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);Mr=c,s.target.dispatchEvent(c),Mr=null}else return i=Ti(s),i!==null&&rh(i),n.blockedOn=s,!1;i.shift()}return!0}function fh(n,i,s){Ol(n)&&s.delete(i)}function $x(){Nc=!1,Ua!==null&&Ol(Ua)&&(Ua=null),Pa!==null&&Ol(Pa)&&(Pa=null),Va!==null&&Ol(Va)&&(Va=null),fs.forEach(fh),ms.forEach(fh)}function jl(n,i){n.blockedOn===i&&(n.blockedOn=null,Nc||(Nc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$x)))}var ql=null;function mh(n){ql!==n&&(ql=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ql===n&&(ql=null);for(var i=0;i<n.length;i+=3){var s=n[i],c=n[i+1],m=n[i+2];if(typeof c!="function"){if(Ac(c||s)===null)continue;break}var y=Ti(s);y!==null&&(n.splice(i,3),i-=3,Au(y,{pending:!0,data:m,method:s.method,action:c},c,m))}}))}function hs(n){function i(A){return jl(A,n)}Ua!==null&&jl(Ua,n),Pa!==null&&jl(Pa,n),Va!==null&&jl(Va,n),fs.forEach(i),ms.forEach(i);for(var s=0;s<Oa.length;s++){var c=Oa[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Oa.length&&(s=Oa[0],s.blockedOn===null);)dh(s),s.blockedOn===null&&Oa.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var m=s[c],y=s[c+1],C=m[Yt]||null;if(typeof y=="function")C||mh(s);else if(C){var b=null;if(y&&y.hasAttribute("formAction")){if(m=y,C=y[Yt]||null)b=C.formAction;else if(Ac(m)!==null)continue}else b=C.action;typeof b=="function"?s[c+1]=b:(s.splice(c,3),c-=3),mh(s)}}}function wc(n){this._internalRoot=n}zl.prototype.render=wc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,c=nn();sh(s,c,n,i,null,null)},zl.prototype.unmount=wc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;sh(n.current,2,null,n,null,null),Sl(),i[vi]=null}};function zl(n){this._internalRoot=n}zl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Md();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Oa.length&&i!==0&&i<Oa[s].priority;s++);Oa.splice(s,0,n),s===0&&dh(n)}};var ph=e.version;if(ph!=="19.1.0")throw Error(o(527,ph,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=v(i),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var Zx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Bn=Gl.inject(Zx),re=Gl}catch{}}return ys.createRoot=function(n,i){if(!l(n))throw Error(o(299));var s=!1,c="",m=Rm,y=Dm,C=Im,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=ih(n,1,!1,null,null,s,c,m,y,C,b,null),n[vi]=i.current,cc(n),new wc(i)},ys.hydrateRoot=function(n,i,s){if(!l(n))throw Error(o(299));var c=!1,m="",y=Rm,C=Dm,b=Im,A=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=ih(n,1,!0,i,s??null,c,m,y,C,b,A,U),i.context=oh(null),s=i.current,c=nn(),c=xr(c),m=Ca(c),m.callback=null,Sa(s,m,c),s=c,i.current.lanes=s,Hn(i,s),In(i),n[vi]=i.current,cc(n),new zl(i)},ys.version="19.1.0",ys}var _h;function oT(){if(_h)return Dc.exports;_h=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dc.exports=iT(),Dc.exports}var sT=oT();const lT=Iy(sT);var vs={},Eh;function rT(){if(Eh)return vs;Eh=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.parse=p,vs.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,d=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function p(S,E){const N=new d,D=S.length;if(D<2)return N;const G=(E==null?void 0:E.decode)||x;let V=0;do{const j=S.indexOf("=",V);if(j===-1)break;const P=S.indexOf(";",V),K=P===-1?D:P;if(j>K){V=S.lastIndexOf(";",j-1)+1;continue}const F=g(S,V,j),ie=v(S,j,F),Q=S.slice(F,ie);if(N[Q]===void 0){let Te=g(S,j+1,K),te=v(S,K,Te);const de=G(S.slice(Te,te));N[Q]=de}V=K+1}while(V<D);return N}function g(S,E,N){do{const D=S.charCodeAt(E);if(D!==32&&D!==9)return E}while(++E<N);return N}function v(S,E,N){for(;E>N;){const D=S.charCodeAt(--E);if(D!==32&&D!==9)return E+1}return N}function h(S,E,N){const D=(N==null?void 0:N.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const G=D(E);if(!e.test(G))throw new TypeError(`argument val is invalid: ${E}`);let V=S+"="+G;if(!N)return V;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);V+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);V+="; Domain="+N.domain}if(N.path){if(!o.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);V+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);V+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(V+="; HttpOnly"),N.secure&&(V+="; Secure"),N.partitioned&&(V+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return V}function x(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return l.call(S)==="[object Date]"}return vs}rT();var Ah="popstate";function uT(t={}){function e(l,d){let{pathname:p="/",search:g="",hash:v=""}=gi(l.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Bc("",{pathname:p,search:g,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(l,d){let p=l.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let v=l.location.href,h=v.indexOf("#");g=h===-1?v:v.slice(0,h)}return g+"#"+(typeof d=="string"?d:Ns(d))}function o(l,d){vn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return dT(e,a,o,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function Nh(t,e){return{usr:t.state,key:t.key,idx:e}}function Bc(t,e,a=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gi(e):e,state:a,key:e&&e.key||o||cT()}}function Ns({pathname:t="/",search:e="",hash:a=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function gi(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substring(a),t=t.substring(0,a));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function dT(t,e,a,o={}){let{window:l=document.defaultView,v5Compat:d=!1}=o,p=l.history,g="POP",v=null,h=x();h==null&&(h=0,p.replaceState({...p.state,idx:h},""));function x(){return(p.state||{idx:null}).idx}function T(){g="POP";let G=x(),V=G==null?null:G-h;h=G,v&&v({action:g,location:D.location,delta:V})}function S(G,V){g="PUSH";let j=Bc(D.location,G,V);a&&a(j,G),h=x()+1;let P=Nh(j,h),K=D.createHref(j);try{p.pushState(P,"",K)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(K)}d&&v&&v({action:g,location:D.location,delta:1})}function E(G,V){g="REPLACE";let j=Bc(D.location,G,V);a&&a(j,G),h=x();let P=Nh(j,h),K=D.createHref(j);p.replaceState(P,"",K),d&&v&&v({action:g,location:D.location,delta:0})}function N(G){return fT(G)}let D={get action(){return g},get location(){return t(l,p)},listen(G){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Ah,T),v=G,()=>{l.removeEventListener(Ah,T),v=null}},createHref(G){return e(l,G)},createURL:N,encodeLocation(G){let V=N(G);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:E,go(G){return p.go(G)}};return D}function fT(t,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),dt(a,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Ns(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=a+o),new URL(o,a)}function Ly(t,e,a="/"){return mT(t,e,a,!1)}function mT(t,e,a,o){let l=typeof e=="string"?gi(e):e,d=ra(l.pathname||"/",a);if(d==null)return null;let p=Uy(t);pT(p);let g=null;for(let v=0;g==null&&v<p.length;++v){let h=ET(d);g=bT(p[v],h,o)}return g}function Uy(t,e=[],a=[],o=""){let l=(d,p,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};v.relativePath.startsWith("/")&&(dt(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let h=la([o,v.relativePath]),x=a.concat(v);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Uy(d.children,e,x,h)),!(d.path==null&&!d.index)&&e.push({path:h,score:CT(h,d.index),routesMeta:x})};return t.forEach((d,p)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))l(d,p);else for(let v of Py(d.path))l(d,p,v)}),e}function Py(t){let e=t.split("/");if(e.length===0)return[];let[a,...o]=e,l=a.endsWith("?"),d=a.replace(/\?$/,"");if(o.length===0)return l?[d,""]:[d];let p=Py(o.join("/")),g=[];return g.push(...p.map(v=>v===""?d:[d,v].join("/"))),l&&g.push(...p),g.map(v=>t.startsWith("/")&&v===""?"/":v)}function pT(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:ST(e.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var hT=/^:[\w-]+$/,gT=3,yT=2,vT=1,xT=10,TT=-2,wh=t=>t==="*";function CT(t,e){let a=t.split("/"),o=a.length;return a.some(wh)&&(o+=TT),e&&(o+=yT),a.filter(l=>!wh(l)).reduce((l,d)=>l+(hT.test(d)?gT:d===""?vT:xT),o)}function ST(t,e){return t.length===e.length&&t.slice(0,-1).every((o,l)=>o===e[l])?t[t.length-1]-e[e.length-1]:0}function bT(t,e,a=!1){let{routesMeta:o}=t,l={},d="/",p=[];for(let g=0;g<o.length;++g){let v=o[g],h=g===o.length-1,x=d==="/"?e:e.slice(d.length)||"/",T=nr({path:v.relativePath,caseSensitive:v.caseSensitive,end:h},x),S=v.route;if(!T&&h&&a&&!o[o.length-1].route.index&&(T=nr({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!T)return null;Object.assign(l,T.params),p.push({params:l,pathname:la([d,T.pathname]),pathnameBase:MT(la([d,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(d=la([d,T.pathnameBase]))}return p}function nr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=_T(t.path,t.caseSensitive,t.end),l=e.match(a);if(!l)return null;let d=l[0],p=d.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:o.reduce((h,{paramName:x,isOptional:T},S)=>{if(x==="*"){let N=g[S]||"";p=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const E=g[S];return T&&!E?h[x]=void 0:h[x]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:d,pathnameBase:p,pattern:t}}function _T(t,e=!1,a=!0){vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,v)=>(o.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function ET(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function AT(t,e="/"){let{pathname:a,search:o="",hash:l=""}=typeof t=="string"?gi(t):t;return{pathname:a?a.startsWith("/")?a:NT(a,e):e,search:RT(o),hash:DT(l)}}function NT(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Uc(t,e,a,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wT(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function cd(t){let e=wT(t);return e.map((a,o)=>o===e.length-1?a.pathname:a.pathnameBase)}function dd(t,e,a,o=!1){let l;typeof t=="string"?l=gi(t):(l={...t},dt(!l.pathname||!l.pathname.includes("?"),Uc("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),Uc("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),Uc("#","search","hash",l)));let d=t===""||l.pathname==="",p=d?"/":l.pathname,g;if(p==null)g=a;else{let T=e.length-1;if(!o&&p.startsWith("..")){let S=p.split("/");for(;S[0]==="..";)S.shift(),T-=1;l.pathname=S.join("/")}g=T>=0?e[T]:"/"}let v=AT(l,g),h=p&&p!=="/"&&p.endsWith("/"),x=(d||p===".")&&a.endsWith("/");return!v.pathname.endsWith("/")&&(h||x)&&(v.pathname+="/"),v}var la=t=>t.join("/").replace(/\/\/+/g,"/"),MT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Vy=["POST","PUT","PATCH","DELETE"];new Set(Vy);var kT=["GET",...Vy];new Set(kT);var ho=_.createContext(null);ho.displayName="DataRouter";var mr=_.createContext(null);mr.displayName="DataRouterState";var Oy=_.createContext({isTransitioning:!1});Oy.displayName="ViewTransition";var LT=_.createContext(new Map);LT.displayName="Fetchers";var UT=_.createContext(null);UT.displayName="Await";var En=_.createContext(null);En.displayName="Navigation";var Rs=_.createContext(null);Rs.displayName="Location";var An=_.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var fd=_.createContext(null);fd.displayName="RouteError";function PT(t,{relative:e}={}){dt(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=_.useContext(En),{hash:l,pathname:d,search:p}=Ds(t,{relative:e}),g=d;return a!=="/"&&(g=d==="/"?a:la([a,d])),o.createHref({pathname:g,search:p,hash:l})}function go(){return _.useContext(Rs)!=null}function zn(){return dt(go(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Rs).location}var jy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qy(t){_.useContext(En).static||_.useLayoutEffect(t)}function yo(){let{isDataRoute:t}=_.useContext(An);return t?ZT():VT()}function VT(){dt(go(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(ho),{basename:e,navigator:a}=_.useContext(En),{matches:o}=_.useContext(An),{pathname:l}=zn(),d=JSON.stringify(cd(o)),p=_.useRef(!1);return qy(()=>{p.current=!0}),_.useCallback((v,h={})=>{if(vn(p.current,jy),!p.current)return;if(typeof v=="number"){a.go(v);return}let x=dd(v,JSON.parse(d),l,h.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:la([e,x.pathname])),(h.replace?a.replace:a.push)(x,h.state,h)},[e,a,d,l,t])}_.createContext(null);function zy(){let{matches:t}=_.useContext(An),e=t[t.length-1];return e?e.params:{}}function Ds(t,{relative:e}={}){let{matches:a}=_.useContext(An),{pathname:o}=zn(),l=JSON.stringify(cd(a));return _.useMemo(()=>dd(t,JSON.parse(l),o,e==="path"),[t,l,o,e])}function OT(t,e){return Gy(t,e)}function Gy(t,e,a,o){var V;dt(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=_.useContext(En),{matches:d}=_.useContext(An),p=d[d.length-1],g=p?p.params:{},v=p?p.pathname:"/",h=p?p.pathnameBase:"/",x=p&&p.route;{let j=x&&x.path||"";By(v,!x||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=zn(),S;if(e){let j=typeof e=="string"?gi(e):e;dt(h==="/"||((V=j.pathname)==null?void 0:V.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=T;let E=S.pathname||"/",N=E;if(h!=="/"){let j=h.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=Ly(t,{pathname:N});vn(x||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),vn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=BT(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:la([h,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:la([h,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,a,o);return e&&G?_.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},G):G}function jT(){let t=$T(),e=IT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:d},"ErrorBoundary")," or"," ",_.createElement("code",{style:d},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),a?_.createElement("pre",{style:l},a):null,p)}var qT=_.createElement(jT,null),zT=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(An.Provider,{value:this.props.routeContext},_.createElement(fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GT({routeContext:t,match:e,children:a}){let o=_.useContext(ho);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(An.Provider,{value:t},a)}function BT(t,e=[],a=null,o=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let l=t,d=a==null?void 0:a.errors;if(d!=null){let v=l.findIndex(h=>h.route.id&&(d==null?void 0:d[h.route.id])!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,g=-1;if(a)for(let v=0;v<l.length;v++){let h=l[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(g=v),h.route.id){let{loaderData:x,errors:T}=a,S=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!T||T[h.route.id]===void 0);if(h.route.lazy||S){p=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((v,h,x)=>{let T,S=!1,E=null,N=null;a&&(T=d&&h.route.id?d[h.route.id]:void 0,E=h.route.errorElement||qT,p&&(g<0&&x===0?(By("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):g===x&&(S=!0,N=h.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,x+1)),G=()=>{let V;return T?V=E:S?V=N:h.route.Component?V=_.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=v,_.createElement(GT,{match:h,routeContext:{outlet:v,matches:D,isDataRoute:a!=null},children:V})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?_.createElement(zT,{location:a.location,revalidation:a.revalidation,component:E,error:T,children:G(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):G()},null)}function md(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(t){let e=_.useContext(ho);return dt(e,md(t)),e}function HT(t){let e=_.useContext(mr);return dt(e,md(t)),e}function YT(t){let e=_.useContext(An);return dt(e,md(t)),e}function pd(t){let e=YT(t),a=e.matches[e.matches.length-1];return dt(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function JT(){return pd("useRouteId")}function $T(){var o;let t=_.useContext(fd),e=HT("useRouteError"),a=pd("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[a]}function ZT(){let{router:t}=FT("useNavigate"),e=pd("useNavigate"),a=_.useRef(!1);return qy(()=>{a.current=!0}),_.useCallback(async(l,d={})=>{vn(a.current,jy),a.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...d}))},[t,e])}var Mh={};function By(t,e,a){!e&&!Mh[t]&&(Mh[t]=!0,vn(!1,a))}_.memo(KT);function KT({routes:t,future:e,state:a}){return Gy(t,void 0,a,e)}function XT({to:t,replace:e,state:a,relative:o}){dt(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=_.useContext(En);vn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=_.useContext(An),{pathname:p}=zn(),g=yo(),v=dd(t,cd(d),p,o==="path"),h=JSON.stringify(v);return _.useEffect(()=>{g(JSON.parse(h),{replace:e,state:a,relative:o})},[g,h,o,e,a]),null}function gn(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QT({basename:t="/",children:e=null,location:a,navigationType:o="POP",navigator:l,static:d=!1}){dt(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:p,navigator:l,static:d,future:{}}),[p,l,d]);typeof a=="string"&&(a=gi(a));let{pathname:v="/",search:h="",hash:x="",state:T=null,key:S="default"}=a,E=_.useMemo(()=>{let N=ra(v,p);return N==null?null:{location:{pathname:N,search:h,hash:x,state:T,key:S},navigationType:o}},[p,v,h,x,T,S,o]);return vn(E!=null,`<Router basename="${p}"> is not able to match the URL "${v}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(En.Provider,{value:g},_.createElement(Rs.Provider,{children:e,value:E}))}function Fy({children:t,location:e}){return OT(Fc(t),e)}function Fc(t,e=[]){let a=[];return _.Children.forEach(t,(o,l)=>{if(!_.isValidElement(o))return;let d=[...e,l];if(o.type===_.Fragment){a.push.apply(a,Fc(o.props.children,d));return}dt(o.type===gn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=Fc(o.props.children,d)),a.push(p)}),a}var $l="get",Zl="application/x-www-form-urlencoded";function pr(t){return t!=null&&typeof t.tagName=="string"}function WT(t){return pr(t)&&t.tagName.toLowerCase()==="button"}function eC(t){return pr(t)&&t.tagName.toLowerCase()==="form"}function tC(t){return pr(t)&&t.tagName.toLowerCase()==="input"}function nC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aC(t,e){return t.button===0&&(!e||e==="_self")&&!nC(t)}var Bl=null;function iC(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var oC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pc(t){return t!=null&&!oC.has(t)?(vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):t}function sC(t,e){let a,o,l,d,p;if(eC(t)){let g=t.getAttribute("action");o=g?ra(g,e):null,a=t.getAttribute("method")||$l,l=Pc(t.getAttribute("enctype"))||Zl,d=new FormData(t)}else if(WT(t)||tC(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||g.getAttribute("action");if(o=v?ra(v,e):null,a=t.getAttribute("formmethod")||g.getAttribute("method")||$l,l=Pc(t.getAttribute("formenctype"))||Pc(g.getAttribute("enctype"))||Zl,d=new FormData(g,t),!iC()){let{name:h,type:x,value:T}=t;if(x==="image"){let S=h?`${h}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else h&&d.append(h,T)}}else{if(pr(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=$l,o=null,l=Zl,p=t}return d&&l==="text/plain"&&(p=d,d=void 0),{action:o,method:a.toLowerCase(),encType:l,formData:d,body:p}}function hd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function lC(t,e){if(t.id in e)return e[t.id];try{let a=await import(t.module);return e[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uC(t,e,a){let o=await Promise.all(t.map(async l=>{let d=e.routes[l.route.id];if(d){let p=await lC(d,a);return p.links?p.links():[]}return[]}));return mC(o.flat(1).filter(rC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Rh(t,e,a,o,l,d){let p=(v,h)=>a[h]?v.route.id!==a[h].route.id:!0,g=(v,h)=>{var x;return a[h].pathname!==v.pathname||((x=a[h].route.path)==null?void 0:x.endsWith("*"))&&a[h].params["*"]!==v.params["*"]};return d==="assets"?e.filter((v,h)=>p(v,h)||g(v,h)):d==="data"?e.filter((v,h)=>{var T;let x=o.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(p(v,h)||g(v,h))return!0;if(v.route.shouldRevalidate){let S=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=a[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function cC(t,e,{includeHydrateFallback:a}={}){return dC(t.map(o=>{let l=e.routes[o.route.id];if(!l)return[];let d=[l.module];return l.clientActionModule&&(d=d.concat(l.clientActionModule)),l.clientLoaderModule&&(d=d.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(d=d.concat(l.hydrateFallbackModule)),l.imports&&(d=d.concat(l.imports)),d}).flat(1))}function dC(t){return[...new Set(t)]}function fC(t){let e={},a=Object.keys(t).sort();for(let o of a)e[o]=t[o];return e}function mC(t,e){let a=new Set;return new Set(e),t.reduce((o,l)=>{let d=JSON.stringify(fC(l));return a.has(d)||(a.add(d),o.push({key:d,link:l})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pC=new Set([100,101,204,205]);function hC(t,e){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname="_root.data":e&&ra(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function Hy(){let t=_.useContext(ho);return hd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gC(){let t=_.useContext(mr);return hd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gd=_.createContext(void 0);gd.displayName="FrameworkContext";function Yy(){let t=_.useContext(gd);return hd(t,"You must render this element inside a <HydratedRouter> element"),t}function yC(t,e){let a=_.useContext(gd),[o,l]=_.useState(!1),[d,p]=_.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:h,onMouseLeave:x,onTouchStart:T}=e,S=_.useRef(null);_.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let D=V=>{V.forEach(j=>{p(j.isIntersecting)})},G=new IntersectionObserver(D,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[t]),_.useEffect(()=>{if(o){let D=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(D)}}},[o]);let E=()=>{l(!0)},N=()=>{l(!1),p(!1)};return a?t!=="intent"?[d,S,{}]:[d,S,{onFocus:xs(g,E),onBlur:xs(v,N),onMouseEnter:xs(h,E),onMouseLeave:xs(x,N),onTouchStart:xs(T,E)}]:[!1,S,{}]}function xs(t,e){return a=>{t&&t(a),a.defaultPrevented||e(a)}}function vC({page:t,...e}){let{router:a}=Hy(),o=_.useMemo(()=>Ly(a.routes,t,a.basename),[a.routes,t,a.basename]);return o?_.createElement(TC,{page:t,matches:o,...e}):null}function xC(t){let{manifest:e,routeModules:a}=Yy(),[o,l]=_.useState([]);return _.useEffect(()=>{let d=!1;return uC(t,e,a).then(p=>{d||l(p)}),()=>{d=!0}},[t,e,a]),o}function TC({page:t,matches:e,...a}){let o=zn(),{manifest:l,routeModules:d}=Yy(),{basename:p}=Hy(),{loaderData:g,matches:v}=gC(),h=_.useMemo(()=>Rh(t,e,v,l,o,"data"),[t,e,v,l,o]),x=_.useMemo(()=>Rh(t,e,v,l,o,"assets"),[t,e,v,l,o]),T=_.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let N=new Set,D=!1;if(e.forEach(V=>{var P;let j=l.routes[V.route.id];!j||!j.hasLoader||(!h.some(K=>K.route.id===V.route.id)&&V.route.id in g&&((P=d[V.route.id])!=null&&P.shouldRevalidate)||j.hasClientLoader?D=!0:N.add(V.route.id))}),N.size===0)return[];let G=hC(t,p);return D&&N.size>0&&G.searchParams.set("_routes",e.filter(V=>N.has(V.route.id)).map(V=>V.route.id).join(",")),[G.pathname+G.search]},[p,g,o,l,h,e,t,d]),S=_.useMemo(()=>cC(x,l),[x,l]),E=xC(x);return _.createElement(_.Fragment,null,T.map(N=>_.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),S.map(N=>_.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),E.map(({key:N,link:D})=>_.createElement("link",{key:N,...D})))}function CC(...t){return e=>{t.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var Jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jy&&(window.__reactRouterVersion="7.6.3")}catch{}function SC({basename:t,children:e,window:a}){let o=_.useRef();o.current==null&&(o.current=uT({window:a,v5Compat:!0}));let l=o.current,[d,p]=_.useState({action:l.action,location:l.location}),g=_.useCallback(v=>{_.startTransition(()=>p(v))},[p]);return _.useLayoutEffect(()=>l.listen(g),[l,g]),_.createElement(QT,{basename:t,children:e,location:d.location,navigationType:d.action,navigator:l})}var $y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yd=_.forwardRef(function({onClick:e,discover:a="render",prefetch:o="none",relative:l,reloadDocument:d,replace:p,state:g,target:v,to:h,preventScrollReset:x,viewTransition:T,...S},E){let{basename:N}=_.useContext(En),D=typeof h=="string"&&$y.test(h),G,V=!1;if(typeof h=="string"&&D&&(G=h,Jy))try{let te=new URL(window.location.href),de=h.startsWith("//")?new URL(te.protocol+h):new URL(h),ue=ra(de.pathname,N);de.origin===te.origin&&ue!=null?h=ue+de.search+de.hash:V=!0}catch{vn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=PT(h,{relative:l}),[P,K,F]=yC(o,S),ie=EC(h,{replace:p,state:g,target:v,preventScrollReset:x,relative:l,viewTransition:T});function Q(te){e&&e(te),te.defaultPrevented||ie(te)}let Te=_.createElement("a",{...S,...F,href:G||j,onClick:V||d?e:Q,ref:CC(E,K),target:v,"data-discover":!D&&a==="render"?"true":void 0});return P&&!D?_.createElement(_.Fragment,null,Te,_.createElement(vC,{page:j})):Te});yd.displayName="Link";var ar=_.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:o="",end:l=!1,style:d,to:p,viewTransition:g,children:v,...h},x){let T=Ds(p,{relative:h.relative}),S=zn(),E=_.useContext(mr),{navigator:N,basename:D}=_.useContext(En),G=E!=null&&RC(T)&&g===!0,V=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,j=S.pathname,P=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(j=j.toLowerCase(),P=P?P.toLowerCase():null,V=V.toLowerCase()),P&&D&&(P=ra(P,D)||P);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let F=j===V||!l&&j.startsWith(V)&&j.charAt(K)==="/",ie=P!=null&&(P===V||!l&&P.startsWith(V)&&P.charAt(V.length)==="/"),Q={isActive:F,isPending:ie,isTransitioning:G},Te=F?e:void 0,te;typeof o=="function"?te=o(Q):te=[o,F?"active":null,ie?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let de=typeof d=="function"?d(Q):d;return _.createElement(yd,{...h,"aria-current":Te,className:te,ref:x,style:de,to:p,viewTransition:g},typeof v=="function"?v(Q):v)});ar.displayName="NavLink";var bC=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:a,reloadDocument:o,replace:l,state:d,method:p=$l,action:g,onSubmit:v,relative:h,preventScrollReset:x,viewTransition:T,...S},E)=>{let N=wC(),D=MC(g,{relative:h}),G=p.toLowerCase()==="get"?"get":"post",V=typeof g=="string"&&$y.test(g),j=P=>{if(v&&v(P),P.defaultPrevented)return;P.preventDefault();let K=P.nativeEvent.submitter,F=(K==null?void 0:K.getAttribute("formmethod"))||p;N(K||P.currentTarget,{fetcherKey:e,method:F,navigate:a,replace:l,state:d,relative:h,preventScrollReset:x,viewTransition:T})};return _.createElement("form",{ref:E,method:G,action:D,onSubmit:o?v:j,...S,"data-discover":!V&&t==="render"?"true":void 0})});bC.displayName="Form";function _C(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zy(t){let e=_.useContext(ho);return dt(e,_C(t)),e}function EC(t,{target:e,replace:a,state:o,preventScrollReset:l,relative:d,viewTransition:p}={}){let g=yo(),v=zn(),h=Ds(t,{relative:d});return _.useCallback(x=>{if(aC(x,e)){x.preventDefault();let T=a!==void 0?a:Ns(v)===Ns(h);g(t,{replace:T,state:o,preventScrollReset:l,relative:d,viewTransition:p})}},[v,g,h,a,o,e,t,l,d,p])}var AC=0,NC=()=>`__${String(++AC)}__`;function wC(){let{router:t}=Zy("useSubmit"),{basename:e}=_.useContext(En),a=JT();return _.useCallback(async(o,l={})=>{let{action:d,method:p,encType:g,formData:v,body:h}=sC(o,e);if(l.navigate===!1){let x=l.fetcherKey||NC();await t.fetch(x,a,l.action||d,{preventScrollReset:l.preventScrollReset,formData:v,body:h,formMethod:l.method||p,formEncType:l.encType||g,flushSync:l.flushSync})}else await t.navigate(l.action||d,{preventScrollReset:l.preventScrollReset,formData:v,body:h,formMethod:l.method||p,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,a])}function MC(t,{relative:e}={}){let{basename:a}=_.useContext(En),o=_.useContext(An);dt(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),d={...Ds(t||".",{relative:e})},p=zn();if(t==null){d.search=p.search;let g=new URLSearchParams(d.search),v=g.getAll("index");if(v.some(x=>x==="")){g.delete("index"),v.filter(T=>T).forEach(T=>g.append("index",T));let x=g.toString();d.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(d.pathname=d.pathname==="/"?a:la([a,d.pathname])),Ns(d)}function RC(t,e={}){let a=_.useContext(Oy);dt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Zy("useViewTransitionState"),l=Ds(t,{relative:e.relative});if(!a.isTransitioning)return!1;let d=ra(a.currentLocation.pathname,o)||a.currentLocation.pathname,p=ra(a.nextLocation.pathname,o)||a.nextLocation.pathname;return nr(l.pathname,p)!=null||nr(l.pathname,d)!=null}[...pC];var Un=(t=>(t.SPANISH="Espaol",t.ENGLISH="English",t.FRENCH="Franais",t.GERMAN="Deutsch",t.ITALIAN="Italiano",t.PORTUGUESE="Portugus",t.JAPANESE="",t.KOREAN="",t.CHINESE="",t))(Un||{}),ke=(t=>(t.ACTIVE_IMMERSION="Inmersin Activa",t.PASSIVE_IMMERSION="Inmersin Pasiva",t.ACTIVE_STUDY="Estudio Activo",t.PRODUCTION="Produccin",t))(ke||{}),Be=(t=>(t.LISTENING="Listening",t.READING="Reading",t.SPEAKING="Speaking",t.WRITING="Writing",t.STUDY="Study",t))(Be||{}),Le=(t=>(t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t))(Le||{}),Xe=(t=>(t.ONBOARDING="/onboarding",t.DASHBOARD="/dashboard",t.TRACKER="/tracker",t.ROUTINES="/routines",t.GUIDES="/guides",t.SETTINGS="/settings",t.REWARDS="/rewards",t.LEADERBOARD="/leaderboard",t.FEED="/feed",t.BULK_IMPORT="/bulk-import",t))(Xe||{});const Ie={getItem:(t,e=null)=>{try{const a=localStorage.getItem(t);return a?JSON.parse(a):e}catch(a){return console.error(`Error reading from localStorage key "${t}":`,a),e}},setItem:(t,e)=>{try{const a=JSON.stringify(e);localStorage.setItem(t,a)}catch(a){console.error(`Error writing to localStorage key "${t}":`,a)}},removeItem:t=>{try{localStorage.removeItem(t)}catch(e){console.error(`Error removing from localStorage key "${t}":`,e)}}};ke.ACTIVE_IMMERSION+"",ke.PASSIVE_IMMERSION+"",ke.ACTIVE_STUDY+"",ke.PRODUCTION+"";Be.LISTENING+"",Be.READING+"",Be.SPEAKING+"",Be.WRITING+"",Be.STUDY+"";const DC=[50,100,150,250,350,500,750,1e3],Dh=10,Fl={SOME:2,HALF:5,GOOD:8,FULL:12},Pn={[Le.ONE]:{name:"Primera etapa: preparacin previa",description:"Rampa de acceso al input real. Aprender vocabulario (Anki) y usar apps de idiomas (Busuu).",objective:"Construir un vocabulario base inicial (ej. ~1000 palabras ms frecuentes), familiarizarse con las estructuras y sonidos ms bsicos del idioma, establecer el hbito y el contacto diario con el idioma, y prepararse para la futura inmersin.",longDescription:`El objetivo de esto es utilizarla como una rampa de acceso para lanzarnos ms fcilmente al input real, porque es mucho ms eficaz que lanzarnos a la inmersin de una, ya que el input debe ser en parte comprensible.

Para este paso recomendamos empezar aprendiendo vocabulario mediante una aplicacin de repeticin espaciada (Anki) con un mazo de 1000 palabras ms comunes (NO BSICAS) en el idioma. Para esto recomendamos los mazos de Refold. Ten en cuenta que estos mazos tienen un costo. Si buscas opciones gratuitas, puedes explorar cientos de mazos populares creados por la comunidad en AnkiWeb.

Utilizar aplicaciones de idiomas: estas aplicaciones no te pueden llevar a un nivel avanzado ni a la fluidez, pero pueden ayudarte a construir las bases. Recomendamos especialmente Busuu.

Otras alternativas: Son totalmente opcionales y dependen de cada persona. La piedra angular de este mtodo es que lo disfrutes y hagas actividades que te gusten: fontica, gramtica, cursos de idiomas, etc.

Es la gramtica necesaria? No recomendamos el estudio formal de gramtica en esta etapa, y sostenemos que puedes aprender cualquier idioma sin tocarla. Sin embargo, si disfrutas estudiar gramtica, puedes usarla como apoyo bsico en esta primera etapa de preparacin para comprender mejor las estructuras, o ms adelante en la etapa de output para refinar detalles.

Recomendamos firmemente el uso de Refold Tracker. Es una aplicacin que te permite registrar el tiempo que pasas en tu idioma y en qu actividades. Te ayudar a crear el hbito y a tener claridad sobre tus horas reales de exposicin.`,keyObjectives:["Construir un vocabulario base inicial (ej. ~1000 palabras ms frecuentes).","Familiarizarse con las estructuras y sonidos ms bsicos del idioma.","Establecer el hbito y el contacto diario con el idioma.","Prepararse para la futura inmersin."],successTips:["No necesitas gramtica: Olvdate de la gramtica si as lo prefieres. La aprenders por exposicin. Pero si te gusta, sala solo como apoyo, nunca como base.","Estudia palabras frecuentes (No bsicas).","S Constante.","No te estanques aqu: Esta etapa es una rampa, no una residencia. El objetivo no es quedarte con Anki y Busuu por meses, sino usarlos como impulso inicial para lanzarte al input real lo antes posible.","Hazlo rpido, no perfecto: No necesitas dominar todas las palabras ni terminar el mazo. Solo necesitas lo suficiente para no ahogarte cuando empieces la inmersin."],commonChallenges:["Sentirse Abrumado por Anki: Es normal sentirse abrumado por anki porque no es una aplicacin divertida. Recomendamos empezar con pocas tarjetas e ir subiendo progresivamente. Nuestro objetivo es estudiar 15 palabras por da durante esta etapa (Revisar pestaa de rutinas).",'Dudar si se est aprendiendo "suficiente" gramtica: Confiar en el proceso. Es normal creer que necesitamos la gramtica pero es un mito completamente; si lo necesitas puedes hacer una consulta rpida de reglas, pero no convertirlo en el foco.'],nextStageCriteria:["Despus pasar las 700+ palabras revisadas en el mazo de frecuencia."]},[Le.TWO]:{name:"Segunda etapa: Inmersin total en el idioma",description:"Consumir contenido autntico (pelculas, series, etc.) con subttulos en idioma meta. nfasis en contenido fcil y disfrutable.",objective:"Lograr entender pelculas y series en el mismo idioma con subttulos (CC) Fcilmente, expandir el vocabulario y la comprensin de estructuras gramaticales de forma intuitiva y contextual, desarrollar la capacidad de seguir tramas y entender ideas principales en el idioma meta, incluso si no se comprende cada palabra, y disfrutar del proceso de aprendizaje a travs de contenido de inters personal.",longDescription:`En esta etapa consumiremos contenido autntico en el idioma, esto incluye pelculas, series, libros, videojuegos. En un comienzo no vas a entender cada una de las palabras que dicen, lo importante y lo que vas a hacer es tratar de entender el mensaje, entender lo que est sucediendo en la pantalla, por ejemplo si estuvieras viendo un show de comedia no deberas de tratar cada una de las palabras que dicen de los chistes, si no buscar entender el chiste.

Al principio tenemos que poner nfasis en consumir contenido fcil, tenemos que encontrarnos en el punto en donde entendamos y no lo que estamos consumiendo y debemos de estar disfrutando y de encontrar el contenido interesante. En estos momentos recomendamos absolutamente activar los subttulos (CC) en el mismo idioma meta, al ser un contenido audiovisual contaremos con lo que esta pasando en la pantalla (gestos, acciones) y los subttulos nos ayudan en este punto a mejorar muchsimo nuestra comprensin y aprender como se escribe el idioma en relacin a como se escucha.

Para encontrar contenido recomendamos plataformas de streaming como YouTube, Netflix, Prime Video. Para ms informacin y herramientas especficas, revisa nuestra seccin de Recursos.

Es importante estar en contacto todos los das con el idioma, a la vez que consumimos contenido usar tambin Anki para aprender nuevas palabras. Recomendamos 2 horas al da en inmersin activa con la inmersin pasiva como extra opcional. Esto nos permite notar progreso de forma rpida y evidente, lo cual nos mantendr con una motivacin alta. Adems, al tratarse de un mtodo que se compone de actividades agradables, las dos horas sern no solo sostenibles, sino que tambin placenteras.

Tipos de Inmersin en esta Etapa
Inmersin activa: Esta es la actividad ms importante. Presta toda tu atencin al contenido intentando deducir por el contexto. Dentro de esta categora entra la inmersin libre (freeflow) que es sin buscar nada o casi nada significados de palabras aprendiendo por input comprensible.
Inmersin intensiva: Es cuando utilizas un diccionario emergente en tu inmersin buscando en cada frase para saber su significado y entender la frase. Nosotros recomendamos muy poco este tipo de inmersin porque puede llegar a ser tedioso o una carga y puede reducir tu tiempo total bruto en el idioma.
Inmersin pasiva: Es cuando se presta una atencin parcial al idioma, pueden ser podcast o audios. Este tipo de inmersin puede ser increblemente beneficiosa si es utilizada de manera correcta. Si bien al no prestar mucha atencin se pierden muchos de los beneficios al s hacerlo, puede ayudarte a incrementar muchsimo tu tiempo de exposicin al idioma, lo cual ayuda realmente a gente ocupada. No remplaza a la inmersin activa y es completamente opcional, pero puede ayudarte a acelerar el proceso. Recomendamos la inmersin pasiva a partir de esta segunda etapa, cuando ya puedas entender una parte de lo que escuchas pasivamente.

Estudio activo (opcional): Este es realmente opcional para nosotros pero puede tener grandes beneficios, abarca actividades como estudiar la fontica, vocabulario con Anki y estudiar el sistema de escritura. En la mayora de idiomas aprender la fontica y el sistema de escritura te pueden tomar menos de una semana de aprender.`,keyObjectives:["Lograr entender pelculas y series en el mismo idioma con subttulos (CC) Fcilmente.","Expandir el vocabulario y la comprensin de estructuras gramaticales de forma intuitiva y contextual.","Desarrollar la capacidad de seguir tramas y entender ideas principales en el idioma meta, incluso si no se comprende cada palabra.","Disfrutar del proceso de aprendizaje a travs de contenido de inters personal."],successTips:["Encuentra TU Contenido: La clave es que sea interesante PARA TI. Si te aburres, cambia de contenido.","Disfruta el proceso: Si quieres ver una seria, vela!","No te Obsesiones con Entenderlo TODO: Al principio es normal entender solo un porcentaje. Enfcate en la idea general y disfruta. La comprensin crecer.","Usa los Subttulos (en idioma meta) Sabiamente: Son una ayuda, no una muleta permanente. Presta atencin a cmo suenan las palabras que lees.","Vara tus Fuentes de Input: No te quedes solo con un tipo de contenido. La variedad te expondr a ms vocabulario y acentos.","S Consistente: La consistencia es el punto ms importante de todos; 3 minutos es mejor que nada."],nextStageCriteria:["Puedes entender con facilidad el contenido que consumes con subttulos (CC).","Tienes una buena base de vocabulario pasivo y una intuicin creciente sobre cmo suena el idioma."]},[Le.THREE]:{name:"Tercera etapa: Free Flow Listening",description:"Independizarse de los subttulos. Consumir contenido sin subttulos y minar oraciones i+1.",objective:'Desarrollar la capacidad de entender contenido autntico SIN subttulos, mejorar la velocidad de procesamiento auditivo, afianzar la comprensin intuitiva de la gramtica y el vocabulario en contextos variados, y comenzar a identificar y aprender activamente vocabulario nuevo a travs del "minado de oraciones" (i+1).',longDescription:`Despus de haber pasado un cierto tiempo nos daremos cuenta que entendemos bastante bien el idioma, en este punto aprenderemos a independizarnos de los subttulos para entender sin necesidad de ellos. Para este paso recomendamos el freeflow listening, es bsicamente consumir el contenido sin subttulos junto con (opcional) intensive listening, este demanda mucha energa y puede llegar a ser hasta aburrido, consiste en escuchar un mismo dialogo hasta 3 veces analizando las voces para en la cuarta leer lo que dicen y escuchar una vez ms.

En esta etapa entenderemos muy bien y probablemente haya varias oraciones i+1 donde haya una palabra que desconozcamos en el mismo enunciado, el minado de oraciones consiste en minar la oracin completa i+1 en anki, creando una tarjeta con la imagen del contenido que estemos viendo con la oracin completa traducida al espaol, para entender el significado de la palabra en ese contexto en especfico, no recomendamos en lo absoluto minar solo la palabra ya que suelen cambiar de significado segn el contexto.`,keyObjectives:["Desarrollar la capacidad de entender contenido autntico SIN subttulos.","Mejorar la velocidad de procesamiento auditivo.","Afianzar la comprensin intuitiva de la gramtica y el vocabulario en contextos variados.",'Comenzar a identificar y aprender activamente vocabulario nuevo a travs del "minado de oraciones" (i+1).'],successTips:['No Tengas Miedo de "Perderte": Es normal no entender todo al principio sin subttulos. Tu cerebro se adaptar. Reljate y confa en el proceso.',"Prioriza el Minado de Calidad (i+1): No intentes minar cada palabra desconocida. Enfcate en oraciones donde solo una cosa sea nueva. Esto es mucho ms eficiente."],nextStageCriteria:["Puedes entender la gran mayora del contenido audiovisual para nativos sin necesidad de subttulos.","Te sientes cmodo con la velocidad y la variedad del habla nativa.","Tienes un vocabulario pasivo muy extenso y una fuerte intuicin gramatical.","Sientes un deseo creciente de empezar a EXPRESARTE en el idioma, de compartir tus propias ideas."]},[Le.FOUR]:{name:"Cuarta etapa: Produccin del idioma",description:"Activar conocimiento pasivo para hablar y escribir. Practicar output con IA, escritura, etc.",objective:"Activar el conocimiento pasivo adquirido y convertirlo en habilidad productiva (hablar y escribir), desarrollar fluidez y naturalidad al expresarse, ganar confianza en la comunicacin oral y escrita, e identificar y pulir reas de mejora en la gramtica y pronunciacin a travs de la prctica y el feedback (si se busca).",longDescription:`Imagina que, durante todo este proceso de input, tu cerebro ha estado construyendo una mquina compleja. Una mquina diseada para entender el idioma: con engranes, sensores y cables que se activan cada vez que escuchas, ves o lees algo en esa lengua. Al principio, era lenta, torpe, apenas encenda. Pero con cada da de exposicin, con cada minuto de inmersin, la mquina fue tomando forma. Se ajust, se afin, se volvi eficiente.

Y entonces sucede algo mgico: esa misma mquina, que pareca creada solo para entender, puede invertirse. Es como si le dieras vuelta a su mecanismo. Lo que antes era input, ahora puede ser output. La comprensin se convierte en produccin. Ya no solo reconoces estructuras, sonidos o palabras; ahora puedes usarlas. La mquina est lista para hablar, para escribir, para crear con el idioma.

Aqu empieza esa transicin. Si bien existen casos documentados de personas que fueron fluidas solo con recibir input ese no es el caso con la mayora, y tenemos que practicar mucho para llegar a la fluidez. Para lograr esto tenemos que primero diferenciar entre lo que podemos lograr con escribir y hablar. El speaking ayuda ms que nada a hablar ms de manera fluida, pero tiene sus problemas, notars muy fcilmente tus errores y el problema es de que no tendrs el tiempo de solucionarlos. En la escritura en cambio tendremos ms tiempo para buscar algo que no recordamos cmo decir, activando el input en output, y teniendo ms tiempo para corregir fcilmente. Recomendamos como actividades escribir y hacer llamadas con inteligencia artificial, haciendo nfasis en hacer una conversacin fluida, donde te corrija y siga el flujo de la conversacin a la vez. Ser muy fcil corregir los errores ya que con las horas de input sern obvios los errores. Otra de las actividades es simplemente hablar consigo mismo puede ser mentalmente o en voz alta, o llevar un diario. Aqu recomendamos 1 hora de output (producir el idioma) y una hora de input.`,keyObjectives:["Activar el conocimiento pasivo adquirido y convertirlo en habilidad productiva (hablar y escribir).","Desarrollar fluidez y naturalidad al expresarse.","Ganar confianza en la comunicacin oral y escrita.","Identificar y pulir reas de mejora en la gramtica y pronunciacin a travs de la prctica y el feedback (si se busca)."],successTips:["Empieza Simple y S Valiente: No esperes hablar perfectamente desde el primer da. Lo importante es empezar a comunicar tus ideas.",'Enfcate en la Comunicacin, no en la Perfeccin Gramatical: El objetivo es hacerte entender y entender a otros. Los errores son parte del proceso. Tu "monitor adquirido" te ayudar a autocorregirte con el tiempo.',"La Escritura Ayuda al Habla: Practicar la escritura te da tiempo para pensar, buscar vocabulario y estructurar tus ideas, lo cual luego se transfiere positivamente al habla.","Grbate Hablando: Aunque pueda ser incmodo al principio, es una excelente forma de identificar reas de mejora en tu pronunciacin y fluidez."],commonChallenges:['Miedo a Equivocarse / "Pnico Escnico": Recuerda que todos los aprendices pasan por esto. El Antimtodo te ha preparado bien. Tu comprensin es alta. Lnzate! Cuanto ms practiques, menos miedo tendrs.','"No se me ocurren las palabras cuando quiero hablar": Es normal. Tu vocabulario activo an se est desarrollando. Sigue con el input y, al hablar, no tengas miedo de parafrasear o usar palabras ms simples si no recuerdas la exacta.']}},Ih=[],Kl="learning_days_and_health",Vc=[{title:"Bienvenido/a a El Antimtodo!",text:"Tu compaero definitivo para adquirir idiomas de forma natural y disfrutando del proceso. Olvdate de la gramtica forzada y las lecciones aburridas.",image:"./assets/supremacy.jpg"},{title:"Input Comprensible es la Clave",text:"Nos centramos en la exposicin masiva a contenido que entiendes y te gusta: series, msica, videojuegos, libros... lo que t elijas!",image:"./assets/recursos-viajero-antimetodo.png"},{title:"T Tienes el Control",text:"Esta app es tu centro de mando para registrar tu inmersin y visualizar tu progreso. Es 100% gratuita y sin anuncios. Importante: Tus datos se guardan solo en este navegador. Recuerda exportarlos desde Configuracin para tener un respaldo!",image:"./assets/welearnthisway.png"},{title:"List@ para Empezar?",text:"Vamos a realizar un breve test para ubicarte en la etapa correcta del Antimtodo y personalizar tu experiencia.",image:"./assets/supremacy.png"}],Ts=[{id:"res001",name:"Refold Tracker",category:"Seguimiento de Tiempo (Esencial!)",description:"Aplicacin esencial para registrar tu tiempo de inmersin y estudio, ayudndote a medir tu progreso y mantener la motivacin. Usuario del autor: LuiseM93.",link:"https://www.notion.so/refold/Refold-Tracker-Android-iOS-af780595f503430686256f007cca3d92",isCommunityRecommended:!0,platform:"Android/iOS",notes:"Descargar de Notion de Refold o Play Store (Android).",subCategory:"Recomendada"},{id:"res002",name:"Toggl Track",category:"Seguimiento de Tiempo (Esencial!)",description:"Alternativa para registrar tiempo.",link:"https://toggl.com/track/",subCategory:"Alternativas"},{id:"res003",name:"Polylogger",category:"Seguimiento de Tiempo (Esencial!)",description:"Otra alternativa para el seguimiento de tiempo.",link:"https://polylogger.com/",subCategory:"Alternativas"},{id:"res101",name:"Anki (PC/Mac/Linux)",category:"Etapa 1: Preparacin Previa",subCategory:"Anki (Sistema de Repeticin Espaciada)",description:"Software de flashcards para repeticin espaciada.",link:"https://apps.ankiweb.net/",platform:"PC/Mac/Linux",cost:"Gratis (Web Oficial)"},{id:"res102",name:"AnkiDroid (Android)",category:"Etapa 1: Preparacin Previa",subCategory:"Anki (Sistema de Repeticin Espaciada)",description:"Versin de Anki para Android.",link:"https://play.google.com/store/apps/details?id=com.ichi2.anki&hl=en_US&gl=US",platform:"Android",cost:"Gratis"},{id:"res103",name:"AnkiMobile (iOS)",category:"Etapa 1: Preparacin Previa",subCategory:"Anki (Sistema de Repeticin Espaciada)",description:"Versin de Anki para iOS.",link:"https://apps.apple.com/us/app/ankimobile-flashcards/id373493387",platform:"iOS",cost:"$24.99 USD (razn desconocida)",notes:" Costo elevado."},{id:"res104",name:"Mazos de Refold",category:"Etapa 1: Preparacin Previa",subCategory:"Mazos Recomendados para Anki",description:"Mazos de vocabulario base. Valen completamente la pena.",link:"https://refold.la/roadmap/stage-1/a/anki-setup#Starter%20Packs",cost:"De paga ($20 USD)"},{id:"res105",name:"Mazo 1000 Palabras Ingls (Comunidad Refold)",category:"Etapa 1: Preparacin Previa",subCategory:"Mazos Recomendados para Anki",description:"Mazo gratuito de la comunidad Refold para ingls.",link:"https://ankiweb.net/shared/info/1M9S7L2Q",cost:"Gratis",notes:" Basado en espaol."},{id:"res106",name:"Mazo 1000 Palabras (Ingls a Francs)",category:"Etapa 1: Preparacin Previa",subCategory:"Mazos Recomendados para Anki",description:"Mazo gratuito de la comunidad para ingls a francs.",link:"https://ankiweb.net/shared/decks/french",cost:"Gratis",notes:" Comunidad."},{id:"res107",name:"Mazo Fontica del Francs",category:"Etapa 1: Preparacin Previa",subCategory:"Mazos Recomendados para Anki",description:"Mazo gratuito para fontica francesa.",link:"https://ankiweb.net/shared/decks/french%20phonetics",cost:"Gratis"},{id:"res108",name:"Busuu",category:"Etapa 1: Preparacin Previa",subCategory:"Plataformas de Aprendizaje Inicial",description:"Plataforma para construir bases en un idioma. Recomendada.",link:"https://www.busuu.com/es",isCommunityRecommended:!0,platform:"Web/iOS/Android"},{id:"res201",name:"Language Reactor",category:"Etapa 2: Inmersin Total",subCategory:"Asistentes de Lectura, Video y Contenido",description:"Diccionario emergente y herramientas para Netflix, YouTube, etc. Ver video tutorial de Mr. Salas.",link:"https://www.languagereactor.com/",platform:"Extensin de Navegador"},{id:"res202",name:"LingQ",category:"Etapa 2: Inmersin Total",subCategory:"Asistentes de Lectura, Video y Contenido",description:"Herramienta para aprender mediante lectura y escucha. Para cualquier etapa.",link:"https://www.lingq.com/es/",cost:"De paga (opcin gratuita limitada)"},{id:"res203",name:"Readlang",category:"Etapa 2: Inmersin Total",subCategory:"Asistentes de Lectura, Video y Contenido",description:"Alternativa a LingQ para lectura. Recurso en exploracin.",link:"https://readlang.com/",cost:"De paga ($6 USD/mes, con versin limitada gratuita)",notes:" No probado por el autor pero recomendado."},{id:"res204",name:"Lute",category:"Etapa 2: Inmersin Total",subCategory:"Asistentes de Lectura, Video y Contenido",description:"Alternativa gratuita a LingQ. Ver tutorial de Lute por Refold.",link:"https://github.com/jzohrab/lute-v3#readme",cost:"Gratis"},{id:"res205",name:"Voracious",category:"Etapa 2: Inmersin Total",subCategory:"Asistentes de Lectura, Video y Contenido",description:"Reproductor para aprendizaje de idiomas.",link:"https://voracious.app/",notes:" An no explorado pero recomendado."},{id:"res206",name:"Audiblez",category:"Etapa 2: Inmersin Total",subCategory:"Crea tus Propios Audiolibros",description:"Genera audiobooks desde e-books.",link:"https://audiblez.com/"},{id:"res207",name:"ebook2audiobook",category:"Etapa 2: Inmersin Total",subCategory:"Crea tus Propios Audiolibros",description:"Convierte ebooks en audiobooks.",link:"https://github.com/Rudloff/ebook2audiobook"},{id:"res208",name:"Voice (Audiobook Player)",category:"Etapa 2: Inmersin Total",subCategory:"Gestor de Audiolibros (Android)",description:"Reproductor de audiolibros para Android.",link:"https://play.google.com/store/apps/details?id=com.hyperionics.avar",platform:"Android",cost:"Gratis sin anuncios"},{id:"res209",name:"Netflix",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Plataforma de streaming para series y pelculas.",link:"https://www.netflix.com"},{id:"res210",name:"Prime Video",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Plataforma de streaming de Amazon.",link:"https://www.primevideo.com"},{id:"res211",name:"Disney Plus",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Plataforma de streaming de Disney.",link:"https://www.disneyplus.com"},{id:"res212",name:"YouTube",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Plataforma de videos.",link:"https://www.youtube.com",cost:"Gratis"},{id:"res213",name:"France.tv",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Sitio de streaming para ver contenido en francs.",link:"https://www.france.tv/",cost:"Gratis",notes:"De Francia - puede requerir VPN."},{id:"res214",name:"Tubi TV",category:"Etapa 2: Inmersin Total",subCategory:"Plataformas de Streaming",description:"Sitio de streaming para ver contenido en ingls.",link:"https://tubitv.com/",cost:"Gratis",notes:"De Estados Unidos - puede requerir VPN."},{id:"res215",name:"OpenSubtitles",category:"Etapa 2: Inmersin Total",subCategory:"Descargar Subttulos",description:"Sitio para descargar subttulos.",link:"https://www.opensubtitles.org"},{id:"res216",name:"My Subs",category:"Etapa 2: Inmersin Total",subCategory:"Descargar Subttulos",description:"Otro sitio para descargar subttulos.",link:"https://mysubs.io/"},{id:"res217",name:"Urban VPN",category:"Etapa 2: Inmersin Total",subCategory:"VPN (Contenido Geobloqueado)",description:"VPN gratuita para cambiar tu ubicacin.",link:"https://www.urban-vpn.com/",cost:"Gratuita",platform:"Play Store/App Store"},{id:"res301",name:"Migaku",category:"Etapa 3: Free Flow Listening y Minado",subCategory:"Herramientas Minado Asistido/Automtico",description:"Minado de oraciones automtico con video y audio.",link:"https://www.migaku.io/",cost:"De paga ($10 USD/mes)"},{id:"res302",name:"Yomitan (Extensin)",category:"Etapa 3: Free Flow Listening y Minado",subCategory:"Herramientas Minado Asistido/Automtico",description:"Solo mina las palabras en definiciones exactas; es recomendable minar manually.",link:"https://foosoft.net/projects/yomichan/",cost:"Gratuito",notes:" Se recomienda minar manualmente para definicin correcta."},{id:"resP01",name:"Spotify",category:"Inmersin Pasiva (desde Etapa 2)",subCategory:"Podcasts",description:"Plataforma para escuchar podcasts y msica.",link:"https://www.spotify.com"},{id:"resP02",name:"Podcast Addict (Android)",category:"Inmersin Pasiva (desde Etapa 2)",subCategory:"Podcasts",description:"App para podcasts en Android.",link:"https://podcastaddict.com/apk",platform:"Android",cost:"Gratis"},{id:"resP03",name:"Apple Podcasts (iOS)",category:"Inmersin Pasiva (desde Etapa 2)",subCategory:"Podcasts",description:"App para podcasts en iOS.",link:"https://www.apple.com/apple-podcasts/",platform:"iOS",cost:"Gratis"},{id:"resP04",name:"Base de datos de podcast (Japons)",category:"Inmersin Pasiva (desde Etapa 2)",subCategory:"Podcasts",description:"Hoja de clculo con podcasts para inmersin pasiva en japons.",link:"https://docs.google.com/spreadsheets/d/17PxD1uU2h7Zpl2hHzKUDO_X2HK2zSgG7WaY82bAl0sM/edit#gid=0",cost:"Gratis"},{id:"resP05",name:"Radio France",category:"Inmersin Pasiva (desde Etapa 2)",subCategory:"Radio Online",description:"Radio online en francs.",link:"https://www.radiofrance.fr/",cost:"Gratis",platform:"Play Store/App Store"},{id:"res401",name:"ChatGPT",category:"Etapa 4: Produccin del Idioma",subCategory:"IA para Conversar",description:"IA para conversacin escrita u oral.",link:"https://chat.openai.com/"},{id:"res402",name:"Character.ai",category:"Etapa 4: Produccin del Idioma",subCategory:"IA para Conversar",description:"IA para conversacin escrita u oral con personajes.",link:"https://character.ai/"},{id:"res403",name:"Issen (Tutor IA)",category:"Etapa 4: Produccin del Idioma",subCategory:"IA para Conversar",description:"Tutor IA para conversacin.",link:"https://issen.io/",cost:"De paga"},{id:"res404",name:"Tandem",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Habla gratis con nativos.",link:"https://www.tandem.net/",cost:"Gratis"},{id:"res405",name:"HelloTalk",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"App para intercambio de idiomas.",link:"https://www.hellotalk.com/",cost:"Gratis"},{id:"res406",name:"Episoden",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Plataforma para intercambio de idiomas.",link:"https://episoden.com/",cost:"Gratis"},{id:"res407",name:"Speaky",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"App para intercambio de idiomas.",link:"https://www.speaky.com/",notes:" An no explorado pero recomendado."},{id:"res408",name:"Lingbe",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Llamadas con nativos.",link:"https://lingbe.com/",platform:"Apps: Play Store, App Store"},{id:"res409",name:"Conversation Exchange",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Sitio web para encontrar compaeros de intercambio.",link:"https://www.conversationexchange.com/",cost:"Gratis"},{id:"res410",name:"Language.exchange",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Otro sitio para intercambio de idiomas.",link:"https://language.exchange/",cost:"Gratis"},{id:"res411",name:"VRChat",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"nete a servidores donde hablen tu idioma meta.",link:"https://hello.vrchat.com/",cost:"Gratis"},{id:"res412",name:"Discord",category:"Etapa 4: Produccin del Idioma",subCategory:"Intercambio de Idiomas con Nativos",description:"Busca grupos donde hablen tu idioma meta.",link:"https://discord.com/",cost:"Gratis"},{id:"res413",name:"italki",category:"Etapa 4: Produccin del Idioma",subCategory:"Clases y Tutores",description:"Habla con nativos en tu idioma meta (tutores).",link:"https://www.italki.com/",cost:"De Pago"},{id:"res414",name:"Cambly",category:"Etapa 4: Produccin del Idioma",subCategory:"Clases y Tutores",description:"Clases con tutores nativos de ingls.",link:"https://www.cambly.com/",cost:"De Pago"},{id:"resM01",name:"Youglish",category:"Mejora de Pronunciacin",subCategory:"Recursos Generales",description:"Revisa pronunciacin de palabras en contexto de videos de YouTube.",link:"https://youglish.com/"},{id:"resM02",name:"Forvo",category:"Mejora de Pronunciacin",subCategory:"Recursos Generales",description:"Escucha palabras pronunciadas por nativos.",link:"https://forvo.com/"},{id:"resM03",name:"Elsa Speak (Ingls)",category:"Mejora de Pronunciacin",subCategory:"Aplicaciones y Tcnicas",description:"Aprende fontica y mejora tu pronunciacin en ingls.",link:"https://elsaspeak.com/en/",cost:"De pago (opcin gratuita limitada)"},{id:"resM04",name:"Flow-verlapping (Tutorial Mr. Salas)",category:"Mejora de Pronunciacin",subCategory:"Aplicaciones y Tcnicas",description:"Mejora la pronunciacin grabando y repitiendo. Tutorial por Mr. Salas.",link:"https://www.youtube.com/watch?v=sFym3nL_620",notes:"Link a video de ejemplo"},{id:"resM05",name:"Shadowing (Setup y Tutorial ptimo)",category:"Mejora de Pronunciacin",subCategory:"Aplicaciones y Tcnicas",description:"Tcnica de imitacin para mejorar pronunciacin y fluidez. Setup y tutorial.",link:"https://www.youtube.com/watch?v=H3hI1GnHznM",notes:"Link a video de ejemplo"},{id:"resX01",name:"Test de Ubicacin Antimtodo (con IA)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Guas",description:"Gua para que la IA te ayude a encontrar tu etapa ideal.",link:"#/onboarding",notes:"Integrado en la app (Onboarding)"},{id:"resX02",name:"Guas de Idiomas de Refold",category:"Apoyo Extra y Guas Adicionales",subCategory:"Guas",description:"Guas especficas por idioma de Refold.",link:"https://refold.la/guides",isCommunityRecommended:!0},{id:"resX03",name:"AJATT (All Japanese All The Time)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Guas",description:"Mtodo obsesivo para aprender japons (+5 horas/da).",link:"http://www.alljapaneseallthetime.com/blog/",notes:" Mtodo intensivo."},{id:"resX04",name:"Mr. Salas (YouTube)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Canales de YouTube",description:"Canal sobre inmersin y aprendizaje de idiomas.",link:"https://www.youtube.com/@MrSalas",isCommunityRecommended:!0},{id:"resX05",name:"Matt vs Japan (YouTube)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Canales de YouTube",description:"Canal sobre aprendizaje de japons por inmersin.",link:"https://www.youtube.com/@mattvsjapan",isCommunityRecommended:!0},{id:"resX06",name:"Refold (YouTube)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Canales de YouTube",description:"Canal oficial de Refold sobre aprendizaje de idiomas.",link:"https://www.youtube.com/@Refold",isCommunityRecommended:!0},{id:"resX07",name:"LearnJapanese.moe",category:"Apoyo Extra y Guas Adicionales",subCategory:"Bases de Datos de Recursos Comunitarios",description:"Recursos para japons.",link:"https://learnjapanese.moe/",isCommunityRecommended:!0},{id:"resX08",name:"Recursos para Japons (Sitio AJATT de Tatsumoto Ren)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Bases de Datos de Recursos Comunitarios",description:"Recursos para japons.",link:"https://tatsumoto.neocities.org/blog/resources-for-learning-japanese.html",isCommunityRecommended:!0},{id:"resX09",name:"Base de Recursos de la Comunidad Refold (Varios Idiomas)",category:"Apoyo Extra y Guas Adicionales",subCategory:"Bases de Datos de Recursos Comunitarios",description:"Recursos comunitarios de Refold para varios idiomas.",link:"httpsold.la/community/document/5xvbdNboPSxL92N03iR4",isCommunityRecommended:!0}],di=[{name:"Estudio de vocabulario Anki",description:"Consiste en el aprendizaje de nuevas palabras y frases utilizando aplicaciones de repeticin espaciada como Anki, a menudo con mazos de las palabras ms comunes.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Uso de apps de idiomas para bases (ej. Busuu)",description:"Implica el uso de herramientas digitales que ayudan a construir las bases iniciales del idioma de forma guiada.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Fontica (opcional y recomendada)",description:"Se refiere a realizar sesiones breves para familiarizarse con los sonidos y la pronunciacin del idioma.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Gramtica (opcional, como apoyo bsico si disfrutas estudiarla)",description:"El estudio formal de la gramtica no es el foco principal, pero puede usarse de forma opcional como apoyo bsico para comprender mejor las estructuras, o para refinar detalles en etapas ms avanzadas, si el estudiante lo disfruta.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Estudio del sistema de escritura (Si es necesario)",description:"Se dedica a aprender el sistema de escritura del idioma, lo cual puede ser un proceso rpido en la mayora de los casos.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Lectura (Libros, artculos)",description:"Consumir contenido escrito autntico en el idioma meta, como libros o artculos, para aprender de forma natural a travs del input comprensible.",category:ke.ACTIVE_IMMERSION,skill:Be.READING},{name:"Lectura ms audio (Libro + Audiolibro)",description:"Consumir contenido que combina texto y audio, como leer un libro mientras se escucha su audiolibro, lo que permite asociar la forma escrita con la pronunciacin.",category:ke.ACTIVE_IMMERSION,skill:Be.READING},{name:"Inmersin intensiva con subttulos (revisar palabras)",description:"Consiste en consumir contenido con subttulos en el idioma meta, prestando mucha atencin para deducir el significado por el contexto y, en ocasiones, utilizando herramientas de apoyo para revisar palabras especficas. Principalmente visual y auditivo.",category:ke.ACTIVE_IMMERSION,skill:Be.READING},{name:"Inmersin con subttulos freeflow",description:"Implica consumir contenido con subttulos en el idioma meta, pero sin detenerse a buscar cada palabra desconocida, permitiendo que el aprendizaje ocurra de forma ms fluida y natural por el contexto.",category:ke.ACTIVE_IMMERSION,skill:Be.READING},{name:"Free Flow Listening (sin subttulos)",description:"Se enfoca en escuchar y comprender el idioma sin el apoyo de subttulos, desarrollando la habilidad de entender el habla natural. Puede ser TV, YouTube, podcasts, etc.",category:ke.ACTIVE_IMMERSION,skill:Be.LISTENING},{name:"Intensive Listening (opcional)",description:"Implica escuchar repetidamente un dilogo corto (hasta tres veces), luego leer su transcripcin y finalmente volver a escucharlo para una comprensin profunda.",category:ke.ACTIVE_IMMERSION,skill:Be.LISTENING},{name:"Crosstalk",description:"Dos personas conversan, cada una en su propio idioma nativo, enfocndose en comprender el input del otro a travs del contexto y las pistas visuales, sin la presin de producir en el idioma meta.",category:ke.ACTIVE_IMMERSION,skill:Be.LISTENING},{name:"Videojuegos (con subttulos en idioma meta)",description:"Jugar videojuegos con dilogos y textos en el idioma meta, utilizando subttulos en el mismo idioma para reforzar la lectura y la asociacin audio-texto.",category:ke.ACTIVE_IMMERSION,skill:Be.READING},{name:"Videojuegos (audio en idioma meta, sin subttulos)",description:"Jugar videojuegos con el audio en el idioma meta, centrndose en la comprensin auditiva sin la ayuda de subttulos.",category:ke.ACTIVE_IMMERSION,skill:Be.LISTENING},{name:"Inmersin Pasiva (podcasts, msica de fondo)",description:"Consiste en exponerse al idioma de fondo, prestando atencin parcial, como escuchar podcasts o msica mientras se realizan otras actividades, para aumentar la exposicin general.",category:ke.PASSIVE_IMMERSION,skill:Be.LISTENING},{name:"Minado de oraciones (i+1) con Anki",description:"Consiste en crear tarjetas de Anki con oraciones completas que contengan solo una palabra nueva, incluyendo una imagen y la traduccin, para aprender vocabulario en contexto.",category:ke.ACTIVE_STUDY,skill:Be.STUDY},{name:"Actividades de escritura (ej. llevar un diario)",description:"Implica practicar la expresin escrita en el idioma, como llevar un diario o simplemente escribir textos cortos para activar el conocimiento pasivo.",category:ke.PRODUCTION,skill:Be.WRITING},{name:"Actividades de escritura asistida",description:"Practicar la escritura utilizando herramientas que ofrecen correcciones o sugerencias, como correctores gramaticales o plataformas de intercambio de textos (ej. Journaly).",category:ke.PRODUCTION,skill:Be.WRITING},{name:"Conversacin con compaero de intercambio",description:"Practicar el habla y la escucha con un hablante nativo o avanzado del idioma meta, a menudo a cambio de ayudarle a practicar tu idioma nativo.",category:ke.PRODUCTION,skill:Be.SPEAKING},{name:"Conversacin con Inteligencia Artificial (IA)",description:"Se refiere a interactuar verbalmente o por escrito con una IA para practicar la fluidez conversacional, donde la IA puede corregir y mantener el flujo de la conversacin.",category:ke.PRODUCTION,skill:Be.SPEAKING},{name:"Hablar consigo mismo (mentalmente o en voz alta)",description:"Consiste en practicar la produccin oral del idioma de forma individual, ya sea pensando en el idioma o hablando en voz alta con uno mismo.",category:ke.PRODUCTION,skill:Be.SPEAKING},{name:"FLOW-VERLAPPING (Chorusing)",description:"Tcnica de produccin donde se escucha una frase corta en el idioma meta y se intenta repetirla simultneamente o inmediatamente despus, imitando la pronunciacin, ritmo y entonacin.",category:ke.PRODUCTION,skill:Be.SPEAKING}],Vt=[Un.SPANISH,Un.ENGLISH,Un.FRENCH,Un.GERMAN,Un.ITALIAN,Un.PORTUGUESE,Un.JAPANESE,Un.KOREAN,Un.CHINESE],kh=[{id:"language",label:"Qu idioma ests aprendiendo o quieres aprender?",type:"select",options:Vt},{id:"experience",label:"Cunto tiempo llevas aprendiendo este idioma?",type:"radio",options:["Nada / Acabo de empezar","Unas pocas semanas","Unos pocos meses","1 ao o ms"]},{id:"understandsBasic",label:"Puedes entender frases bsicas o saludos?",type:"radio",options:["No, nada","S, algunas","S, bastantes"]},{id:"understandsWithSubs",label:"Puedes entender contenido nativo (TV, podcasts) con subttulos en el idioma que aprendes?",type:"radio",options:["No","Un poco","Bastante bien","Casi perfectamente"]},{id:"understandsWithoutSubs",label:"Puedes entender contenido nativo sin subttulos?",type:"radio",options:["No","Un poco","Bastante bien","Casi perfectamente"]},{id:"speakingComfort",label:"Qu tan cmodo/a te sientes hablando frases bsicas?",type:"radio",options:["Nada cmodo/a","Un poco","Bastante","Muy cmodo/a"]},{id:"mainGoal",label:"Cul es tu principal objetivo con este idioma?",type:"text",placeholder:"Ej: Viajar, trabajo, hobby..."}];ke.ACTIVE_IMMERSION,ke.PASSIVE_IMMERSION,ke.ACTIVE_STUDY,ke.PRODUCTION;(()=>{const t={[ke.ACTIVE_STUDY]:[],[ke.ACTIVE_IMMERSION]:[],[ke.PASSIVE_IMMERSION]:[],[ke.PRODUCTION]:[]};return di.forEach(e=>{e.category&&t[e.category]&&(t[e.category].includes(e.name)||t[e.category].push(e.name))}),t})();const Lh={[Le.ONE]:["No memorices, familiarzate. Aprender vocabulario no es repetir, es reconocerlo cuando lo ves.","No te estanques en Anki. 700 tarjetas es la rampa de salida, no el destino.","Gramtica? Solo si la disfrutas. No la necesitas para avanzar.","15 palabras hoy > 0 palabras perfectas. Lo importante es avanzar, no dominar.","Usa Busuu como apoyo, no como centro. Tu motor ser el input, no las apps."],[Le.TWO]:["Tu primer objetivo no es hablar. Es entender sin miedo al idioma.","Ver Netflix = Estudiar. Si lo haces con intencin, cuenta.","No entendiste todo? Est bien. Si entiendes el mensaje, vas bien!","Subttulos en el idioma meta. Siempre. Son tu mejor aliado visual.","No busques cada palabra. Deja que el contexto trabaje por ti.","Vara tu contenido. Cambia de serie, de gnero, de canal eso ampla tu input.","2 horas diarias = progreso exponencial. Haz que se vuelva hbito.","Lo aburrido no sirve. Si no te gusta el contenido, cmbialo ya."],[Le.THREE]:["Di adis a los subttulos. Hoy puedes entender ms de lo que crees.","Una palabra nueva por frase. Esa es la regla de oro del minado (i+1).","Minar oraciones, no palabras. Porque el contexto lo es todo.","El error es minar en exceso. Solo mina frases con una sola palabra desconocida.","No traduzcas. Aprende a sentir el idioma, no a traducirlo.","Repite escenas que ames. Tu cerebro se entrena mejor con lo que le gusta."],[Le.FOUR]:["No esperes hablar perfecto. Solo empieza. Ya tienes la base.","Habla con IA, no con miedo. Es el lugar perfecto para practicar sin juicio.","La escritura desbloquea tu habla. Lo que escribes, un da lo dirs.","Grbate. Escucharte a ti mismo te da el mejor feedback.","Tu acento no es un error. Es una etapa. Pulirs con el tiempo.","Equivocarte es avanzar. Cada error activa tu monitor adquirido."],GENERAL:["Un mal da no borra tu progreso. Vuelve maana.","Tu progreso es invisible... hasta que un da entiendes todo.","No compares tu avance. Cada camino es nico.","No ests solo. Hay miles aprendiendo como t, a su ritmo.","La duda es parte del proceso. La certeza llega despus.","Si hoy solo viste un episodio, es progreso!","La inmersin pasiva tambin cuenta. Usa tus traslados!","Tu input es tu inversin. No tiene resultado inmediato, pero s inevitable.","Hazlo divertido. Si no disfrutas, ests usando mal el Antimtodo.","La constancia vence al talento. Hoy es mejor que perfecto."]},IC="La API Key de Gemini no est configurada. Algunas funciones (Test de Ubicacin) estarn limitadas. Configura la variable de entorno process.env.API_KEY para habilitarlas.",Es=[{id:"flair_futuro",name:"Ttulo: Futuro Polglota",description:"Para aquellos con grandes ambiciones lingsticas.",type:"flair",cost:50,value:"Futuro Polglota",category:"Perfil"},{id:"flair_iniciante",name:"Ttulo: Iniciante del Antimtodo",description:"Marcando el comienzo de tu viaje con el mtodo.",type:"flair",cost:100,value:"Iniciante del Antimtodo",category:"Perfil"},{id:"flair_explorador",name:"Ttulo: Explorador de Idiomas",description:"Aventurndose en nuevos territorios lingsticos.",type:"flair",cost:250,value:"Explorador de Idiomas",category:"Perfil"},{id:"flair_aprendiz",name:"Ttulo: Aprendiz Constante",description:"Demuestra tu dedicacin diaria.",type:"flair",cost:350,value:"Aprendiz Constante",category:"Perfil"},{id:"flair_polyglot",name:"Ttulo: Polglota en Prctica",description:"Manejando mltiples idiomas con destreza.",type:"flair",cost:500,value:"Polglota en Prctica",category:"Perfil"},{id:"flair_inmerso",name:"Ttulo: Inmersin Profunda",description:"Sumergido totalmente en el idioma.",type:"flair",cost:750,value:"Inmersin Profunda",category:"Perfil"},{id:"flair_erudito",name:"Ttulo: Erudito Lingista",description:"Un conocedor profundo del idioma y su cultura.",type:"flair",cost:1e3,value:"Erudito Lingista",category:"Perfil"},{id:"flair_maestro",name:"Ttulo: Maestro Polglota",description:"Dominio legendario y sabidura idiomtica.",type:"flair",cost:2500,value:"Maestro Polglota",category:"Perfil"},{id:"flair_anti_maestro",name:"Ttulo: El Anti-Maestro",description:"Maestra desafiante de las normas.",type:"flair",cost:3e3,value:"El Anti-Maestro",category:"Perfil"},{id:"flair_sabio_input",name:"Ttulo: Sabio del Input Comprensible",description:"Entendimiento profundo del poder del input.",type:"flair",cost:3500,value:"Sabio del Input Comprensible",category:"Perfil"},{id:"flair_antilinguista_supremo",name:"Ttulo: El Antilingista Supremo",description:"La cspide del aprendizaje no convencional.",type:"flair",cost:5e3,value:"El Antilingista Supremo",category:"Perfil"},{id:"flair_hater_gramatica",name:"Ttulo: Hater de la Gramtica",description:"Porque el input es rey.",type:"flair",cost:2800,value:"Hater de la Gramtica",category:"Perfil"},{id:"flair_destructor_gramaticas",name:"Ttulo: Destructor de Gramticas",description:"Forjando fluidez ms all de las reglas.",type:"flair",cost:4e3,value:"Destructor de Gramticas",category:"Perfil"},{id:"theme_zen",name:"Tema: Jardn Zen",description:"Una paleta de colores calmante para mxima concentracin.",type:"theme",cost:300,value:"theme-zen",category:"Personalizacin Visual"},{id:"theme_neon",name:"Tema: Nen Nocturno",description:"Colores vibrantes para estudiar con energa.",type:"theme",cost:300,value:"theme-neon",category:"Personalizacin Visual"},{id:"theme_ocean",name:"Tema: Brisa Marina",description:"Tonos azules y frescos para una experiencia relajante.",type:"theme",cost:300,value:"theme-ocean",category:"Personalizacin Visual"},{id:"theme_japan_neon",name:"Tema: Japn Nen",description:"Sumrgete en las vibrantes noches de Tokio.",type:"theme",cost:400,value:"theme-japan-neon",category:"Personalizacin Visual"},{id:"theme_cafe_parisien",name:"Tema: Caf Parisino",description:"Un ambiente acogedor con el encanto de Pars.",type:"theme",cost:400,value:"theme-cafe-parisien",category:"Personalizacin Visual"},{id:"theme_fiesta_brasil",name:"Tema: Fiesta Brasilea",description:"Colores alegres y energa tropical.",type:"theme",cost:400,value:"theme-fiesta-brasil",category:"Personalizacin Visual"},{id:"redeem_points_1000",name:"Canjeo de 1000 Puntos",description:"Canjea este cdigo para obtener 1000 Puntos de Enfoque.",type:"points",cost:0,value:"1000",category:"Canjeo"},{id:"redeem_points_500",name:"Canjeo de 500 Puntos",description:"Canjea este cdigo para obtener 500 Puntos de Enfoque.",type:"points",cost:0,value:"500",category:"Canjeo"}],kC=[{id:"secret_flair_founder",name:"Ttulo: Fundador del Antimtodo",description:"Por estar desde el inicio.",type:"flair",cost:0,value:"Fundador del Antimtodo",category:"Secreto"},{id:"secret_flair_original_master",name:"Ttulo: El Antimaestro Original",description:"Un pionero del mtodo.",type:"flair",cost:0,value:"El Antimaestro Original",category:"Secreto"}],Ky="ANTIMETODOMASTER24",LC={FPGLOT24:"flair_futuro",ANTINICIO24:"flair_iniciante",EXPLORALANG24:"flair_explorador",CONSTANTEAP24:"flair_aprendiz",POLIPRAC24:"flair_polyglot",INMERSIONPRO24:"flair_inmerso",ERUDITOLEX24:"flair_erudito",MAESTROPOLY24:"flair_maestro",ZENMODE24:"theme_zen",NEONNIGHT24:"theme_neon",OCEANBREEZE24:"theme_ocean",ANTIMAESTROSUP:"flair_anti_maestro",SABIOINPUTMAX:"flair_sabio_input",ANTILINGUISTAXL:"flair_antilinguista_supremo",NOGRAMMARZONE:"flair_hater_gramatica",GRAMMARSMASHER:"flair_destructor_gramaticas",AMFOUNDERSECRET:"secret_flair_founder",AMORIGINALSECRET:"secret_flair_original_master",JAPANNIGHTS24:"theme_japan_neon",PARISCAFE24:"theme_cafe_parisien",BRASILFEST24:"theme_fiesta_brasil",PUNTOS1000:"redeem_points_1000",PUNTOS500:"redeem_points_500",[Ky]:"__UNLOCK_ALL__"},ir=[...Es,...kC];let et;console.error("CRITICAL: Supabase environment variables (VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY) are not set. The application will not connect to the backend."),et={auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:e=>Promise.resolve({data:{user:null,session:null},error:{name:"AuthError",message:"Supabase no est configurado. No se puede iniciar sesin."}}),signUp:e=>Promise.resolve({data:{user:null,session:null},error:{name:"AuthError",message:"Supabase no est configurado. No se puede crear cuenta."}}),signInWithOAuth:()=>Promise.resolve({data:{user:null,session:null},error:{name:"AuthError",message:"Supabase no est configurado. No se puede usar un proveedor externo."}}),signOut:()=>Promise.resolve({error:null})},from:()=>({select:()=>({eq:()=>({single:()=>Promise.resolve({data:null,error:{message:"Supabase no configurado"}}),order:()=>({order:()=>Promise.resolve({data:[],error:{message:"Supabase no configurado"}})})}),order:()=>({order:()=>Promise.resolve({data:[],error:{message:"Supabase no configurado"}})}),insert:()=>({select:()=>({single:()=>Promise.resolve({data:null,error:{message:"Supabase no configurado"}})})}),update:()=>({eq:()=>({select:()=>({single:()=>Promise.resolve({data:null,error:{message:"Supabase no configurado"}})})})}),delete:()=>({eq:()=>Promise.resolve({error:{message:"Supabase no configurado"}}),match:()=>Promise.resolve({error:{message:"Supabase no configurado"}})})}),insert:()=>Promise.resolve({error:{message:"Supabase no configurado"}}),update:()=>Promise.resolve({error:{message:"Supabase no configurado"}}),delete:()=>Promise.resolve({error:{message:"Supabase no configurado"}})}),rpc:()=>Promise.resolve({data:[],error:{message:"Supabase no configurado"}}),functions:{invoke:async()=>({data:null,error:{message:"Supabase no configurado"}})}};const kn="ANTIMETODO_USER_PROFILE_V5",Uh="ANTIMETODO_ACTIVITY_LOGS_V3",Ln="ANTIMETODO_USER_GOALS_V2",qa="ANTIMETODO_DAILY_TARGETS_V4",ri="ANTIMETODO_APP_RESOURCES",ui="ANTIMETODO_SAVED_DAILY_ROUTINES_V2",Ph=["ANTIMETODO_USER_PROFILE_V4","ANTIMETODO_USER_PROFILE_V3","ANTIMETODO_USER_PROFILE_V2","ANTIMETODO_USER_PROFILE"],Vh=["ANTIMETODO_ACTIVITY_LOGS_V2","ANTIMETODO_ACTIVITY_LOGS"],Oh=["ANTIMETODO_USER_GOALS"],jh=["ANTIMETODO_DAILY_TARGETS_V3","ANTIMETODO_DAILY_TARGETS_V2","ANTIMETODO_DAILY_TARGETS"],qh=["ANTIMETODO_SAVED_DAILY_ROUTINES"],Oc=30*60,jc="manual",Cs="light",UC="2024-01-01",Xy=_.createContext(void 0);function Hl(t,e,a,o){let l=Ie.getItem(t);if(l===null)for(const d of e){const p=Ie.getItem(d);if(p!==null){l=o?o(p):p,Ie.setItem(t,l),Ie.removeItem(d);break}}else if(o){const d=o(l);JSON.stringify(l)!==JSON.stringify(d)&&(l=d,Ie.setItem(t,l))}return l===null?a:l}const zh=t=>{if(!t)return null;let e={...t};return e.defaultLogDurationMinutes!==void 0&&e.defaultLogDurationSeconds===void 0&&(e.defaultLogDurationSeconds=e.defaultLogDurationMinutes*60,delete e.defaultLogDurationMinutes),Array.isArray(e.customActivities)||(e.customActivities=[]),e.name&&!e.display_name&&(e.display_name=e.name,delete e.name),e},Xl=t=>t.map(e=>{let a={...e};return a.creationDate=a.creationDate||UC,a.minMinutesTotal!==void 0&&a.minSecondsTotal===void 0&&(a.minSecondsTotal=a.minMinutesTotal*60,delete a.minMinutesTotal),a.optimalMinutesTotal!==void 0&&a.optimalSecondsTotal===void 0&&(a.optimalSecondsTotal=a.optimalMinutesTotal*60,delete a.optimalMinutesTotal),a}),Gh=t=>t.map(e=>({...e,targets:Xl(e.targets||[])})),PC=({children:t})=>{const[e,a]=_.useState(null),[o,l]=_.useState(null),[d,p]=_.useState(null),[g,v]=_.useState([]),[h,x]=_.useState([]),[T,S]=_.useState(Ih),[E,N]=_.useState(Ts),[D,G]=_.useState([]),[V,j]=_.useState(Cs),[P,K]=_.useState(!0),[F,ie]=_.useState(!1);_.useEffect(()=>{let M=!0;(async()=>{try{const{data:{session:H},error:fe}=await et.auth.getSession();M&&(fe&&console.error("Error getting session:",fe),a(H),l((H==null?void 0:H.user)??null),ie(!0))}catch(H){console.error("Error initializing auth:",H),M&&ie(!0)}})();const{data:{subscription:Y}}=et.auth.onAuthStateChange(async(H,fe)=>{var ge;M&&(console.log("Auth state changed:",H,(ge=fe==null?void 0:fe.user)==null?void 0:ge.id),a(fe),l((fe==null?void 0:fe.user)??null),H==="SIGNED_IN"&&fe&&(new URLSearchParams(window.location.search).has("code")||window.location.hash.includes("access_token"))&&(window.history.replaceState({},document.title,window.location.pathname),window.location.reload()))});return()=>{M=!1,Y.unsubscribe()}},[]),_.useEffect(()=>{F&&(async()=>{K(!0);const k=Hl(kn,Ph,null,zh),Y=Hl(Ln,Oh,[]),H=Hl(qa,jh,Ih,Xl),fe=Hl(ui,qh,[],Gh),ge=Ie.getItem(ri,Ts);if(e!=null&&e.user)try{const{data:Ee,error:Ne}=await et.from("activity_logs").select("*").eq("user_id",e.user.id).order("date",{ascending:!1}).order("created_at",{ascending:!1});Ne?(console.error("Error fetching activity logs:",Ne),v([])):v(Ee||[])}catch(Ee){console.error("Error fetching activity logs:",Ee),v([])}else v([]);if(k){const Ee={...k,learningDaysCount:k.learningDaysCount||0,focusPoints:k.focusPoints||0,unlockedRewards:k.unlockedRewards||[],profileFlairId:k.profileFlairId||null,lastActivityDateByLanguage:k.lastActivityDateByLanguage||{},lastHabitPointsAwardDate:k.lastHabitPointsAwardDate||null,lastRedeemAttemptTimestamp:k.lastRedeemAttemptTimestamp||void 0,defaultLogDurationSeconds:k.defaultLogDurationSeconds??Oc,defaultLogTimerMode:k.defaultLogTimerMode??jc,theme:k.theme??Cs,learningLanguages:k.learningLanguages||[],favoriteActivities:k.favoriteActivities||[],dashboardCardDisplayMode:k.dashboardCardDisplayMode??Kl,customActivities:k.customActivities||[]};p(Ee),j(Ee.theme)}else j(Cs);x(Y),S(H),G(fe),N(ge||Ts),K(!1)})()},[F,e]);const Q=async()=>{try{const k=window.location.hostname==="antimetodo.vercel.app"?"https://antimetodo.vercel.app/":window.location.origin+"/",{data:Y,error:H}=await et.auth.signInWithOAuth({provider:"google",options:{redirectTo:k,queryParams:{access_type:"offline",prompt:"consent"}}});return H&&console.error("Error signing in with Google:",H),{data:Y,error:H}}catch(M){return console.error("Error in signInWithGoogle:",M),{data:null,error:M}}},Te=async()=>{try{const{error:M}=await et.auth.signOut();return M||(p(null),v([]),x([]),S([]),G([])),{error:M}}catch(M){return console.error("Error signing out:",M),{error:M}}},te=_.useCallback((M,k=!1)=>{if(j(M),d&&!k){const Y={...d,theme:M};p(Y),Ie.setItem(kn,Y)}},[d]),de=_.useCallback(async M=>{if(!(e!=null&&e.user))return console.error("No user session found to initialize profile."),{success:!1,error:new Error("No user session")};try{const k=M.theme??Cs,Y={id:e.user.id,username:M.username||"",display_name:M.display_name||"Usuario Antimtodo",email:e.user.email,current_stage:M.currentStage,avatar_url:e.user.user_metadata.avatar_url??null,theme:k,focus_points:M.focusPoints||0,profile_flair_id:M.profileFlairId||null,learning_languages:M.learningLanguages||[],learning_days_count:M.learningDaysCount||0},{error:H}=await et.from("profiles").upsert(Y,{onConflict:"id"});if(H)return console.error("Error updating profile in Supabase:",H),{success:!1,error:H};const fe=M.learningLanguages||[];let ge=M.primaryLanguage;!ge||fe.length>0&&!fe.includes(ge)?ge=fe.length>0?fe[0]:Vt[0]:fe.length===0&&(ge=Vt[0]);const Ee={...M,learningLanguages:fe,defaultLogDurationSeconds:M.defaultLogDurationSeconds??Oc,defaultLogTimerMode:M.defaultLogTimerMode??jc,primaryLanguage:ge,theme:k,favoriteActivities:M.favoriteActivities||[],dashboardCardDisplayMode:M.dashboardCardDisplayMode??Kl,goals:(M.goals||[]).map(Ne=>({...Ne,currentValue:Ne.currentValue??0,targetValue:Ne.targetValue??0,unit:Ne.unit??""})),learningDaysCount:M.learningDaysCount||0,focusPoints:M.focusPoints||0,unlockedRewards:M.unlockedRewards||[],profileFlairId:M.profileFlairId||null,lastActivityDateByLanguage:M.lastActivityDateByLanguage||{},lastHabitPointsAwardDate:M.lastHabitPointsAwardDate||null,lastRedeemAttemptTimestamp:M.lastRedeemAttemptTimestamp||void 0,customActivities:M.customActivities||[]};return p(Ee),j(k),Ie.setItem(kn,Ee),x(Ee.goals),Ie.setItem(Ln,Ee.goals),{success:!0}}catch(k){return console.error("Error in initializeUserProfile:",k),{success:!1,error:k}}},[e]),ue=_.useCallback(M=>{p(k=>{if(!k)return null;let Y={...k,...M};Y.learningLanguages=M.learningLanguages!==void 0?M.learningLanguages:k.learningLanguages,Y.favoriteActivities=M.favoriteActivities!==void 0?M.favoriteActivities:k.favoriteActivities,Y.unlockedRewards=M.unlockedRewards!==void 0?M.unlockedRewards:k.unlockedRewards,Y.customActivities=M.customActivities!==void 0?M.customActivities:k.customActivities;const H=Y.learningLanguages;let fe=Y.primaryLanguage;H.length>0?(!fe||!H.includes(fe))&&(fe=H[0]):fe=Vt[0],Y.primaryLanguage=fe;const ge={...Y,defaultLogDurationSeconds:Y.defaultLogDurationSeconds??Oc,defaultLogTimerMode:Y.defaultLogTimerMode??jc,theme:Y.theme??Cs,dashboardCardDisplayMode:Y.dashboardCardDisplayMode??Kl,learningDaysCount:Y.learningDaysCount??0,focusPoints:Y.focusPoints??0,profileFlairId:Y.profileFlairId!==void 0?Y.profileFlairId:k.profileFlairId,lastActivityDateByLanguage:Y.lastActivityDateByLanguage??{},lastHabitPointsAwardDate:Y.lastHabitPointsAwardDate!==void 0?Y.lastHabitPointsAwardDate:k.lastHabitPointsAwardDate,lastRedeemAttemptTimestamp:Y.lastRedeemAttemptTimestamp!==void 0?Y.lastRedeemAttemptTimestamp:k.lastRedeemAttemptTimestamp};return M.goals&&(ge.goals=M.goals.map(Ee=>({...Ee,currentValue:Ee.currentValue??0,targetValue:Ee.targetValue??0,unit:Ee.unit??""})),x(ge.goals),Ie.setItem(Ln,ge.goals)),ge.theme&&(!k.theme||ge.theme!==k.theme)&&j(ge.theme),Ie.setItem(kn,ge),ge})},[j,x]),Me=_.useCallback(async M=>{if(!(e!=null&&e.user)){console.error("No user session found to add activity log.");return}try{const{data:k,error:Y}=await et.from("activity_logs").select("duration_seconds").eq("user_id",e.user.id).eq("language",M.language);Y&&console.error("Could not fetch previous logs for milestone check",Y);const H=(k==null?void 0:k.reduce((He,Ke)=>He+Ke.duration_seconds,0))||0,fe={language:M.language,category:M.category,sub_activity:M.sub_activity,duration_seconds:M.duration_seconds,date:M.date,custom_title:M.custom_title||null,start_time:M.start_time||null,notes:M.notes||null,user_id:e.user.id},{data:ge,error:Ee}=await et.from("activity_logs").insert(fe).select().single();if(Ee||!ge){console.error("Error adding activity log:",Ee);return}v(He=>[ge,...He].sort((Ke,Ue)=>new Date(Ue.date).getTime()-new Date(Ke.date).getTime()));const Ne=H+ge.duration_seconds,xt=DC.find(He=>H/3600<He&&Ne/3600>=He);xt&&await q("milestone_achieved",{hours:xt,language:ge.language}),p(He=>{if(!He)return null;let Ke={...He};const Ue=He.lastActivityDateByLanguage[M.language]||"";return M.date>Ue&&(Ke={...Ke,learningDaysCount:(He.learningDaysCount||0)+1,focusPoints:(He.focusPoints||0)+Dh,lastActivityDateByLanguage:{...He.lastActivityDateByLanguage,[M.language]:M.date}}),Ie.setItem(kn,Ke),Ke})}catch(k){console.error("Error in addActivityLog:",k)}},[e]),ut=_.useCallback(async M=>{if(!(e!=null&&e.user)){console.error("No user session found to bulk add activity logs.");return}const k=M.map(Y=>({...Y,user_id:e.user.id,custom_title:Y.custom_title||null,notes:Y.notes||null,start_time:Y.start_time||null}));try{for(let ge=0;ge<k.length;ge+=1e3){const Ee=k.slice(ge,ge+1e3),{error:Ne}=await et.from("activity_logs").insert(Ee);if(Ne)throw Ne}const{data:H,error:fe}=await et.from("activity_logs").select("*").eq("user_id",e.user.id).order("date",{ascending:!1}).order("created_at",{ascending:!1});fe?(console.error("Error re-fetching activity logs after bulk insert:",fe),v(ge=>[...ge,...M].sort((Ee,Ne)=>new Date(Ne.date).getTime()-new Date(Ee.date).getTime()))):v(H||[]),p(ge=>{if(!ge)return null;let Ee={...ge},Ne=ge.learningDaysCount||0,xt=ge.focusPoints||0,He={...ge.lastActivityDateByLanguage};return M.forEach(Ke=>{const Ue=He[Ke.language]||"";Ke.date>Ue&&(Ne+=1,xt+=Dh,He[Ke.language]=Ke.date)}),Ee={...Ee,learningDaysCount:Ne,focusPoints:xt,lastActivityDateByLanguage:He},Ie.setItem(kn,Ee),Ee})}catch(Y){throw console.error("Error in bulkAddActivityLogs:",Y),Y}},[e]),me=_.useCallback(async M=>{try{const{id:k,user_id:Y,created_at:H,...fe}=M,ge={...fe,custom_title:M.custom_title||null,notes:M.notes||null,start_time:M.start_time||null},{data:Ee,error:Ne}=await et.from("activity_logs").update(ge).eq("id",k).select().single();if(Ne){console.error("Error updating activity log:",Ne);return}Ee&&v(xt=>xt.map(He=>He.id===Ee.id?Ee:He))}catch(k){console.error("Error in updateActivityLog:",k)}},[]),be=_.useCallback(async M=>{try{const{error:k}=await et.from("activity_logs").delete().eq("id",M);if(k){console.error("Error deleting activity log:",k);return}v(Y=>Y.filter(H=>H.id!==M))}catch(k){console.error("Error in deleteActivityLog:",k)}},[]),q=_.useCallback(async(M,k)=>{if(!(e!=null&&e.user)){console.warn("No user session found to create feed item.");return}try{const Y={user_id:e.user.id,type:M,content:k},{error:H}=await et.from("feed_items").insert(Y);H&&console.error("Error creating feed item:",H)}catch(Y){console.error("Error in createFeedItem:",Y)}},[e]),oe=_.useCallback(M=>{x(k=>{const Y={id:new Date().toISOString()+Math.random().toString(36).substr(2,9),achieved:!1,...M,currentValue:M.currentValue||0,targetValue:M.targetValue||0,unit:M.unit||""},H=[...k,Y];return Ie.setItem(Ln,H),H})},[]),ce=_.useCallback(M=>{x(k=>{const Y=k.map(H=>H.id===M.id?{...M}:H);return Ie.setItem(Ln,Y),Y})},[]),je=_.useCallback(M=>{x(k=>{const Y=k.map(H=>H.id===M?{...H,achieved:!H.achieved}:H);return Ie.setItem(Ln,Y),Y})},[]),w=_.useCallback(M=>{x(k=>{const Y=k.filter(H=>H.id!==M);return Ie.setItem(Ln,Y),Y})},[]),Z=_.useCallback(M=>{S(k=>{const Y={...M,id:new Date().toISOString()+Math.random().toString(36).substr(2,9),creationDate:new Date().toISOString().split("T")[0]},H=[...k,Y];return Ie.setItem(qa,H),H})},[]),ae=_.useCallback(M=>{S(k=>{const Y=k.map(H=>H.id===M.id?M:H);return Ie.setItem(qa,Y),Y})},[]),ne=_.useCallback(M=>{S(k=>{const Y=k.filter(H=>H.id!==M);return Ie.setItem(qa,Y),Y})},[]),B=_.useCallback(M=>{if(T.length===0){console.warn("Attempted to save an empty routine.");return}const k={id:new Date().toISOString()+Math.random().toString(36).substr(2,9),name:M,targets:[...T]};G(Y=>{const H=[...Y,k];return Ie.setItem(ui,H),H})},[T]),se=_.useCallback(M=>{const k=D.find(Y=>Y.id===M);if(k){const Y=Xl(k.targets);S(Y),Ie.setItem(qa,Y)}},[D]),W=_.useCallback(M=>{window.confirm("Ests seguro de que quieres eliminar esta plantilla de rutina? Esta accin no se puede deshacer.")&&G(k=>{const Y=k.filter(H=>H.id!==M);return Ie.setItem(ui,Y),Y})},[]),Re=_.useCallback(M=>{G(k=>{const Y=k.map(H=>H.id===M.id?M:H);return Ie.setItem(ui,Y),Y})},[]),Ge=_.useCallback(M=>{N(k=>{const Y={id:new Date().toISOString()+Math.random().toString(36).substr(2,9),...M},H=[...k,Y];return Ie.setItem(ri,H),H})},[]),vt=_.useCallback(M=>{N(k=>{const Y=k.map(H=>H.id===M.id?M:H);return Ie.setItem(ri,Y),Y})},[]),jt=_.useCallback(M=>{N(k=>{const Y=k.filter(H=>H.id!==M);return Ie.setItem(ri,Y),Y})},[]),Ft=_.useCallback(()=>d&&d.currentStage&&Pn[d.currentStage]?Pn[d.currentStage]:null,[d]),fa=_.useCallback(()=>({userProfile:Ie.getItem(kn),activityLogs:g,userGoals:Ie.getItem(Ln)||[],dailyTargets:Ie.getItem(qa)||[],resources:Ie.getItem(ri)||Ts,savedDailyRoutines:Ie.getItem(ui)||[]}),[g]),Tn=_.useCallback(async M=>{try{if(M.userProfile){const k=zh(M.userProfile);k&&(p(k),Ie.setItem(kn,k),k.theme&&j(k.theme))}if(M.userGoals&&(x(M.userGoals),Ie.setItem(Ln,M.userGoals)),M.dailyTargets){const k=Xl(M.dailyTargets);S(k),Ie.setItem(qa,k)}if(M.savedDailyRoutines){const k=Gh(M.savedDailyRoutines);G(k),Ie.setItem(ui,k)}if(M.resources&&(N(M.resources),Ie.setItem(ri,M.resources)),e!=null&&e.user&&M.activityLogs&&M.activityLogs.length>0){const k=M.activityLogs.map(({id:ge,created_at:Ee,...Ne})=>({...Ne,user_id:e.user.id,custom_title:Ne.custom_title||null,notes:Ne.notes||null,start_time:Ne.start_time||null})),{error:Y}=await et.from("activity_logs").insert(k);if(Y)return console.error("Error batch inserting logs:",Y),{success:!1,error:"No se pudieron subir los registros de actividad a la nube."};const{data:H,error:fe}=await et.from("activity_logs").select("*").eq("user_id",e.user.id).order("date",{ascending:!1});if(fe)return{success:!1,error:"Registros subidos, pero no se pudo refrescar la lista."};v(H||[])}return Ie.removeItem(Uh),Vh.forEach(k=>Ie.removeItem(k)),{success:!0}}catch(k){return console.error("Error in importAppData:",k),{success:!1,error:"Error al importar los datos."}}},[e,j]),ht=_.useCallback(()=>{[kn,Uh,Ln,qa,ri,ui,...Ph,...Vh,...Oh,...jh,...qh].forEach(k=>Ie.removeItem(k)),p(null),v([]),x([]),S([]),G([]),N(Ts),Te()},[Te]),Nn=_.useCallback(()=>{if(g.length===0)return[];const M=new Set(g.map(k=>new Date(k.date).getFullYear()));return Array.from(M).sort((k,Y)=>Y-k)},[g]),ma=_.useCallback((M,k)=>{const Y=g.filter(Ue=>{const bt=new Date(Ue.date).getFullYear(),Fn=k==="Total"||Ue.language===k;return bt===M&&Fn}),H=Y.reduce((Ue,bt)=>Ue+bt.duration_seconds,0),fe=new Set(Y.map(Ue=>Ue.date)).size,ge={},Ee={[ke.ACTIVE_IMMERSION]:0,[ke.PASSIVE_IMMERSION]:0,[ke.ACTIVE_STUDY]:0,[ke.PRODUCTION]:0},Ne={[Be.LISTENING]:0,[Be.READING]:0,[Be.SPEAKING]:0,[Be.WRITING]:0,[Be.STUDY]:0},xt=[...di,...(d==null?void 0:d.customActivities)||[]],He=new Map(xt.map(Ue=>[Ue.name,Ue]));Y.forEach(Ue=>{ge[Ue.sub_activity]=(ge[Ue.sub_activity]||0)+Ue.duration_seconds/3600,Ee[Ue.category]+=Ue.duration_seconds;const bt=He.get(Ue.sub_activity);bt!=null&&bt.skill&&(Ne[bt.skill]+=Ue.duration_seconds)});const Ke=Object.entries(ge).sort((Ue,bt)=>bt[1]-Ue[1])[0];return{totalHours:parseFloat((H/3600).toFixed(1)),activeDays:fe,topSubActivity:Ke?{name:Ke[0],hours:parseFloat(Ke[1].toFixed(1))}:null,categoryBreakdown:Object.entries(Ee).map(([Ue,bt])=>({name:Ue,value:bt})).filter(Ue=>Ue.value>0),skillBreakdown:Object.entries(Ne).map(([Ue,bt])=>({name:Ue,value:bt})).filter(Ue=>Ue.value>0)}},[g,d==null?void 0:d.customActivities]),qt=_.useCallback(()=>{if(T.length===0)return 0;const M=new Date(T.reduce((fe,ge)=>new Date(ge.creationDate)<new Date(fe)?ge.creationDate:fe,T[0].creationDate)),Y=Math.max(1,Math.round((new Date().getTime()-M.getTime())/(1e3*3600*24)));let H=0;for(let fe=0;fe<Y;fe++){const ge=new Date(M);ge.setDate(M.getDate()+fe);const Ee=ge.toISOString().split("T")[0],Ne=g.filter(Ke=>Ke.date===Ee&&(d==null?void 0:d.learningLanguages.includes(Ke.language)));let xt=0,He=0;T.forEach(Ke=>{const Ue=Ke.minSecondsTotal;if(Ue>0){xt+=Ue;const bt=Ne.filter(Fn=>Ke.components.some(Hn=>Hn.category===Fn.category)).reduce((Fn,Hn)=>Fn+Hn.duration_seconds,0);He+=Math.min(bt,Ue)}}),xt>0?H+=He/xt:H+=Ne.length>0?1:0}return Y>0?H/Y*100:0},[T,g,d==null?void 0:d.learningLanguages]),kt=_.useCallback(async M=>{try{const{count:k,error:Y}=await et.from("relationships").select("*",{count:"exact",head:!0}).eq("following_id",M),{count:H,error:fe}=await et.from("relationships").select("*",{count:"exact",head:!0}).eq("follower_id",M);return Y||fe?(console.error("Error fetching follow counts:",Y||fe),{followers:0,following:0}):{followers:k||0,following:H||0}}catch(k){return console.error("Error in getProfileFollowCounts:",k),{followers:0,following:0}}},[]),Ht=_.useCallback(M=>{p(k=>{if(!k)return null;const Y=k.favoriteActivities||[],H=Y.includes(M)?Y.filter(ge=>ge!==M):[...Y,M],fe={...k,favoriteActivities:H};return Ie.setItem(kn,fe),fe})},[]),Gn=_.useCallback(M=>{if((d==null?void 0:d.lastHabitPointsAwardDate)===new Date().toISOString().split("T")[0])return;let k=0;M>=100?k=Fl.FULL:M>=75?k=Fl.GOOD:M>=40?k=Fl.HALF:M>0&&(k=Fl.SOME),k>0&&ue({focusPoints:((d==null?void 0:d.focusPoints)||0)+k,lastHabitPointsAwardDate:new Date().toISOString().split("T")[0]})},[d,ue]),zt=_.useCallback((M,k=!1,Y=!1)=>{var He;const H=ir.find(Ke=>Ke.id===M);if(!H||!d||!((He=e==null?void 0:e.user)!=null&&He.id)||d.unlockedRewards.includes(M)||!(d.focusPoints>=H.cost)&&!k)return!1;const ge=k?d.focusPoints:d.focusPoints-H.cost,Ee=[...d.unlockedRewards,M],Ne={focusPoints:ge,unlockedRewards:Ee};H.type==="flair"&&(Ne.profileFlairId=H.id),H.type==="theme"&&H.value&&(Ne.theme=H.value,j(H.value)),ue(Ne),Y||q("reward_unlocked",{reward_name:H.name,reward_type:H.type});const xt={focus_points:ge,profile_flair_id:Ne.profileFlairId,theme:Ne.theme};return et.from("profiles").update(xt).eq("id",e.user.id).then(({error:Ke})=>{Ke&&console.error("Error syncing profile after reward purchase:",Ke)}),!0},[d,e,ue,j,q]),pa=_.useCallback(M=>zt(M,!0),[zt]),ha=_.useCallback(M=>{d&&(M===null||d.unlockedRewards.includes(M))&&ue({profileFlairId:M})},[d,ue]),ga=_.useCallback(M=>ir.find(k=>k.id===M),[]),Fa=_.useCallback(M=>{ue({customActivities:[...(d==null?void 0:d.customActivities)||[],M]})},[d,ue]),Bn=_.useCallback(M=>{ue({customActivities:((d==null?void 0:d.customActivities)||[]).filter(k=>k.name!==M),favoriteActivities:((d==null?void 0:d.favoriteActivities)||[]).filter(k=>k!==M)})},[d,ue]),re=_.useCallback(()=>[...di,...(d==null?void 0:d.customActivities)||[]],[d==null?void 0:d.customActivities]);return f.jsx(Xy.Provider,{value:{session:e,user:o,userProfile:d,activityLogs:g,userGoals:h,dailyTargets:T,resources:E,savedDailyRoutines:D,isLoading:P,isInitialLoadComplete:F,appTheme:V,signInWithPassword:M=>et.auth.signInWithPassword(M),signUp:M=>et.auth.signUp(M),signInWithGoogle:Q,signOut:Te,initializeUserProfile:de,updateUserProfile:ue,updateAppTheme:te,addActivityLog:Me,updateActivityLog:me,deleteActivityLog:be,addUserGoal:oe,updateUserGoal:ce,toggleUserGoal:je,deleteUserGoal:w,addDailyTarget:Z,updateDailyTarget:ae,deleteDailyTarget:ne,saveCurrentDailyTargetsAsRoutine:B,loadDailyRoutine:se,deleteDailyRoutine:W,updateSavedDailyRoutine:Re,addResource:Ge,updateResource:vt,deleteResource:jt,getCurrentStageDetails:Ft,exportAppData:fa,importAppData:Tn,resetAllData:ht,getAvailableReportYears:Nn,getYearInReviewData:ma,getOverallHabitConsistency:qt,getProfileFollowCounts:kt,toggleFavoriteActivity:Ht,awardHabitPoints:Gn,purchaseReward:zt,activateFlair:ha,getRewardById:ga,unlockRewardById:pa,addCustomActivity:Fa,deleteCustomActivity:Bn,getCombinedActivities:re,bulkAddActivityLogs:ut,createFeedItem:q},children:t})},sn=()=>{const t=_.useContext(Xy);if(t===void 0)throw new Error("useAppContext must be used within an AppContextProvider");return t},vd=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),Qy=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Wy=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-3.75h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})}),VC=({className:t="w-6 h-6"})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18c-2.305 0-4.408.867-6 2.292m0-14.25V18.5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 6.75h3M15 9.75h3"})]}),xd=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),OC=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:f.jsx("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.92 1.55l-.512 2.898c-.64.092-1.255.267-1.84.502s-1.127.534-1.604.85c-.477.316-.91.688-1.294 1.124s-.708.917-1.024 1.395c-.316.477-.595.992-.818 1.537s-.407 1.139-.537 1.762c-.13.623-.193 1.282-.193 1.958s.063 1.335.193 1.958c.13.623.298 1.218.537 1.762s.502 1.06.818 1.537c.316.477.635.918 1.024 1.395s.817.788 1.294 1.124c.477.316.99.593 1.604.85s1.042.473 1.84.502l.512 2.898c.22.887 1.003 1.55 1.92 1.55h1.844c.917 0 1.699-.663 1.92-1.55l.512-2.898c.64-.092 1.255-.267 1.84-.502s1.127-.534 1.604-.85c.477-.316.91-.688 1.294-1.124s-.708-.917-1.024-1.395c-.316-.477-.595-.992-.818-1.537s-.407-1.139-.537-1.762c-.13-.623-.193-1.282-.193-1.958s.063-1.335.193-1.958c.13.623.298 1.218.537 1.762s.502 1.06.818 1.537c.316.477.635.918 1.024 1.395s.817.788 1.294 1.124c.477.316.991.593 1.604.85s1.042.473 1.84.502l.512 2.898c.22.887 1.003 1.55 1.92 1.55H11.078zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"})}),jC=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),qC=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),ev=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),zC=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),tv=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497M12 15.75v-3.75m0 0h3.375M12 12h-3.375M12 12V6.375m0-3v-.375A3.375 3.375 0 0115.375 3h.001M12 3.375A3.375 3.375 0 008.625 3h-.001M12 3.375v.002"})}),nv=({className:t="w-6 h-6"})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 18V7.5c0-.621.504-1.125 1.125-1.125H7.5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 18V6.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V18"})]}),lt=({children:t,variant:e="primary",size:a="md",leftIcon:o,rightIcon:l,isLoading:d=!1,className:p="",...g})=>{const v="font-poppins font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-colors duration-150 ease-in-out inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed";let h="";switch(e){case"primary":h="bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white focus:ring-[var(--color-primary)]";break;case"secondary":h="bg-[var(--color-secondary)] hover:bg-[var(--color-secondary-dark)] text-white focus:ring-[var(--color-secondary)]";break;case"accent":h="bg-[var(--color-accent)] hover:bg-[var(--color-accent-dark)] text-white focus:ring-[var(--color-accent)]";break;case"outline":h="border border-[var(--color-primary)] text-[var(--color-primary)] hover:bg-[var(--color-light-purple)] hover:text-[var(--color-primary)] focus:ring-[var(--color-primary)]";break;case"ghost":h="text-[var(--color-primary)] hover:bg-[var(--color-light-purple)] focus:ring-[var(--color-primary)]";break;case"danger":h="bg-[var(--color-error)] hover:bg-[var(--color-error-dark)] text-white focus:ring-[var(--color-error)]";break;case"warning":h="bg-[var(--color-warning)] hover:bg-[var(--color-warning-dark)] text-white focus:ring-[var(--color-warning)]";break;case"success":h="bg-[var(--color-success)] hover:bg-[var(--color-success-dark)] text-white focus:ring-[var(--color-success)]";break}let x="";switch(a){case"sm":x="px-3 py-1.5 text-sm";break;case"md":x="px-4 py-2 text-base";break;case"lg":x="px-6 py-3 text-lg";break}return f.jsxs("button",{className:`${v} ${h} ${x} ${p}`,disabled:d||g.disabled,...g,children:[d&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o&&!d&&f.jsx("span",{className:"mr-2",children:o}),t,l&&!d&&f.jsx("span",{className:"ml-2",children:l})]})},GC=()=>{const{appTheme:t,updateAppTheme:e,userProfile:a}=sn(),o=()=>{e(t==="light"?"dark":"light")},l=[{to:Xe.DASHBOARD,label:"Dashboard",icon:f.jsx(vd,{})},{to:Xe.TRACKER,label:"Tracker",icon:f.jsx(Qy,{})},{to:Xe.ROUTINES,label:"Rutinas",icon:f.jsx(Wy,{})},{to:Xe.LEADERBOARD,label:"Leaderboard",icon:f.jsx(tv,{})},{to:Xe.FEED,label:"Feed",icon:f.jsx(nv,{})},{to:Xe.REWARDS,label:"Tienda",icon:f.jsx(ev,{})},{to:Xe.GUIDES,label:"Guas",icon:f.jsx(VC,{})},{to:`/profile/${a==null?void 0:a.username}`,label:"Mi Perfil",icon:f.jsx(zC,{})},{to:Xe.SETTINGS,label:"Configuracin",icon:f.jsx(OC,{})}],d="bg-[var(--color-nav-active-bg)] text-[var(--color-nav-active-text)]",p="text-[var(--color-nav-text)] hover:bg-[var(--color-nav-hover-bg)] hover:text-[var(--color-nav-active-text)]";return f.jsxs("nav",{className:`
    bg-[var(--color-nav-bg)] 
    shadow-lg 
    flex flex-col
    transform transition-transform duration-300 ease-in-out
    md:translate-x-0 md:static md:w-64 md:min-h-screen md:p-4 
    fixed top-0 left-0 h-full w-64 z-50 p-4 pt-20 md:pt-4 
   hidden md:flex`,children:[" ",f.jsxs(ar,{to:Xe.DASHBOARD,className:"mb-8 items-center px-2 focus:outline-none focus:ring-2 focus:ring-[var(--color-text-inverse)] rounded-md","aria-label":"Ir al Dashboard",children:[f.jsx("img",{src:"./assets/logo.png",alt:"El Antimtodo Logo",className:"h-10 w-auto"}),f.jsx("span",{className:"ml-3 text-xl font-poppins font-bold text-[var(--color-text-inverse)] whitespace-nowrap",children:"El Antimtodo"})]}),f.jsx("ul",{className:"space-y-2 flex-grow",children:l.map(v=>f.jsx("li",{children:f.jsxs(ar,{to:v.to,className:({isActive:h})=>`flex items-center space-x-3 p-3 rounded-lg transition-colors duration-150 ${h?d:p}`,children:[f.jsx("span",{className:"w-6 h-6",children:v.icon}),f.jsx("span",{className:"font-medium",children:v.label})]})},v.to))}),f.jsxs("div",{className:"mt-auto pt-4 border-t border-[var(--color-secondary)]",children:[f.jsxs(lt,{onClick:o,variant:"ghost",className:`group w-full flex items-center justify-start space-x-3 p-3 rounded-lg 
                       hover:bg-[var(--color-nav-hover-bg)] 
                       focus:ring-[var(--color-accent)] 
                       transition-colors duration-150 mb-2`,"aria-label":`Cambiar a tema ${t==="light"?"oscuro":"claro"}`,children:[t==="light"?f.jsx(qC,{className:"w-6 h-6 text-[var(--color-nav-text)] group-hover:text-[var(--color-nav-active-text)]"}):f.jsx(jC,{className:"w-6 h-6 text-[var(--color-nav-text)] group-hover:text-[var(--color-nav-active-text)]"}),f.jsxs("span",{className:"font-medium text-[var(--color-nav-text)] group-hover:text-[var(--color-nav-active-text)]",children:["Tema ",t==="light"?"Oscuro":"Claro"]})]}),f.jsxs("a",{href:"https://luisem93.github.io/ElAntimetodo/",target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors duration-150 ${p}`,children:[f.jsx(xd,{className:"w-6 h-6"}),f.jsx("span",{className:"font-medium",children:"Ms Info (Web)"})]})]})]})};var $e;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function a(l){throw new Error}t.assertNever=a,t.arrayToEnum=l=>{const d={};for(const p of l)d[p]=p;return d},t.getValidEnumValues=l=>{const d=t.objectKeys(l).filter(g=>typeof l[l[g]]!="number"),p={};for(const g of d)p[g]=l[g];return t.objectValues(p)},t.objectValues=l=>t.objectKeys(l).map(function(d){return l[d]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const d=[];for(const p in l)Object.prototype.hasOwnProperty.call(l,p)&&d.push(p);return d},t.find=(l,d)=>{for(const p of l)if(d(p))return p},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function o(l,d=" | "){return l.map(p=>typeof p=="string"?`'${p}'`:p).join(d)}t.joinValues=o,t.jsonStringifyReplacer=(l,d)=>typeof d=="bigint"?d.toString():d})($e||($e={}));var Bh;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(Bh||(Bh={}));const he=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),za=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}},ee=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ua extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(d){return d.message},o={_errors:[]},l=d=>{for(const p of d.issues)if(p.code==="invalid_union")p.unionErrors.map(l);else if(p.code==="invalid_return_type")l(p.returnTypeError);else if(p.code==="invalid_arguments")l(p.argumentsError);else if(p.path.length===0)o._errors.push(a(p));else{let g=o,v=0;for(;v<p.path.length;){const h=p.path[v];v===p.path.length-1?(g[h]=g[h]||{_errors:[]},g[h]._errors.push(a(p))):g[h]=g[h]||{_errors:[]},g=g[h],v++}}};return l(this),o}static assert(e){if(!(e instanceof ua))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},o=[];for(const l of this.issues)if(l.path.length>0){const d=l.path[0];a[d]=a[d]||[],a[d].push(e(l))}else o.push(e(l));return{formErrors:o,fieldErrors:a}}get formErrors(){return this.flatten()}}ua.create=t=>new ua(t);const Hc=(t,e)=>{let a;switch(t.code){case ee.invalid_type:t.received===he.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case ee.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,$e.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:a=`Unrecognized key(s) in object: ${$e.joinValues(t.keys,", ")}`;break;case ee.invalid_union:a="Invalid input";break;case ee.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${$e.joinValues(t.options)}`;break;case ee.invalid_enum_value:a=`Invalid enum value. Expected ${$e.joinValues(t.options)}, received '${t.received}'`;break;case ee.invalid_arguments:a="Invalid function arguments";break;case ee.invalid_return_type:a="Invalid function return type";break;case ee.invalid_date:a="Invalid date";break;case ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:$e.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case ee.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case ee.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case ee.custom:a="Invalid input";break;case ee.invalid_intersection_types:a="Intersection results could not be merged";break;case ee.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case ee.not_finite:a="Number must be finite";break;default:a=e.defaultError,$e.assertNever(t)}return{message:a}};let BC=Hc;function FC(){return BC}const HC=t=>{const{data:e,path:a,errorMaps:o,issueData:l}=t,d=[...a,...l.path||[]],p={...l,path:d};if(l.message!==void 0)return{...l,path:d,message:l.message};let g="";const v=o.filter(h=>!!h).slice().reverse();for(const h of v)g=h(p,{data:e,defaultError:g}).message;return{...l,path:d,message:g}};function le(t,e){const a=FC(),o=HC({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===Hc?void 0:Hc].filter(l=>!!l)});t.common.issues.push(o)}class Bt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const o=[];for(const l of a){if(l.status==="aborted")return we;l.status==="dirty"&&e.dirty(),o.push(l.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,a){const o=[];for(const l of a){const d=await l.key,p=await l.value;o.push({key:d,value:p})}return Bt.mergeObjectSync(e,o)}static mergeObjectSync(e,a){const o={};for(const l of a){const{key:d,value:p}=l;if(d.status==="aborted"||p.status==="aborted")return we;d.status==="dirty"&&e.dirty(),p.status==="dirty"&&e.dirty(),d.value!=="__proto__"&&(typeof p.value<"u"||l.alwaysSet)&&(o[d.value]=p.value)}return{status:e.value,value:o}}}const we=Object.freeze({status:"aborted"}),bs=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),Fh=t=>t.status==="aborted",Hh=t=>t.status==="dirty",uo=t=>t.status==="valid",or=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class qn{constructor(e,a,o,l){this._cachedPath=[],this.parent=e,this.data=a,this._path=o,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yh=(t,e)=>{if(uo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new ua(t.common.issues);return this._error=a,this._error}}};function Pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:o,description:l}=t;if(e&&(a||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(p,g)=>{const{message:v}=t;return p.code==="invalid_enum_value"?{message:v??g.defaultError}:typeof g.data>"u"?{message:v??o??g.defaultError}:p.code!=="invalid_type"?{message:g.defaultError}:{message:v??a??g.defaultError}},description:l}}class Fe{get description(){return this._def.description}_getType(e){return za(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bt,ctx:{common:e.parent.common,data:e.data,parsedType:za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(or(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const o=this.safeParse(e,a);if(o.success)return o.data;throw o.error}safeParse(e,a){const o={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:za(e)},l=this._parseSync({data:e,path:o.path,parent:o});return Yh(o,l)}"~validate"(e){var o,l;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:za(e)};if(!this["~standard"].async)try{const d=this._parseSync({data:e,path:[],parent:a});return uo(d)?{value:d.value}:{issues:a.common.issues}}catch(d){(l=(o=d==null?void 0:d.message)==null?void 0:o.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(d=>uo(d)?{value:d.value}:{issues:a.common.issues})}async parseAsync(e,a){const o=await this.safeParseAsync(e,a);if(o.success)return o.data;throw o.error}async safeParseAsync(e,a){const o={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:za(e)},l=this._parse({data:e,path:o.path,parent:o}),d=await(or(l)?l:Promise.resolve(l));return Yh(o,d)}refine(e,a){const o=l=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(l):a;return this._refinement((l,d)=>{const p=e(l),g=()=>d.addIssue({code:ee.custom,...o(l)});return typeof Promise<"u"&&p instanceof Promise?p.then(v=>v?!0:(g(),!1)):p?!0:(g(),!1)})}refinement(e,a){return this._refinement((o,l)=>e(o)?!0:(l.addIssue(typeof a=="function"?a(o,l):a),!1))}_refinement(e){return new mo({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Ga.create(this,this._def)}nullable(){return po.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jn.create(this)}promise(){return cr.create(this,this._def)}or(e){return lr.create([this,e],this._def)}and(e){return rr.create(this,e,this._def)}transform(e){return new mo({...Pe(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new Zc({...Pe(this._def),innerType:this,defaultValue:a,typeName:Ae.ZodDefault})}brand(){return new pS({typeName:Ae.ZodBranded,type:this,...Pe(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new Kc({...Pe(this._def),innerType:this,catchValue:a,typeName:Ae.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return Td.create(this,e)}readonly(){return Xc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YC=/^c[^\s-]{8,}$/i,JC=/^[0-9a-z]+$/,$C=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KC=/^[a-z0-9_-]{21}$/i,XC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qc;const tS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,av="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lS=new RegExp(`^${av}$`);function iv(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function rS(t){return new RegExp(`^${iv(t)}$`)}function uS(t){let e=`${av}T${iv(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function cS(t,e){return!!((e==="v4"||!e)&&tS.test(t)||(e==="v6"||!e)&&aS.test(t))}function dS(t,e){if(!XC.test(t))return!1;try{const[a]=t.split(".");if(!a)return!1;const o=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),l=JSON.parse(atob(o));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function fS(t,e){return!!((e==="v4"||!e)&&nS.test(t)||(e==="v6"||!e)&&iS.test(t))}class Vn extends Fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){const d=this._getOrReturnCtx(e);return le(d,{code:ee.invalid_type,expected:he.string,received:d.parsedType}),we}const o=new Bt;let l;for(const d of this._def.checks)if(d.kind==="min")e.data.length<d.value&&(l=this._getOrReturnCtx(e,l),le(l,{code:ee.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),o.dirty());else if(d.kind==="max")e.data.length>d.value&&(l=this._getOrReturnCtx(e,l),le(l,{code:ee.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),o.dirty());else if(d.kind==="length"){const p=e.data.length>d.value,g=e.data.length<d.value;(p||g)&&(l=this._getOrReturnCtx(e,l),p?le(l,{code:ee.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):g&&le(l,{code:ee.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),o.dirty())}else if(d.kind==="email")WC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"email",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="emoji")qc||(qc=new RegExp(eS,"u")),qc.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"emoji",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="uuid")ZC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"uuid",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="nanoid")KC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"nanoid",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="cuid")YC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"cuid",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="cuid2")JC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"cuid2",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="ulid")$C.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"ulid",code:ee.invalid_string,message:d.message}),o.dirty());else if(d.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),le(l,{validation:"url",code:ee.invalid_string,message:d.message}),o.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"regex",code:ee.invalid_string,message:d.message}),o.dirty())):d.kind==="trim"?e.data=e.data.trim():d.kind==="includes"?e.data.includes(d.value,d.position)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),o.dirty()):d.kind==="toLowerCase"?e.data=e.data.toLowerCase():d.kind==="toUpperCase"?e.data=e.data.toUpperCase():d.kind==="startsWith"?e.data.startsWith(d.value)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:{startsWith:d.value},message:d.message}),o.dirty()):d.kind==="endsWith"?e.data.endsWith(d.value)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:{endsWith:d.value},message:d.message}),o.dirty()):d.kind==="datetime"?uS(d).test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:"datetime",message:d.message}),o.dirty()):d.kind==="date"?lS.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:"date",message:d.message}),o.dirty()):d.kind==="time"?rS(d).test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{code:ee.invalid_string,validation:"time",message:d.message}),o.dirty()):d.kind==="duration"?QC.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"duration",code:ee.invalid_string,message:d.message}),o.dirty()):d.kind==="ip"?cS(e.data,d.version)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"ip",code:ee.invalid_string,message:d.message}),o.dirty()):d.kind==="jwt"?dS(e.data,d.alg)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"jwt",code:ee.invalid_string,message:d.message}),o.dirty()):d.kind==="cidr"?fS(e.data,d.version)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"cidr",code:ee.invalid_string,message:d.message}),o.dirty()):d.kind==="base64"?oS.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"base64",code:ee.invalid_string,message:d.message}),o.dirty()):d.kind==="base64url"?sS.test(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{validation:"base64url",code:ee.invalid_string,message:d.message}),o.dirty()):$e.assertNever(d);return{status:o.value,value:e.data}}_regex(e,a,o){return this.refinement(l=>e.test(l),{validation:a,code:ee.invalid_string,...ye.errToObj(o)})}_addCheck(e){return new Vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...ye.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...ye.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...ye.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...ye.errToObj(a)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Vn.create=t=>new Vn({checks:[],typeName:Ae.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});function mS(t,e){const a=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,l=a>o?a:o,d=Number.parseInt(t.toFixed(l).replace(".","")),p=Number.parseInt(e.toFixed(l).replace(".",""));return d%p/10**l}class fi extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){const d=this._getOrReturnCtx(e);return le(d,{code:ee.invalid_type,expected:he.number,received:d.parsedType}),we}let o;const l=new Bt;for(const d of this._def.checks)d.kind==="int"?$e.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),le(o,{code:ee.invalid_type,expected:"integer",received:"float",message:d.message}),l.dirty()):d.kind==="min"?(d.inclusive?e.data<d.value:e.data<=d.value)&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty()):d.kind==="max"?(d.inclusive?e.data>d.value:e.data>=d.value)&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty()):d.kind==="multipleOf"?mS(e.data,d.value)!==0&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.not_multiple_of,multipleOf:d.value,message:d.message}),l.dirty()):d.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),le(o,{code:ee.not_finite,message:d.message}),l.dirty()):$e.assertNever(d);return{status:l.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,ye.toString(a))}gt(e,a){return this.setLimit("min",e,!1,ye.toString(a))}lte(e,a){return this.setLimit("max",e,!0,ye.toString(a))}lt(e,a){return this.setLimit("max",e,!1,ye.toString(a))}setLimit(e,a,o,l){return new fi({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:ye.toString(l)}]})}_addCheck(e){return new fi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$e.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(a===null||o.value>a)&&(a=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(a)&&Number.isFinite(e)}}fi.create=t=>new fi({checks:[],typeName:Ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class mi extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let o;const l=new Bt;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?e.data<d.value:e.data<=d.value)&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),l.dirty()):d.kind==="max"?(d.inclusive?e.data>d.value:e.data>=d.value)&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),l.dirty()):d.kind==="multipleOf"?e.data%d.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),le(o,{code:ee.not_multiple_of,multipleOf:d.value,message:d.message}),l.dirty()):$e.assertNever(d);return{status:l.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return le(a,{code:ee.invalid_type,expected:he.bigint,received:a.parsedType}),we}gte(e,a){return this.setLimit("min",e,!0,ye.toString(a))}gt(e,a){return this.setLimit("min",e,!1,ye.toString(a))}lte(e,a){return this.setLimit("max",e,!0,ye.toString(a))}lt(e,a){return this.setLimit("max",e,!1,ye.toString(a))}setLimit(e,a,o,l){return new mi({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:ye.toString(l)}]})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}mi.create=t=>new mi({checks:[],typeName:Ae.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});class sr extends Fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.boolean,received:o.parsedType}),we}return xn(e.data)}}sr.create=t=>new sr({typeName:Ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class co extends Fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){const d=this._getOrReturnCtx(e);return le(d,{code:ee.invalid_type,expected:he.date,received:d.parsedType}),we}if(Number.isNaN(e.data.getTime())){const d=this._getOrReturnCtx(e);return le(d,{code:ee.invalid_date}),we}const o=new Bt;let l;for(const d of this._def.checks)d.kind==="min"?e.data.getTime()<d.value&&(l=this._getOrReturnCtx(e,l),le(l,{code:ee.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),o.dirty()):d.kind==="max"?e.data.getTime()>d.value&&(l=this._getOrReturnCtx(e,l),le(l,{code:ee.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),o.dirty()):$e.assertNever(d);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}co.create=t=>new co({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ae.ZodDate,...Pe(t)});class Jh extends Fe{_parse(e){if(this._getType(e)!==he.symbol){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.symbol,received:o.parsedType}),we}return xn(e.data)}}Jh.create=t=>new Jh({typeName:Ae.ZodSymbol,...Pe(t)});class $h extends Fe{_parse(e){if(this._getType(e)!==he.undefined){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.undefined,received:o.parsedType}),we}return xn(e.data)}}$h.create=t=>new $h({typeName:Ae.ZodUndefined,...Pe(t)});class Zh extends Fe{_parse(e){if(this._getType(e)!==he.null){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.null,received:o.parsedType}),we}return xn(e.data)}}Zh.create=t=>new Zh({typeName:Ae.ZodNull,...Pe(t)});class Kh extends Fe{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}Kh.create=t=>new Kh({typeName:Ae.ZodAny,...Pe(t)});class Yc extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}Yc.create=t=>new Yc({typeName:Ae.ZodUnknown,...Pe(t)});class Ba extends Fe{_parse(e){const a=this._getOrReturnCtx(e);return le(a,{code:ee.invalid_type,expected:he.never,received:a.parsedType}),we}}Ba.create=t=>new Ba({typeName:Ae.ZodNever,...Pe(t)});class Xh extends Fe{_parse(e){if(this._getType(e)!==he.undefined){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.void,received:o.parsedType}),we}return xn(e.data)}}Xh.create=t=>new Xh({typeName:Ae.ZodVoid,...Pe(t)});class jn extends Fe{_parse(e){const{ctx:a,status:o}=this._processInputParams(e),l=this._def;if(a.parsedType!==he.array)return le(a,{code:ee.invalid_type,expected:he.array,received:a.parsedType}),we;if(l.exactLength!==null){const p=a.data.length>l.exactLength.value,g=a.data.length<l.exactLength.value;(p||g)&&(le(a,{code:p?ee.too_big:ee.too_small,minimum:g?l.exactLength.value:void 0,maximum:p?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&a.data.length<l.minLength.value&&(le(a,{code:ee.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&a.data.length>l.maxLength.value&&(le(a,{code:ee.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),a.common.async)return Promise.all([...a.data].map((p,g)=>l.type._parseAsync(new qn(a,p,a.path,g)))).then(p=>Bt.mergeArray(o,p));const d=[...a.data].map((p,g)=>l.type._parseSync(new qn(a,p,a.path,g)));return Bt.mergeArray(o,d)}get element(){return this._def.type}min(e,a){return new jn({...this._def,minLength:{value:e,message:ye.toString(a)}})}max(e,a){return new jn({...this._def,maxLength:{value:e,message:ye.toString(a)}})}length(e,a){return new jn({...this._def,exactLength:{value:e,message:ye.toString(a)}})}nonempty(e){return this.min(1,e)}}jn.create=(t,e)=>new jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...Pe(e)});function oo(t){if(t instanceof St){const e={};for(const a in t.shape){const o=t.shape[a];e[a]=Ga.create(oo(o))}return new St({...t._def,shape:()=>e})}else return t instanceof jn?new jn({...t._def,type:oo(t.element)}):t instanceof Ga?Ga.create(oo(t.unwrap())):t instanceof po?po.create(oo(t.unwrap())):t instanceof pi?pi.create(t.items.map(e=>oo(e))):t}class St extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=$e.objectKeys(e);return this._cached={shape:e,keys:a},this._cached}_parse(e){if(this._getType(e)!==he.object){const h=this._getOrReturnCtx(e);return le(h,{code:ee.invalid_type,expected:he.object,received:h.parsedType}),we}const{status:o,ctx:l}=this._processInputParams(e),{shape:d,keys:p}=this._getCached(),g=[];if(!(this._def.catchall instanceof Ba&&this._def.unknownKeys==="strip"))for(const h in l.data)p.includes(h)||g.push(h);const v=[];for(const h of p){const x=d[h],T=l.data[h];v.push({key:{status:"valid",value:h},value:x._parse(new qn(l,T,l.path,h)),alwaysSet:h in l.data})}if(this._def.catchall instanceof Ba){const h=this._def.unknownKeys;if(h==="passthrough")for(const x of g)v.push({key:{status:"valid",value:x},value:{status:"valid",value:l.data[x]}});else if(h==="strict")g.length>0&&(le(l,{code:ee.unrecognized_keys,keys:g}),o.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const x of g){const T=l.data[x];v.push({key:{status:"valid",value:x},value:h._parse(new qn(l,T,l.path,x)),alwaysSet:x in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const h=[];for(const x of v){const T=await x.key,S=await x.value;h.push({key:T,value:S,alwaysSet:x.alwaysSet})}return h}).then(h=>Bt.mergeObjectSync(o,h)):Bt.mergeObjectSync(o,v)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,o)=>{var d,p;const l=((p=(d=this._def).errorMap)==null?void 0:p.call(d,a,o).message)??o.defaultError;return a.code==="unrecognized_keys"?{message:ye.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ae.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const a={};for(const o of $e.objectKeys(e))e[o]&&this.shape[o]&&(a[o]=this.shape[o]);return new St({...this._def,shape:()=>a})}omit(e){const a={};for(const o of $e.objectKeys(this.shape))e[o]||(a[o]=this.shape[o]);return new St({...this._def,shape:()=>a})}deepPartial(){return oo(this)}partial(e){const a={};for(const o of $e.objectKeys(this.shape)){const l=this.shape[o];e&&!e[o]?a[o]=l:a[o]=l.optional()}return new St({...this._def,shape:()=>a})}required(e){const a={};for(const o of $e.objectKeys(this.shape))if(e&&!e[o])a[o]=this.shape[o];else{let d=this.shape[o];for(;d instanceof Ga;)d=d._def.innerType;a[o]=d}return new St({...this._def,shape:()=>a})}keyof(){return ov($e.objectKeys(this.shape))}}St.create=(t,e)=>new St({shape:()=>t,unknownKeys:"strip",catchall:Ba.create(),typeName:Ae.ZodObject,...Pe(e)});St.strictCreate=(t,e)=>new St({shape:()=>t,unknownKeys:"strict",catchall:Ba.create(),typeName:Ae.ZodObject,...Pe(e)});St.lazycreate=(t,e)=>new St({shape:t,unknownKeys:"strip",catchall:Ba.create(),typeName:Ae.ZodObject,...Pe(e)});class lr extends Fe{_parse(e){const{ctx:a}=this._processInputParams(e),o=this._def.options;function l(d){for(const g of d)if(g.result.status==="valid")return g.result;for(const g of d)if(g.result.status==="dirty")return a.common.issues.push(...g.ctx.common.issues),g.result;const p=d.map(g=>new ua(g.ctx.common.issues));return le(a,{code:ee.invalid_union,unionErrors:p}),we}if(a.common.async)return Promise.all(o.map(async d=>{const p={...a,common:{...a.common,issues:[]},parent:null};return{result:await d._parseAsync({data:a.data,path:a.path,parent:p}),ctx:p}})).then(l);{let d;const p=[];for(const v of o){const h={...a,common:{...a.common,issues:[]},parent:null},x=v._parseSync({data:a.data,path:a.path,parent:h});if(x.status==="valid")return x;x.status==="dirty"&&!d&&(d={result:x,ctx:h}),h.common.issues.length&&p.push(h.common.issues)}if(d)return a.common.issues.push(...d.ctx.common.issues),d.result;const g=p.map(v=>new ua(v));return le(a,{code:ee.invalid_union,unionErrors:g}),we}}get options(){return this._def.options}}lr.create=(t,e)=>new lr({options:t,typeName:Ae.ZodUnion,...Pe(e)});function Jc(t,e){const a=za(t),o=za(e);if(t===e)return{valid:!0,data:t};if(a===he.object&&o===he.object){const l=$e.objectKeys(e),d=$e.objectKeys(t).filter(g=>l.indexOf(g)!==-1),p={...t,...e};for(const g of d){const v=Jc(t[g],e[g]);if(!v.valid)return{valid:!1};p[g]=v.data}return{valid:!0,data:p}}else if(a===he.array&&o===he.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let d=0;d<t.length;d++){const p=t[d],g=e[d],v=Jc(p,g);if(!v.valid)return{valid:!1};l.push(v.data)}return{valid:!0,data:l}}else return a===he.date&&o===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rr extends Fe{_parse(e){const{status:a,ctx:o}=this._processInputParams(e),l=(d,p)=>{if(Fh(d)||Fh(p))return we;const g=Jc(d.value,p.value);return g.valid?((Hh(d)||Hh(p))&&a.dirty(),{status:a.value,value:g.data}):(le(o,{code:ee.invalid_intersection_types}),we)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([d,p])=>l(d,p)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}rr.create=(t,e,a)=>new rr({left:t,right:e,typeName:Ae.ZodIntersection,...Pe(a)});class pi extends Fe{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==he.array)return le(o,{code:ee.invalid_type,expected:he.array,received:o.parsedType}),we;if(o.data.length<this._def.items.length)return le(o,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&o.data.length>this._def.items.length&&(le(o,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const d=[...o.data].map((p,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new qn(o,p,o.path,g)):null}).filter(p=>!!p);return o.common.async?Promise.all(d).then(p=>Bt.mergeArray(a,p)):Bt.mergeArray(a,d)}get items(){return this._def.items}rest(e){return new pi({...this._def,rest:e})}}pi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pi({items:t,typeName:Ae.ZodTuple,rest:null,...Pe(e)})};class ur extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==he.object)return le(o,{code:ee.invalid_type,expected:he.object,received:o.parsedType}),we;const l=[],d=this._def.keyType,p=this._def.valueType;for(const g in o.data)l.push({key:d._parse(new qn(o,g,o.path,g)),value:p._parse(new qn(o,o.data[g],o.path,g)),alwaysSet:g in o.data});return o.common.async?Bt.mergeObjectAsync(a,l):Bt.mergeObjectSync(a,l)}get element(){return this._def.valueType}static create(e,a,o){return a instanceof Fe?new ur({keyType:e,valueType:a,typeName:Ae.ZodRecord,...Pe(o)}):new ur({keyType:Vn.create(),valueType:e,typeName:Ae.ZodRecord,...Pe(a)})}}class Qh extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==he.map)return le(o,{code:ee.invalid_type,expected:he.map,received:o.parsedType}),we;const l=this._def.keyType,d=this._def.valueType,p=[...o.data.entries()].map(([g,v],h)=>({key:l._parse(new qn(o,g,o.path,[h,"key"])),value:d._parse(new qn(o,v,o.path,[h,"value"]))}));if(o.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of p){const h=await v.key,x=await v.value;if(h.status==="aborted"||x.status==="aborted")return we;(h.status==="dirty"||x.status==="dirty")&&a.dirty(),g.set(h.value,x.value)}return{status:a.value,value:g}})}else{const g=new Map;for(const v of p){const h=v.key,x=v.value;if(h.status==="aborted"||x.status==="aborted")return we;(h.status==="dirty"||x.status==="dirty")&&a.dirty(),g.set(h.value,x.value)}return{status:a.value,value:g}}}}Qh.create=(t,e,a)=>new Qh({valueType:e,keyType:t,typeName:Ae.ZodMap,...Pe(a)});class ws extends Fe{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==he.set)return le(o,{code:ee.invalid_type,expected:he.set,received:o.parsedType}),we;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(le(o,{code:ee.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),a.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(le(o,{code:ee.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),a.dirty());const d=this._def.valueType;function p(v){const h=new Set;for(const x of v){if(x.status==="aborted")return we;x.status==="dirty"&&a.dirty(),h.add(x.value)}return{status:a.value,value:h}}const g=[...o.data.values()].map((v,h)=>d._parse(new qn(o,v,o.path,h)));return o.common.async?Promise.all(g).then(v=>p(v)):p(g)}min(e,a){return new ws({...this._def,minSize:{value:e,message:ye.toString(a)}})}max(e,a){return new ws({...this._def,maxSize:{value:e,message:ye.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}ws.create=(t,e)=>new ws({valueType:t,minSize:null,maxSize:null,typeName:Ae.ZodSet,...Pe(e)});class $c extends Fe{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}$c.create=(t,e)=>new $c({getter:t,typeName:Ae.ZodLazy,...Pe(e)});class Wh extends Fe{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return le(a,{received:a.data,code:ee.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wh.create=(t,e)=>new Wh({value:t,typeName:Ae.ZodLiteral,...Pe(e)});function ov(t,e){return new fo({values:t,typeName:Ae.ZodEnum,...Pe(e)})}class fo extends Fe{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),o=this._def.values;return le(a,{expected:$e.joinValues(o),received:a.parsedType,code:ee.invalid_type}),we}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const a=this._getOrReturnCtx(e),o=this._def.values;return le(a,{received:a.data,code:ee.invalid_enum_value,options:o}),we}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return fo.create(e,{...this._def,...a})}exclude(e,a=this._def){return fo.create(this.options.filter(o=>!e.includes(o)),{...this._def,...a})}}fo.create=ov;class eg extends Fe{_parse(e){const a=$e.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==he.string&&o.parsedType!==he.number){const l=$e.objectValues(a);return le(o,{expected:$e.joinValues(l),received:o.parsedType,code:ee.invalid_type}),we}if(this._cache||(this._cache=new Set($e.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=$e.objectValues(a);return le(o,{received:o.data,code:ee.invalid_enum_value,options:l}),we}return xn(e.data)}get enum(){return this._def.values}}eg.create=(t,e)=>new eg({values:t,typeName:Ae.ZodNativeEnum,...Pe(e)});class cr extends Fe{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==he.promise&&a.common.async===!1)return le(a,{code:ee.invalid_type,expected:he.promise,received:a.parsedType}),we;const o=a.parsedType===he.promise?a.data:Promise.resolve(a.data);return xn(o.then(l=>this._def.type.parseAsync(l,{path:a.path,errorMap:a.common.contextualErrorMap})))}}cr.create=(t,e)=>new cr({type:t,typeName:Ae.ZodPromise,...Pe(e)});class mo extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:o}=this._processInputParams(e),l=this._def.effect||null,d={addIssue:p=>{le(o,p),p.fatal?a.abort():a.dirty()},get path(){return o.path}};if(d.addIssue=d.addIssue.bind(d),l.type==="preprocess"){const p=l.transform(o.data,d);if(o.common.async)return Promise.resolve(p).then(async g=>{if(a.value==="aborted")return we;const v=await this._def.schema._parseAsync({data:g,path:o.path,parent:o});return v.status==="aborted"?we:v.status==="dirty"||a.value==="dirty"?bs(v.value):v});{if(a.value==="aborted")return we;const g=this._def.schema._parseSync({data:p,path:o.path,parent:o});return g.status==="aborted"?we:g.status==="dirty"||a.value==="dirty"?bs(g.value):g}}if(l.type==="refinement"){const p=g=>{const v=l.refinement(g,d);if(o.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(o.common.async===!1){const g=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return g.status==="aborted"?we:(g.status==="dirty"&&a.dirty(),p(g.value),{status:a.value,value:g.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(g=>g.status==="aborted"?we:(g.status==="dirty"&&a.dirty(),p(g.value).then(()=>({status:a.value,value:g.value}))))}if(l.type==="transform")if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!uo(p))return we;const g=l.transform(p.value,d);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:g}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>uo(p)?Promise.resolve(l.transform(p.value,d)).then(g=>({status:a.value,value:g})):we);$e.assertNever(l)}}mo.create=(t,e,a)=>new mo({schema:t,typeName:Ae.ZodEffects,effect:e,...Pe(a)});mo.createWithPreprocess=(t,e,a)=>new mo({schema:e,effect:{type:"preprocess",transform:t},typeName:Ae.ZodEffects,...Pe(a)});class Ga extends Fe{_parse(e){return this._getType(e)===he.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ga.create=(t,e)=>new Ga({innerType:t,typeName:Ae.ZodOptional,...Pe(e)});class po extends Fe{_parse(e){return this._getType(e)===he.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}po.create=(t,e)=>new po({innerType:t,typeName:Ae.ZodNullable,...Pe(e)});class Zc extends Fe{_parse(e){const{ctx:a}=this._processInputParams(e);let o=a.data;return a.parsedType===he.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Zc.create=(t,e)=>new Zc({innerType:t,typeName:Ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});class Kc extends Fe{_parse(e){const{ctx:a}=this._processInputParams(e),o={...a,common:{...a.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return or(l)?l.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new ua(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ua(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Kc.create=(t,e)=>new Kc({innerType:t,typeName:Ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});class tg extends Fe{_parse(e){if(this._getType(e)!==he.nan){const o=this._getOrReturnCtx(e);return le(o,{code:ee.invalid_type,expected:he.nan,received:o.parsedType}),we}return{status:"valid",value:e.data}}}tg.create=t=>new tg({typeName:Ae.ZodNaN,...Pe(t)});class pS extends Fe{_parse(e){const{ctx:a}=this._processInputParams(e),o=a.data;return this._def.type._parse({data:o,path:a.path,parent:a})}unwrap(){return this._def.type}}class Td extends Fe{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return d.status==="aborted"?we:d.status==="dirty"?(a.dirty(),bs(d.value)):this._def.out._parseAsync({data:d.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?we:l.status==="dirty"?(a.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(e,a){return new Td({in:e,out:a,typeName:Ae.ZodPipeline})}}class Xc extends Fe{_parse(e){const a=this._def.innerType._parse(e),o=l=>(uo(l)&&(l.value=Object.freeze(l.value)),l);return or(a)?a.then(l=>o(l)):o(a)}unwrap(){return this._def.innerType}}Xc.create=(t,e)=>new Xc({innerType:t,typeName:Ae.ZodReadonly,...Pe(e)});var Ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const ci=Vn.create,ng=fi.create;mi.create;const hS=sr.create;co.create;const ag=Yc.create;Ba.create;const _s=jn.create,gS=St.create,yS=lr.create;rr.create;pi.create;const vS=ur.create,xS=$c.create,TS=fo.create;cr.create;Ga.create;po.create;const ao={string:t=>Vn.create({...t,coerce:!0}),number:t=>fi.create({...t,coerce:!0}),boolean:t=>sr.create({...t,coerce:!0}),bigint:t=>mi.create({...t,coerce:!0}),date:t=>co.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CS,SS;function bS(){return{geminiUrl:CS,vertexUrl:SS}}function _S(t,e,a){var o,l,d;if(!(!((o=t.httpOptions)===null||o===void 0)&&o.baseUrl)){const p=bS();return t.vertexai?(l=p.vertexUrl)!==null&&l!==void 0?l:e:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yi{}function ve(t,e){const a=/\{([^}]+)\}/g;return t.replace(a,(o,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const d=e[l];return d!=null?String(d):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function u(t,e,a){for(let d=0;d<e.length-1;d++){const p=e[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in t))if(Array.isArray(a))t[g]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(t[g])){const v=t[g];if(Array.isArray(a))for(let h=0;h<v.length;h++){const x=v[h];u(x,e.slice(d+1),a[h])}else for(const h of v)u(h,e.slice(d+1),a)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in t||(t[g]=[{}]);const v=t[g];u(v[0],e.slice(d+1),a);return}(!t[p]||typeof t[p]!="object")&&(t[p]={}),t=t[p]}const o=e[e.length-1],l=t[o];if(l!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===l)return;if(typeof l=="object"&&typeof a=="object"&&l!==null&&a!==null)Object.assign(l,a);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=a}function r(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let a=0;a<e.length;a++){if(typeof t!="object"||t===null)return;const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const d=t[l];return Array.isArray(d)?d.map(p=>r(p,e.slice(a+1))):void 0}else return}else t=t[o]}return t}catch(a){if(a instanceof TypeError)return;throw a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ig;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ig||(ig={}));var og;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(og||(og={}));var On;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(On||(On={}));var sg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(sg||(sg={}));var lg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(lg||(lg={}));var rg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(rg||(rg={}));var ug;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ug||(ug={}));var cg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(cg||(cg={}));var dg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dg||(dg={}));var fg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fg||(fg={}));var mg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(mg||(mg={}));var pg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(pg||(pg={}));var hg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hg||(hg={}));var gg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gg||(gg={}));var yg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(yg||(yg={}));var vg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vg||(vg={}));var dr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(dr||(dr={}));var xg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xg||(xg={}));var Qc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qc||(Qc={}));var Tg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Tg||(Tg={}));var Cg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Cg||(Cg={}));var Sg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Sg||(Sg={}));var bg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bg||(bg={}));var _g;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(_g||(_g={}));var Eg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var Ag;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ag||(Ag={}));var Ng;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Ng||(Ng={}));var wg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wg||(wg={}));var Mg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mg||(Mg={}));var Rg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rg||(Rg={}));var Dg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dg||(Dg={}));var Ig;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ig||(Ig={}));var kg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(kg||(kg={}));var Lg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Lg||(Lg={}));var Ug;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ug||(Ug={}));var Pg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pg||(Pg={}));var Vg;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Vg||(Vg={}));var Og;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Og||(Og={}));var jg;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jg||(jg={}));var qg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qg||(qg={}));var zg;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zg||(zg={}));var so;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(so||(so={}));class Wc{constructor(e){const a={};for(const o of e.headers.entries())a[o[0]]=o[1];this.headers=a,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ss{get text(){var e,a,o,l,d,p,g,v;if(((l=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const S of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[E,N]of Object.entries(S))E!=="text"&&E!=="thought"&&(N!==null||N!==void 0)&&T.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;x=!0,h+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var e,a,o,l,d,p,g,v;if(((l=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[S,E]of Object.entries(T))S!=="inlineData"&&(E!==null||E!==void 0)&&x.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,a,o,l,d,p,g,v;if(((l=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,a,o,l,d,p,g,v,h;if(((l=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,a,o,l,d,p,g,v,h;if(((l=(o=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Gg{}class Bg{}class ES{}class AS{}class Fg{}class Hg{}class Yg{}class NS{}class Jg{}class $g{}class Zg{}class wS{}class MS{}class RS{}class Kg{}class DS{get text(){var e,a,o;let l="",d=!1;const p=[];for(const g of(o=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&o!==void 0?o:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,l+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?l:void 0}get data(){var e,a,o;let l="";const d=[];for(const p of(o=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&o!==void 0?o:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(l+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class IS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const a=e.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sv(t,e){const a=tt(t,e);return a?a.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}`:a.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${a}`:a:""}function lv(t){return Array.isArray(t)?t.map(e=>fr(e)):[fr(t)]}function fr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function rv(t){const e=fr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uv(t){const e=fr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function cv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Xg(e)):[Xg(t)]}function ed(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Qg(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wg(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ot(t){if(t==null)throw new Error("ContentUnion is required");return ed(t)?t:{role:"user",parts:cv(t)}}function dv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(a=>{const o=Ot(a);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const a=Ot(e);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(e)?e.map(a=>Ot(a)):[Ot(e)]}function yn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Qg(t)||Wg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ot(t)]}const e=[],a=[],o=ed(t[0]);for(const l of t){const d=ed(l);if(d!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(l);else{if(Qg(l)||Wg(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(l)}}return o||e.push({role:"user",parts:cv(a)}),e}const kS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),ey=TS(["string","number","integer","object","array","boolean","null"]),LS=yS([ey,_s(ey)]);function US(t=!0){const e=xS(()=>{const a=gS({type:LS.optional(),format:ci().optional(),title:ci().optional(),description:ci().optional(),default:ag().optional(),items:e.optional(),minItems:ao.string().optional(),maxItems:ao.string().optional(),enum:_s(ag()).optional(),properties:vS(ci(),e).optional(),required:_s(ci()).optional(),minProperties:ao.string().optional(),maxProperties:ao.string().optional(),propertyOrdering:_s(ci()).optional(),minimum:ng().optional(),maximum:ng().optional(),minLength:ao.string().optional(),maxLength:ao.string().optional(),pattern:ci().optional(),anyOf:_s(e).optional(),additionalProperties:hS().optional()});return t?a.strict():a});return e}function PS(t,e){t.includes("null")&&(e.nullable=!0);const a=t.filter(o=>o!=="null");if(a.length===1)e.type=Object.values(On).includes(a[0].toUpperCase())?a[0].toUpperCase():On.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of a)e.anyOf.push({type:Object.values(On).includes(o.toUpperCase())?o.toUpperCase():On.TYPE_UNSPECIFIED})}}function lo(t){const e={},a=["items"],o=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=t.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,t=d[1]):d[1].type==="null"&&(e.nullable=!0,t=d[0])),t.type instanceof Array&&PS(t.type,e);for(const[p,g]of Object.entries(t))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(On).includes(g.toUpperCase())?g.toUpperCase():On.TYPE_UNSPECIFIED}else if(a.includes(p))e[p]=lo(g);else if(o.includes(p)){const v=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}v.push(lo(h))}e[p]=v}else if(l.includes(p)){const v={};for(const[h,x]of Object.entries(g))v[h]=lo(x);e[p]=v}else{if(p==="additionalProperties")continue;e[p]=g}return e}function Ms(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=US().parse(t);return lo(e)}else return lo(t)}function Cd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Sd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function vo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Ms(e.parameters)),e.response&&(e.response=Ms(e.response));return t}function xo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const a of t)e.push(a);return e}function VS(t,e,a,o=1){const l=!e.startsWith(`${a}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${a}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}/${e}`:e:l?`${a}/${e}`:e}function ca(t,e){if(typeof e!="string")throw new Error("name must be a string");return VS(t,e,"cachedContents")}function fv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function da(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function OS(t){return t!=null&&typeof t=="object"&&"name"in t}function jS(t){return t!=null&&typeof t=="object"&&"video"in t}function qS(t){return t!=null&&typeof t=="object"&&"uri"in t}function mv(t){var e;let a;if(OS(t)&&(a=t.name),!(qS(t)&&(a=t.uri,a===void 0))&&!(jS(t)&&(a=(e=t.video)===null||e===void 0?void 0:e.uri,a===void 0))){if(typeof t=="string"&&(a=t),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const l=a.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${a}`);a=l[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function pv(t,e){let a;return t.isVertexAI()?a=e?"publishers/google/models":"models":a=e?"models":"tunedModels",a}function hv(t){for(const e of["models","tunedModels","publisherModels"])if(zS(t,e))return t[e];return[]}function zS(t,e){return t!==null&&typeof t=="object"&&e in t}function GS(t,e={}){const a=t,o={name:a.name,description:a.description,parameters:lo(hr(a.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function BS(t,e={}){const a=[],o=new Set;for(const l of t){const d=l.name;if(o.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o.add(d);const p=GS(l,e);p.functionDeclarations&&a.push(...p.functionDeclarations)}return{functionDeclarations:a}}function FS(t){const e=[];for(const a of t)e.push(hr(a));return e}function HS(t){const e={};for(const[a,o]of Object.entries(t)){const l=o;e[a]=hr(l)}return e}function hr(t){const e=new Set(["items"]),a=new Set(["anyOf"]),o=new Set(["properties"]),l={};for(const[d,p]of Object.entries(t))if(e.has(d))l[d]=hr(p);else if(a.has(d))l[d]=FS(p);else if(o.has(d))l[d]=HS(p);else if(d==="type"){const g=p.toUpperCase();l[d]=Object.values(On).includes(g)?g:On.TYPE_UNSPECIFIED}else kS.has(d)&&(l[d]=p);return l}function gv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function YS(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function To(t,e){const a=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function yv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function $S(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ZS(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function KS(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],JS(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],$S(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],ZS(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function vv(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>KS(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function XS(t){const e={},a=r(t,["anyOf"]);a!=null&&u(e,["anyOf"],a);const o=r(t,["default"]);o!=null&&u(e,["default"],o);const l=r(t,["description"]);l!=null&&u(e,["description"],l);const d=r(t,["enum"]);d!=null&&u(e,["enum"],d);const p=r(t,["example"]);p!=null&&u(e,["example"],p);const g=r(t,["format"]);g!=null&&u(e,["format"],g);const v=r(t,["items"]);v!=null&&u(e,["items"],v);const h=r(t,["maxItems"]);h!=null&&u(e,["maxItems"],h);const x=r(t,["maxLength"]);x!=null&&u(e,["maxLength"],x);const T=r(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=r(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=r(t,["minItems"]);E!=null&&u(e,["minItems"],E);const N=r(t,["minLength"]);N!=null&&u(e,["minLength"],N);const D=r(t,["minProperties"]);D!=null&&u(e,["minProperties"],D);const G=r(t,["minimum"]);G!=null&&u(e,["minimum"],G);const V=r(t,["nullable"]);V!=null&&u(e,["nullable"],V);const j=r(t,["pattern"]);j!=null&&u(e,["pattern"],j);const P=r(t,["properties"]);P!=null&&u(e,["properties"],P);const K=r(t,["propertyOrdering"]);K!=null&&u(e,["propertyOrdering"],K);const F=r(t,["required"]);F!=null&&u(e,["required"],F);const ie=r(t,["title"]);ie!=null&&u(e,["title"],ie);const Q=r(t,["type"]);return Q!=null&&u(e,["type"],Q),e}function QS(t){const e={};if(r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(t,["category"]);a!=null&&u(e,["category"],a);const o=r(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function WS(t){const e={},a=r(t,["behavior"]);a!=null&&u(e,["behavior"],a);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["name"]);l!=null&&u(e,["name"],l);const d=r(t,["parameters"]);d!=null&&u(e,["parameters"],d);const p=r(t,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=r(t,["response"]);g!=null&&u(e,["response"],g);const v=r(t,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function eb(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function tb(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],eb(a)),e}function nb(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function ab(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],nb(a)),e}function ib(){return{}}function ob(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>WS(h))),u(e,["functionDeclarations"],v)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],tb(o));const l=r(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],ab(l)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&u(e,["urlContext"],ib());const p=r(t,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=r(t,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function sb(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function lb(t){const e={},a=r(t,["latitude"]);a!=null&&u(e,["latitude"],a);const o=r(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function rb(t){const e={},a=r(t,["latLng"]);a!=null&&u(e,["latLng"],lb(a));const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function ub(t){const e={},a=r(t,["functionCallingConfig"]);a!=null&&u(e,["functionCallingConfig"],sb(a));const o=r(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],rb(o)),e}function cb(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function xv(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],cb(a)),e}function db(t){const e={},a=r(t,["speaker"]);a!=null&&u(e,["speaker"],a);const o=r(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],xv(o)),e}function fb(t){const e={},a=r(t,["speakerVoiceConfigs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>db(l))),u(e,["speakerVoiceConfigs"],o)}return e}function mb(t){const e={},a=r(t,["voiceConfig"]);a!=null&&u(e,["voiceConfig"],xv(a));const o=r(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],fb(o));const l=r(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function pb(t){const e={},a=r(t,["includeThoughts"]);a!=null&&u(e,["includeThoughts"],a);const o=r(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function hb(t,e,a){const o={},l=r(e,["systemInstruction"]);a!==void 0&&l!=null&&u(a,["systemInstruction"],vv(Ot(l)));const d=r(e,["temperature"]);d!=null&&u(o,["temperature"],d);const p=r(e,["topP"]);p!=null&&u(o,["topP"],p);const g=r(e,["topK"]);g!=null&&u(o,["topK"],g);const v=r(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const h=r(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const T=r(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=r(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=r(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const D=r(e,["seed"]);D!=null&&u(o,["seed"],D);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const V=r(e,["responseSchema"]);V!=null&&u(o,["responseSchema"],XS(Ms(V)));const j=r(e,["responseJsonSchema"]);if(j!=null&&u(o,["responseJsonSchema"],j),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=r(e,["safetySettings"]);if(a!==void 0&&P!=null){let ue=P;Array.isArray(ue)&&(ue=ue.map(Me=>QS(Me))),u(a,["safetySettings"],ue)}const K=r(e,["tools"]);if(a!==void 0&&K!=null){let ue=xo(K);Array.isArray(ue)&&(ue=ue.map(Me=>ob(vo(Me)))),u(a,["tools"],ue)}const F=r(e,["toolConfig"]);if(a!==void 0&&F!=null&&u(a,["toolConfig"],ub(F)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=r(e,["cachedContent"]);a!==void 0&&ie!=null&&u(a,["cachedContent"],ca(t,ie));const Q=r(e,["responseModalities"]);Q!=null&&u(o,["responseModalities"],Q);const Te=r(e,["mediaResolution"]);Te!=null&&u(o,["mediaResolution"],Te);const te=r(e,["speechConfig"]);if(te!=null&&u(o,["speechConfig"],mb(Cd(te))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(e,["thinkingConfig"]);return de!=null&&u(o,["thinkingConfig"],pb(de)),o}function gb(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["request","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>vv(g))),u(a,["request","contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["request","generationConfig"],hb(t,d,a)),a}function yb(t,e){const a={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&u(a,["fileName"],o);const l=r(e,["inlinedRequests"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>gb(t,p))),u(a,["requests","requests"],d)}return a}function vb(t,e){const a={},o=r(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),r(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function xb(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["src"]);l!=null&&u(a,["batch","inputConfig"],yb(t,gv(t,l)));const d=r(e,["config"]);return d!=null&&u(a,["config"],vb(d,a)),a}function Tb(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Cb(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Sb(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);if(e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),r(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function bb(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],Sb(a,e)),e}function _b(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Eb(t){const e={},a=r(t,["format"]);a!=null&&u(e,["instancesFormat"],a);const o=r(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const l=r(t,["bigqueryUri"]);if(l!=null&&u(e,["bigquerySource","inputUri"],l),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ab(t){const e={},a=r(t,["format"]);a!=null&&u(e,["predictionsFormat"],a);const o=r(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const l=r(t,["bigqueryUri"]);if(l!=null&&u(e,["bigqueryDestination","outputUri"],l),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Nb(t,e){const a={},o=r(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=r(t,["dest"]);return e!==void 0&&l!=null&&u(e,["outputConfig"],Ab(YS(l))),a}function wb(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["model"],tt(t,o));const l=r(e,["src"]);l!=null&&u(a,["inputConfig"],Eb(gv(t,l)));const d=r(e,["config"]);return d!=null&&u(a,["config"],Nb(d,a)),a}function Mb(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Rb(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Db(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const d=r(t,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),a}function Ib(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],Db(a,e)),e}function kb(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],To(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function Tv(){return{}}function Lb(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function Ub(t){const e={},a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Pb(t){const e={},a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Vb(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],Lb(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],Ub(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],Pb(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function Ob(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>Vb(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function jb(t){const e={},a=r(t,["citationSources"]);return a!=null&&u(e,["citations"],a),e}function qb(t){const e={},a=r(t,["retrievedUrl"]);a!=null&&u(e,["retrievedUrl"],a);const o=r(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function zb(t){const e={},a=r(t,["urlMetadata"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>qb(l))),u(e,["urlMetadata"],o)}return e}function Gb(t){const e={},a=r(t,["content"]);a!=null&&u(e,["content"],Ob(a));const o=r(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],jb(o));const l=r(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const d=r(t,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=r(t,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],zb(p));const g=r(t,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const v=r(t,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const h=r(t,["index"]);h!=null&&u(e,["index"],h);const x=r(t,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const T=r(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function Bb(t){const e={},a=r(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>Gb(g))),u(e,["candidates"],p)}const o=r(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=r(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const d=r(t,["usageMetadata"]);return d!=null&&u(e,["usageMetadata"],d),e}function Fb(t){const e={},a=r(t,["response"]);return a!=null&&u(e,["response"],Bb(a)),r(t,["error"])!=null&&u(e,["error"],Tv()),e}function Hb(t){const e={},a=r(t,["responsesFile"]);a!=null&&u(e,["fileName"],a);const o=r(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>Fb(d))),u(e,["inlinedResponses"],l)}return e}function td(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["metadata","state"]);l!=null&&u(e,["state"],yv(l));const d=r(t,["metadata","createTime"]);d!=null&&u(e,["createTime"],d);const p=r(t,["metadata","endTime"]);p!=null&&u(e,["endTime"],p);const g=r(t,["metadata","updateTime"]);g!=null&&u(e,["updateTime"],g);const v=r(t,["metadata","model"]);v!=null&&u(e,["model"],v);const h=r(t,["metadata","output"]);return h!=null&&u(e,["dest"],Hb(h)),e}function Yb(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>td(d))),u(e,["batchJobs"],l)}return e}function Jb(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["done"]);return o!=null&&u(e,["done"],o),r(t,["error"])!=null&&u(e,["error"],Tv()),e}function Cv(t){const e={},a=r(t,["details"]);a!=null&&u(e,["details"],a);const o=r(t,["code"]);o!=null&&u(e,["code"],o);const l=r(t,["message"]);return l!=null&&u(e,["message"],l),e}function $b(t){const e={},a=r(t,["instancesFormat"]);a!=null&&u(e,["format"],a);const o=r(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const l=r(t,["bigquerySource","inputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function Zb(t){const e={},a=r(t,["predictionsFormat"]);a!=null&&u(e,["format"],a);const o=r(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const l=r(t,["bigqueryDestination","outputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function nd(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["state"]);l!=null&&u(e,["state"],yv(l));const d=r(t,["error"]);d!=null&&u(e,["error"],Cv(d));const p=r(t,["createTime"]);p!=null&&u(e,["createTime"],p);const g=r(t,["startTime"]);g!=null&&u(e,["startTime"],g);const v=r(t,["endTime"]);v!=null&&u(e,["endTime"],v);const h=r(t,["updateTime"]);h!=null&&u(e,["updateTime"],h);const x=r(t,["model"]);x!=null&&u(e,["model"],x);const T=r(t,["inputConfig"]);T!=null&&u(e,["src"],$b(T));const S=r(t,["outputConfig"]);return S!=null&&u(e,["dest"],Zb(S)),e}function Kb(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>nd(d))),u(e,["batchJobs"],l)}return e}function Xb(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);return l!=null&&u(e,["error"],Cv(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(hi||(hi={}));class Is{constructor(e,a,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(e,o,l)}init(e,a,o){var l,d;this.nameInternal=e,this.pageInternal=a[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};o?typeof o=="object"?p=Object.assign({},o):p=o:p={config:{}},p.config&&(p.config.pageToken=a.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(l=p.config)===null||l===void 0?void 0:l.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qb extends yi{constructor(e){super(),this.apiClient=e,this.create=async a=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(a.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(a.config=a.config||{},a.config.displayName===void 0&&(a.config.displayName="genaiBatchJob_${timestampStr}"),a.config.dest===void 0&&typeof a.src=="string")if(a.src.startsWith("gs://")&&a.src.endsWith(".jsonl"))a.config.dest=`${a.src.slice(0,-6)}/dest`;else if(a.src.startsWith("bq://"))a.config.dest=`${a.src}_dest_${l}`;else throw new Error("Unsupported source:"+a.src)}return await this.createInternal(a)},this.list=async(a={})=>new Is(hi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(a),a)}async createInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=wb(this.apiClient,e);return g=ve("batchPredictionJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>nd(x))}else{const h=xb(this.apiClient,e);return g=ve("{model}:batchGenerateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>td(x))}}async get(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Mb(this.apiClient,e);return g=ve("batchPredictionJobs/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>nd(x))}else{const h=Tb(this.apiClient,e);return g=ve("batches/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>td(x))}}async cancel(e){var a,o,l,d;let p="",g={};if(this.apiClient.isVertexAI()){const v=Rb(this.apiClient,e);p=ve("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=Cb(this.apiClient,e);p=ve("batches/{name}:cancel",v._url),g=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Ib(e);return g=ve("batchPredictionJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=Kb(x),S=new Kg;return Object.assign(S,T),S})}else{const h=bb(e);return g=ve("batches",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=Yb(x),S=new Kg;return Object.assign(S,T),S})}}async delete(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=kb(this.apiClient,e);return g=ve("batchPredictionJobs/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>Xb(x))}else{const h=_b(this.apiClient,e);return g=ve("batches/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Jb(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function e1(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function t1(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function n1(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],Wb(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],e1(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],t1(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function ty(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>n1(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function a1(t){const e={},a=r(t,["behavior"]);a!=null&&u(e,["behavior"],a);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["name"]);l!=null&&u(e,["name"],l);const d=r(t,["parameters"]);d!=null&&u(e,["parameters"],d);const p=r(t,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=r(t,["response"]);g!=null&&u(e,["response"],g);const v=r(t,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function i1(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function o1(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],i1(a)),e}function s1(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function l1(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],s1(a)),e}function r1(){return{}}function u1(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>a1(h))),u(e,["functionDeclarations"],v)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],o1(o));const l=r(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],l1(l)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&u(e,["urlContext"],r1());const p=r(t,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=r(t,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function c1(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function d1(t){const e={},a=r(t,["latitude"]);a!=null&&u(e,["latitude"],a);const o=r(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function f1(t){const e={},a=r(t,["latLng"]);a!=null&&u(e,["latLng"],d1(a));const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function m1(t){const e={},a=r(t,["functionCallingConfig"]);a!=null&&u(e,["functionCallingConfig"],c1(a));const o=r(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],f1(o)),e}function p1(t,e){const a={},o=r(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const l=r(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const d=r(t,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=r(t,["contents"]);if(e!==void 0&&p!=null){let x=yn(p);Array.isArray(x)&&(x=x.map(T=>ty(T))),u(e,["contents"],x)}const g=r(t,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],ty(Ot(g)));const v=r(t,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>u1(T))),u(e,["tools"],x)}const h=r(t,["toolConfig"]);if(e!==void 0&&h!=null&&u(e,["toolConfig"],m1(h)),r(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function h1(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["model"],sv(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],p1(l,a)),a}function g1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function y1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function v1(t,e){const a={},o=r(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const l=r(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),a}function x1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],v1(l,a)),a}function T1(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),a}function C1(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],T1(a,e)),e}function S1(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function b1(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["data"]);o!=null&&u(e,["data"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function _1(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function E1(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],S1(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],b1(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],_1(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function ny(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>E1(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function A1(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=r(t,["description"]);a!=null&&u(e,["description"],a);const o=r(t,["name"]);o!=null&&u(e,["name"],o);const l=r(t,["parameters"]);l!=null&&u(e,["parameters"],l);const d=r(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=r(t,["response"]);p!=null&&u(e,["response"],p);const g=r(t,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function N1(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function w1(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],N1(a)),e}function M1(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function R1(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],M1(a)),e}function D1(){return{}}function I1(t){const e={},a=r(t,["apiKeyString"]);return a!=null&&u(e,["apiKeyString"],a),e}function k1(t){const e={},a=r(t,["apiKeyConfig"]);a!=null&&u(e,["apiKeyConfig"],I1(a));const o=r(t,["authType"]);o!=null&&u(e,["authType"],o);const l=r(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const d=r(t,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=r(t,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=r(t,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function L1(t){const e={},a=r(t,["authConfig"]);return a!=null&&u(e,["authConfig"],k1(a)),e}function U1(){return{}}function P1(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(S=>A1(S))),u(e,["functionDeclarations"],T)}const o=r(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const l=r(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],w1(l));const d=r(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],R1(d)),r(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],D1());const g=r(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],L1(g)),r(t,["urlContext"])!=null&&u(e,["urlContext"],U1());const h=r(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const x=r(t,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function V1(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function O1(t){const e={},a=r(t,["latitude"]);a!=null&&u(e,["latitude"],a);const o=r(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function j1(t){const e={},a=r(t,["latLng"]);a!=null&&u(e,["latLng"],O1(a));const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function q1(t){const e={},a=r(t,["functionCallingConfig"]);a!=null&&u(e,["functionCallingConfig"],V1(a));const o=r(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],j1(o)),e}function z1(t,e){const a={},o=r(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const l=r(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const d=r(t,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=r(t,["contents"]);if(e!==void 0&&p!=null){let T=yn(p);Array.isArray(T)&&(T=T.map(S=>ny(S))),u(e,["contents"],T)}const g=r(t,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],ny(Ot(g)));const v=r(t,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>P1(S))),u(e,["tools"],T)}const h=r(t,["toolConfig"]);e!==void 0&&h!=null&&u(e,["toolConfig"],q1(h));const x=r(t,["kmsKeyName"]);return e!==void 0&&x!=null&&u(e,["encryption_spec","kmsKeyName"],x),a}function G1(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["model"],sv(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],z1(l,a)),a}function B1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function F1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function H1(t,e){const a={},o=r(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const l=r(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),a}function Y1(t,e){const a={},o=r(e,["name"]);o!=null&&u(a,["_url","name"],ca(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],H1(l,a)),a}function J1(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),a}function $1(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],J1(a,e)),e}function Ql(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["model"]);l!=null&&u(e,["model"],l);const d=r(t,["createTime"]);d!=null&&u(e,["createTime"],d);const p=r(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const g=r(t,["expireTime"]);g!=null&&u(e,["expireTime"],g);const v=r(t,["usageMetadata"]);return v!=null&&u(e,["usageMetadata"],v),e}function Z1(){return{}}function K1(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>Ql(d))),u(e,["cachedContents"],l)}return e}function Wl(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["model"]);l!=null&&u(e,["model"],l);const d=r(t,["createTime"]);d!=null&&u(e,["createTime"],d);const p=r(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const g=r(t,["expireTime"]);g!=null&&u(e,["expireTime"],g);const v=r(t,["usageMetadata"]);return v!=null&&u(e,["usageMetadata"],v),e}function X1(){return{}}function Q1(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>Wl(d))),u(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1 extends yi{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new Is(hi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(a),a)}async create(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=G1(this.apiClient,e);return g=ve("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>Wl(x))}else{const h=h1(this.apiClient,e);return g=ve("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ql(x))}}async get(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=B1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>Wl(x))}else{const h=g1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ql(x))}}async delete(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=F1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(()=>{const x=X1(),T=new $g;return Object.assign(T,x),T})}else{const h=y1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(()=>{const x=Z1(),T=new $g;return Object.assign(T,x),T})}}async update(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Y1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>Wl(x))}else{const h=x1(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Ql(x))}}async listInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=$1(e);return g=ve("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=Q1(x),S=new Zg;return Object.assign(S,T),S})}else{const h=C1(e);return g=ve("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=K1(x),S=new Zg;return Object.assign(S,T),S})}}}function ay(t){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&t[e],o=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t){return this instanceof rt?(this.v=t,this):new rt(t)}function ro(t,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(t,e||[]),l,d=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),l[Symbol.asyncIterator]=function(){return this},l;function p(E){return function(N){return Promise.resolve(N).then(E,T)}}function g(E,N){o[E]&&(l[E]=function(D){return new Promise(function(G,V){d.push([E,D,G,V])>1||v(E,D)})},N&&(l[E]=N(l[E])))}function v(E,N){try{h(o[E](N))}catch(D){S(d[0][3],D)}}function h(E){E.value instanceof rt?Promise.resolve(E.value.v).then(x,T):S(d[0][2],E)}function x(E){v("next",E)}function T(E){v("throw",E)}function S(E,N){E(N),d.shift(),d.length&&v(d[0][0],d[0][1])}}function As(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],a;return e?e.call(t):(t=typeof ay=="function"?ay(t):t[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(d){a[d]=t[d]&&function(p){return new Promise(function(g,v){p=t[d](p),l(g,v,p.done,p.value)})}}function l(d,p,g,v){Promise.resolve(v).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const a=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return a===void 0?!1:Sv(a)}function Sv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function t_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iy(t){if(t===void 0||t.length===0)return[];const e=[],a=t.length;let o=0;for(;o<a;)if(t[o].role==="user")e.push(t[o]),o++;else{const l=[];let d=!0;for(;o<a&&t[o].role==="model";)l.push(t[o]),d&&!Sv(t[o])&&(d=!1),o++;d?e.push(...l):e.pop()}return e}class n_{constructor(e,a){this.modelsModule=e,this.apiClient=a}create(e){return new a_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class a_{constructor(e,a,o,l={},d=[]){this.apiClient=e,this.modelsModule=a,this.model=o,this.config=l,this.history=d,this.sendPromise=Promise.resolve(),t_(d)}async sendMessage(e){var a;await this.sendPromise;const o=Ot(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(a=e.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var d,p,g;const v=await l,h=(p=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];x!=null&&(S=(g=x.slice(T))!==null&&g!==void 0?g:[]);const E=h?[h]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var a;await this.sendPromise;const o=Ot(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(a=e.config)!==null&&a!==void 0?a:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const d=await l;return this.processStreamResponse(d,o)}getHistory(e=!1){const a=e?iy(this.history):this.history;return structuredClone(a)}processStreamResponse(e,a){var o,l;return ro(this,arguments,function*(){var p,g,v,h;const x=[];try{for(var T=!0,S=As(e),E;E=yield rt(S.next()),p=E.done,!p;T=!0){h=E.value,T=!1;const N=h;if(e_(N)){const D=(l=(o=N.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content;D!==void 0&&x.push(D)}yield yield rt(N)}}catch(N){g={error:N}}finally{try{!T&&!p&&(v=S.return)&&(yield rt(v.call(S)))}finally{if(g)throw g.error}}this.recordHistory(a,x)})}recordHistory(e,a,o){let l=[];a.length>0&&a.every(d=>d.role!==void 0)?l=a:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...iy(o)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),a}function o_(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],i_(a,e)),e}function s_(t){const e={},a=r(t,["details"]);a!=null&&u(e,["details"],a);const o=r(t,["message"]);o!=null&&u(e,["message"],o);const l=r(t,["code"]);return l!=null&&u(e,["code"],l),e}function l_(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["mimeType"]);l!=null&&u(e,["mimeType"],l);const d=r(t,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=r(t,["createTime"]);p!=null&&u(e,["createTime"],p);const g=r(t,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const v=r(t,["updateTime"]);v!=null&&u(e,["updateTime"],v);const h=r(t,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const x=r(t,["uri"]);x!=null&&u(e,["uri"],x);const T=r(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=r(t,["state"]);S!=null&&u(e,["state"],S);const E=r(t,["source"]);E!=null&&u(e,["source"],E);const N=r(t,["videoMetadata"]);N!=null&&u(e,["videoMetadata"],N);const D=r(t,["error"]);return D!=null&&u(e,["error"],s_(D)),e}function r_(t){const e={},a=r(t,["file"]);a!=null&&u(e,["file"],l_(a));const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function u_(t){const e={},a=r(t,["name"]);a!=null&&u(e,["_url","file"],mv(a));const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function c_(t){const e={},a=r(t,["name"]);a!=null&&u(e,["_url","file"],mv(a));const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function d_(t){const e={},a=r(t,["details"]);a!=null&&u(e,["details"],a);const o=r(t,["message"]);o!=null&&u(e,["message"],o);const l=r(t,["code"]);return l!=null&&u(e,["code"],l),e}function ad(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["mimeType"]);l!=null&&u(e,["mimeType"],l);const d=r(t,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=r(t,["createTime"]);p!=null&&u(e,["createTime"],p);const g=r(t,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const v=r(t,["updateTime"]);v!=null&&u(e,["updateTime"],v);const h=r(t,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const x=r(t,["uri"]);x!=null&&u(e,["uri"],x);const T=r(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=r(t,["state"]);S!=null&&u(e,["state"],S);const E=r(t,["source"]);E!=null&&u(e,["source"],E);const N=r(t,["videoMetadata"]);N!=null&&u(e,["videoMetadata"],N);const D=r(t,["error"]);return D!=null&&u(e,["error"],d_(D)),e}function f_(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>ad(d))),u(e,["files"],l)}return e}function m_(){return{}}function p_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h_ extends yi{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new Is(hi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(a),a)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(a=>ad(a))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=o_(e);return d=ve("files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>{const h=f_(v),x=new wS;return Object.assign(x,h),x})}}async createInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r_(e);return d=ve("upload/v1beta/files",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(()=>{const v=m_(),h=new MS;return Object.assign(h,v),h})}}async get(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=u_(e);return d=ve("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>ad(v))}}async delete(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=c_(e);return d=ve("files/{file}",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(()=>{const v=p_(),h=new RS;return Object.assign(h,v),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function y_(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function bv(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],g_(a)),e}function v_(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],y_(a)),e}function x_(t){const e={},a=r(t,["speaker"]);a!=null&&u(e,["speaker"],a);const o=r(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],bv(o)),e}function T_(t){const e={},a=r(t,["speakerVoiceConfigs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>x_(l))),u(e,["speakerVoiceConfigs"],o)}return e}function C_(t){const e={},a=r(t,["voiceConfig"]);a!=null&&u(e,["voiceConfig"],bv(a));const o=r(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],T_(o));const l=r(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function S_(t){const e={},a=r(t,["voiceConfig"]);if(a!=null&&u(e,["voiceConfig"],v_(a)),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function b_(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function __(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function E_(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function A_(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["data"]);o!=null&&u(e,["data"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function N_(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function w_(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function M_(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],b_(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],E_(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],N_(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function R_(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],__(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],A_(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],w_(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function D_(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>M_(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function I_(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>R_(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function k_(t){const e={},a=r(t,["behavior"]);a!=null&&u(e,["behavior"],a);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["name"]);l!=null&&u(e,["name"],l);const d=r(t,["parameters"]);d!=null&&u(e,["parameters"],d);const p=r(t,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=r(t,["response"]);g!=null&&u(e,["response"],g);const v=r(t,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function L_(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=r(t,["description"]);a!=null&&u(e,["description"],a);const o=r(t,["name"]);o!=null&&u(e,["name"],o);const l=r(t,["parameters"]);l!=null&&u(e,["parameters"],l);const d=r(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=r(t,["response"]);p!=null&&u(e,["response"],p);const g=r(t,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function U_(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function P_(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function V_(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],U_(a)),e}function O_(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],P_(a)),e}function j_(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function q_(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function z_(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],j_(a)),e}function G_(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],q_(a)),e}function B_(){return{}}function F_(t){const e={},a=r(t,["apiKeyString"]);return a!=null&&u(e,["apiKeyString"],a),e}function H_(t){const e={},a=r(t,["apiKeyConfig"]);a!=null&&u(e,["apiKeyConfig"],F_(a));const o=r(t,["authType"]);o!=null&&u(e,["authType"],o);const l=r(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const d=r(t,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=r(t,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=r(t,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function Y_(t){const e={},a=r(t,["authConfig"]);return a!=null&&u(e,["authConfig"],H_(a)),e}function J_(){return{}}function $_(){return{}}function Z_(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>k_(h))),u(e,["functionDeclarations"],v)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],V_(o));const l=r(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],z_(l)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&u(e,["urlContext"],J_());const p=r(t,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=r(t,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function K_(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(S=>L_(S))),u(e,["functionDeclarations"],T)}const o=r(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const l=r(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],O_(l));const d=r(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],G_(d)),r(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],B_());const g=r(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],Y_(g)),r(t,["urlContext"])!=null&&u(e,["urlContext"],$_());const h=r(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const x=r(t,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function X_(t){const e={},a=r(t,["handle"]);if(a!=null&&u(e,["handle"],a),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Q_(t){const e={},a=r(t,["handle"]);a!=null&&u(e,["handle"],a);const o=r(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function oy(){return{}}function sy(){return{}}function W_(t){const e={},a=r(t,["disabled"]);a!=null&&u(e,["disabled"],a);const o=r(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const l=r(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const d=r(t,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=r(t,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function eE(t){const e={},a=r(t,["disabled"]);a!=null&&u(e,["disabled"],a);const o=r(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const l=r(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const d=r(t,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=r(t,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function tE(t){const e={},a=r(t,["automaticActivityDetection"]);a!=null&&u(e,["automaticActivityDetection"],W_(a));const o=r(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const l=r(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function nE(t){const e={},a=r(t,["automaticActivityDetection"]);a!=null&&u(e,["automaticActivityDetection"],eE(a));const o=r(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const l=r(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function aE(t){const e={},a=r(t,["targetTokens"]);return a!=null&&u(e,["targetTokens"],a),e}function iE(t){const e={},a=r(t,["targetTokens"]);return a!=null&&u(e,["targetTokens"],a),e}function oE(t){const e={},a=r(t,["triggerTokens"]);a!=null&&u(e,["triggerTokens"],a);const o=r(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],aE(o)),e}function sE(t){const e={},a=r(t,["triggerTokens"]);a!=null&&u(e,["triggerTokens"],a);const o=r(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],iE(o)),e}function lE(t){const e={},a=r(t,["proactiveAudio"]);return a!=null&&u(e,["proactiveAudio"],a),e}function rE(t){const e={},a=r(t,["proactiveAudio"]);return a!=null&&u(e,["proactiveAudio"],a),e}function uE(t,e){const a={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const l=r(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const d=r(t,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=r(t,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=r(t,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const v=r(t,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const h=r(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const x=r(t,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const T=r(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],C_(Sd(T)));const S=r(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=r(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],D_(Ot(E)));const N=r(t,["tools"]);if(e!==void 0&&N!=null){let F=xo(N);Array.isArray(F)&&(F=F.map(ie=>Z_(vo(ie)))),u(e,["setup","tools"],F)}const D=r(t,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],X_(D));const G=r(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],oy());const V=r(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&u(e,["setup","outputAudioTranscription"],oy());const j=r(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],tE(j));const P=r(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],oE(P));const K=r(t,["proactivity"]);return e!==void 0&&K!=null&&u(e,["setup","proactivity"],lE(K)),a}function cE(t,e){const a={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const l=r(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const d=r(t,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=r(t,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=r(t,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const v=r(t,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const h=r(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const x=r(t,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const T=r(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],S_(Sd(T)));const S=r(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=r(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],I_(Ot(E)));const N=r(t,["tools"]);if(e!==void 0&&N!=null){let F=xo(N);Array.isArray(F)&&(F=F.map(ie=>K_(vo(ie)))),u(e,["setup","tools"],F)}const D=r(t,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],Q_(D));const G=r(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],sy());const V=r(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&u(e,["setup","outputAudioTranscription"],sy());const j=r(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],nE(j));const P=r(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],sE(P));const K=r(t,["proactivity"]);return e!==void 0&&K!=null&&u(e,["setup","proactivity"],rE(K)),a}function dE(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["setup","model"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],uE(l,a)),a}function fE(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["setup","model"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],cE(l,a)),a}function mE(){return{}}function pE(){return{}}function hE(){return{}}function gE(){return{}}function yE(t){const e={},a=r(t,["media"]);a!=null&&u(e,["mediaChunks"],lv(a));const o=r(t,["audio"]);o!=null&&u(e,["audio"],uv(o));const l=r(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const d=r(t,["video"]);d!=null&&u(e,["video"],rv(d));const p=r(t,["text"]);return p!=null&&u(e,["text"],p),r(t,["activityStart"])!=null&&u(e,["activityStart"],mE()),r(t,["activityEnd"])!=null&&u(e,["activityEnd"],hE()),e}function vE(t){const e={},a=r(t,["media"]);a!=null&&u(e,["mediaChunks"],lv(a));const o=r(t,["audio"]);o!=null&&u(e,["audio"],uv(o));const l=r(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const d=r(t,["video"]);d!=null&&u(e,["video"],rv(d));const p=r(t,["text"]);return p!=null&&u(e,["text"],p),r(t,["activityStart"])!=null&&u(e,["activityStart"],pE()),r(t,["activityEnd"])!=null&&u(e,["activityEnd"],gE()),e}function _v(t){const e={},a=r(t,["text"]);a!=null&&u(e,["text"],a);const o=r(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function xE(t){const e={},a=r(t,["weightedPrompts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>_v(l))),u(e,["weightedPrompts"],o)}return e}function Ev(t){const e={},a=r(t,["temperature"]);a!=null&&u(e,["temperature"],a);const o=r(t,["topK"]);o!=null&&u(e,["topK"],o);const l=r(t,["seed"]);l!=null&&u(e,["seed"],l);const d=r(t,["guidance"]);d!=null&&u(e,["guidance"],d);const p=r(t,["bpm"]);p!=null&&u(e,["bpm"],p);const g=r(t,["density"]);g!=null&&u(e,["density"],g);const v=r(t,["brightness"]);v!=null&&u(e,["brightness"],v);const h=r(t,["scale"]);h!=null&&u(e,["scale"],h);const x=r(t,["muteBass"]);x!=null&&u(e,["muteBass"],x);const T=r(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=r(t,["onlyBassAndDrums"]);return S!=null&&u(e,["onlyBassAndDrums"],S),e}function TE(t){const e={},a=r(t,["musicGenerationConfig"]);return a!=null&&u(e,["musicGenerationConfig"],Ev(a)),e}function Av(t){const e={},a=r(t,["model"]);return a!=null&&u(e,["model"],a),e}function Nv(t){const e={},a=r(t,["weightedPrompts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>_v(l))),u(e,["weightedPrompts"],o)}return e}function id(t){const e={},a=r(t,["setup"]);a!=null&&u(e,["setup"],Av(a));const o=r(t,["clientContent"]);o!=null&&u(e,["clientContent"],Nv(o));const l=r(t,["musicGenerationConfig"]);l!=null&&u(e,["musicGenerationConfig"],Ev(l));const d=r(t,["playbackControl"]);return d!=null&&u(e,["playbackControl"],d),e}function CE(){return{}}function SE(t){const e={},a=r(t,["sessionId"]);return a!=null&&u(e,["sessionId"],a),e}function bE(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function _E(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function EE(t){const e={},a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function AE(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["data"]);o!=null&&u(e,["data"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function NE(t){const e={},a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wE(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function ME(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],bE(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],EE(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],NE(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function RE(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],_E(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],AE(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],wE(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function DE(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>ME(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function IE(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>RE(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function ly(t){const e={},a=r(t,["text"]);a!=null&&u(e,["text"],a);const o=r(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function ry(t){const e={},a=r(t,["text"]);a!=null&&u(e,["text"],a);const o=r(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function kE(t){const e={},a=r(t,["retrievedUrl"]);a!=null&&u(e,["retrievedUrl"],a);const o=r(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function LE(t){const e={},a=r(t,["urlMetadata"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>kE(l))),u(e,["urlMetadata"],o)}return e}function UE(t){const e={},a=r(t,["modelTurn"]);a!=null&&u(e,["modelTurn"],DE(a));const o=r(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const l=r(t,["interrupted"]);l!=null&&u(e,["interrupted"],l);const d=r(t,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=r(t,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const g=r(t,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],ly(g));const v=r(t,["outputTranscription"]);v!=null&&u(e,["outputTranscription"],ly(v));const h=r(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],LE(h)),e}function PE(t){const e={},a=r(t,["modelTurn"]);a!=null&&u(e,["modelTurn"],IE(a));const o=r(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const l=r(t,["interrupted"]);l!=null&&u(e,["interrupted"],l);const d=r(t,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=r(t,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const g=r(t,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],ry(g));const v=r(t,["outputTranscription"]);return v!=null&&u(e,["outputTranscription"],ry(v)),e}function VE(t){const e={},a=r(t,["id"]);a!=null&&u(e,["id"],a);const o=r(t,["args"]);o!=null&&u(e,["args"],o);const l=r(t,["name"]);return l!=null&&u(e,["name"],l),e}function OE(t){const e={},a=r(t,["args"]);a!=null&&u(e,["args"],a);const o=r(t,["name"]);return o!=null&&u(e,["name"],o),e}function jE(t){const e={},a=r(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>VE(l))),u(e,["functionCalls"],o)}return e}function qE(t){const e={},a=r(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>OE(l))),u(e,["functionCalls"],o)}return e}function zE(t){const e={},a=r(t,["ids"]);return a!=null&&u(e,["ids"],a),e}function GE(t){const e={},a=r(t,["ids"]);return a!=null&&u(e,["ids"],a),e}function Yl(t){const e={},a=r(t,["modality"]);a!=null&&u(e,["modality"],a);const o=r(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Jl(t){const e={},a=r(t,["modality"]);a!=null&&u(e,["modality"],a);const o=r(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function BE(t){const e={},a=r(t,["promptTokenCount"]);a!=null&&u(e,["promptTokenCount"],a);const o=r(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const l=r(t,["responseTokenCount"]);l!=null&&u(e,["responseTokenCount"],l);const d=r(t,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=r(t,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const g=r(t,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const v=r(t,["promptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>Yl(E))),u(e,["promptTokensDetails"],S)}const h=r(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>Yl(E))),u(e,["cacheTokensDetails"],S)}const x=r(t,["responseTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>Yl(E))),u(e,["responseTokensDetails"],S)}const T=r(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Yl(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function FE(t){const e={},a=r(t,["promptTokenCount"]);a!=null&&u(e,["promptTokenCount"],a);const o=r(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const l=r(t,["candidatesTokenCount"]);l!=null&&u(e,["responseTokenCount"],l);const d=r(t,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=r(t,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const g=r(t,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const v=r(t,["promptTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(N=>Jl(N))),u(e,["promptTokensDetails"],E)}const h=r(t,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(N=>Jl(N))),u(e,["cacheTokensDetails"],E)}const x=r(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(N=>Jl(N))),u(e,["responseTokensDetails"],E)}const T=r(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(N=>Jl(N))),u(e,["toolUsePromptTokensDetails"],E)}const S=r(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function HE(t){const e={},a=r(t,["timeLeft"]);return a!=null&&u(e,["timeLeft"],a),e}function YE(t){const e={},a=r(t,["timeLeft"]);return a!=null&&u(e,["timeLeft"],a),e}function JE(t){const e={},a=r(t,["newHandle"]);a!=null&&u(e,["newHandle"],a);const o=r(t,["resumable"]);o!=null&&u(e,["resumable"],o);const l=r(t,["lastConsumedClientMessageIndex"]);return l!=null&&u(e,["lastConsumedClientMessageIndex"],l),e}function $E(t){const e={},a=r(t,["newHandle"]);a!=null&&u(e,["newHandle"],a);const o=r(t,["resumable"]);o!=null&&u(e,["resumable"],o);const l=r(t,["lastConsumedClientMessageIndex"]);return l!=null&&u(e,["lastConsumedClientMessageIndex"],l),e}function ZE(t){const e={};r(t,["setupComplete"])!=null&&u(e,["setupComplete"],CE());const o=r(t,["serverContent"]);o!=null&&u(e,["serverContent"],UE(o));const l=r(t,["toolCall"]);l!=null&&u(e,["toolCall"],jE(l));const d=r(t,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],zE(d));const p=r(t,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],BE(p));const g=r(t,["goAway"]);g!=null&&u(e,["goAway"],HE(g));const v=r(t,["sessionResumptionUpdate"]);return v!=null&&u(e,["sessionResumptionUpdate"],JE(v)),e}function KE(t){const e={},a=r(t,["setupComplete"]);a!=null&&u(e,["setupComplete"],SE(a));const o=r(t,["serverContent"]);o!=null&&u(e,["serverContent"],PE(o));const l=r(t,["toolCall"]);l!=null&&u(e,["toolCall"],qE(l));const d=r(t,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],GE(d));const p=r(t,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],FE(p));const g=r(t,["goAway"]);g!=null&&u(e,["goAway"],YE(g));const v=r(t,["sessionResumptionUpdate"]);return v!=null&&u(e,["sessionResumptionUpdate"],$E(v)),e}function XE(){return{}}function QE(t){const e={},a=r(t,["text"]);a!=null&&u(e,["text"],a);const o=r(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function WE(t){const e={},a=r(t,["weightedPrompts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>QE(l))),u(e,["weightedPrompts"],o)}return e}function eA(t){const e={},a=r(t,["temperature"]);a!=null&&u(e,["temperature"],a);const o=r(t,["topK"]);o!=null&&u(e,["topK"],o);const l=r(t,["seed"]);l!=null&&u(e,["seed"],l);const d=r(t,["guidance"]);d!=null&&u(e,["guidance"],d);const p=r(t,["bpm"]);p!=null&&u(e,["bpm"],p);const g=r(t,["density"]);g!=null&&u(e,["density"],g);const v=r(t,["brightness"]);v!=null&&u(e,["brightness"],v);const h=r(t,["scale"]);h!=null&&u(e,["scale"],h);const x=r(t,["muteBass"]);x!=null&&u(e,["muteBass"],x);const T=r(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=r(t,["onlyBassAndDrums"]);return S!=null&&u(e,["onlyBassAndDrums"],S),e}function tA(t){const e={},a=r(t,["clientContent"]);a!=null&&u(e,["clientContent"],WE(a));const o=r(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],eA(o)),e}function nA(t){const e={},a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const l=r(t,["sourceMetadata"]);return l!=null&&u(e,["sourceMetadata"],tA(l)),e}function aA(t){const e={},a=r(t,["audioChunks"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>nA(l))),u(e,["audioChunks"],o)}return e}function iA(t){const e={},a=r(t,["text"]);a!=null&&u(e,["text"],a);const o=r(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function oA(t){const e={};r(t,["setupComplete"])!=null&&u(e,["setupComplete"],XE());const o=r(t,["serverContent"]);o!=null&&u(e,["serverContent"],aA(o));const l=r(t,["filteredPrompt"]);return l!=null&&u(e,["filteredPrompt"],iA(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sA(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function lA(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function rA(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function uA(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],sA(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],lA(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],rA(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function yr(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>uA(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function cA(t){const e={},a=r(t,["anyOf"]);a!=null&&u(e,["anyOf"],a);const o=r(t,["default"]);o!=null&&u(e,["default"],o);const l=r(t,["description"]);l!=null&&u(e,["description"],l);const d=r(t,["enum"]);d!=null&&u(e,["enum"],d);const p=r(t,["example"]);p!=null&&u(e,["example"],p);const g=r(t,["format"]);g!=null&&u(e,["format"],g);const v=r(t,["items"]);v!=null&&u(e,["items"],v);const h=r(t,["maxItems"]);h!=null&&u(e,["maxItems"],h);const x=r(t,["maxLength"]);x!=null&&u(e,["maxLength"],x);const T=r(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=r(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=r(t,["minItems"]);E!=null&&u(e,["minItems"],E);const N=r(t,["minLength"]);N!=null&&u(e,["minLength"],N);const D=r(t,["minProperties"]);D!=null&&u(e,["minProperties"],D);const G=r(t,["minimum"]);G!=null&&u(e,["minimum"],G);const V=r(t,["nullable"]);V!=null&&u(e,["nullable"],V);const j=r(t,["pattern"]);j!=null&&u(e,["pattern"],j);const P=r(t,["properties"]);P!=null&&u(e,["properties"],P);const K=r(t,["propertyOrdering"]);K!=null&&u(e,["propertyOrdering"],K);const F=r(t,["required"]);F!=null&&u(e,["required"],F);const ie=r(t,["title"]);ie!=null&&u(e,["title"],ie);const Q=r(t,["type"]);return Q!=null&&u(e,["type"],Q),e}function dA(t){const e={};if(r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(t,["category"]);a!=null&&u(e,["category"],a);const o=r(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function fA(t){const e={},a=r(t,["behavior"]);a!=null&&u(e,["behavior"],a);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["name"]);l!=null&&u(e,["name"],l);const d=r(t,["parameters"]);d!=null&&u(e,["parameters"],d);const p=r(t,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=r(t,["response"]);g!=null&&u(e,["response"],g);const v=r(t,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function mA(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function pA(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],mA(a)),e}function hA(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function gA(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],hA(a)),e}function yA(){return{}}function vA(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>fA(h))),u(e,["functionDeclarations"],v)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],pA(o));const l=r(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],gA(l)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&u(e,["urlContext"],yA());const p=r(t,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=r(t,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function xA(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function TA(t){const e={},a=r(t,["latitude"]);a!=null&&u(e,["latitude"],a);const o=r(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function CA(t){const e={},a=r(t,["latLng"]);a!=null&&u(e,["latLng"],TA(a));const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function SA(t){const e={},a=r(t,["functionCallingConfig"]);a!=null&&u(e,["functionCallingConfig"],xA(a));const o=r(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],CA(o)),e}function bA(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function wv(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],bA(a)),e}function _A(t){const e={},a=r(t,["speaker"]);a!=null&&u(e,["speaker"],a);const o=r(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],wv(o)),e}function EA(t){const e={},a=r(t,["speakerVoiceConfigs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>_A(l))),u(e,["speakerVoiceConfigs"],o)}return e}function AA(t){const e={},a=r(t,["voiceConfig"]);a!=null&&u(e,["voiceConfig"],wv(a));const o=r(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],EA(o));const l=r(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function NA(t){const e={},a=r(t,["includeThoughts"]);a!=null&&u(e,["includeThoughts"],a);const o=r(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function wA(t,e,a){const o={},l=r(e,["systemInstruction"]);a!==void 0&&l!=null&&u(a,["systemInstruction"],yr(Ot(l)));const d=r(e,["temperature"]);d!=null&&u(o,["temperature"],d);const p=r(e,["topP"]);p!=null&&u(o,["topP"],p);const g=r(e,["topK"]);g!=null&&u(o,["topK"],g);const v=r(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const h=r(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const T=r(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=r(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=r(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const D=r(e,["seed"]);D!=null&&u(o,["seed"],D);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const V=r(e,["responseSchema"]);V!=null&&u(o,["responseSchema"],cA(Ms(V)));const j=r(e,["responseJsonSchema"]);if(j!=null&&u(o,["responseJsonSchema"],j),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=r(e,["safetySettings"]);if(a!==void 0&&P!=null){let ue=P;Array.isArray(ue)&&(ue=ue.map(Me=>dA(Me))),u(a,["safetySettings"],ue)}const K=r(e,["tools"]);if(a!==void 0&&K!=null){let ue=xo(K);Array.isArray(ue)&&(ue=ue.map(Me=>vA(vo(Me)))),u(a,["tools"],ue)}const F=r(e,["toolConfig"]);if(a!==void 0&&F!=null&&u(a,["toolConfig"],SA(F)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=r(e,["cachedContent"]);a!==void 0&&ie!=null&&u(a,["cachedContent"],ca(t,ie));const Q=r(e,["responseModalities"]);Q!=null&&u(o,["responseModalities"],Q);const Te=r(e,["mediaResolution"]);Te!=null&&u(o,["mediaResolution"],Te);const te=r(e,["speechConfig"]);if(te!=null&&u(o,["speechConfig"],AA(Cd(te))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(e,["thinkingConfig"]);return de!=null&&u(o,["thinkingConfig"],NA(de)),o}function uy(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>yr(g))),u(a,["contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["generationConfig"],wA(t,d,a)),a}function MA(t,e){const a={},o=r(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const l=r(t,["title"]);e!==void 0&&l!=null&&u(e,["requests[]","title"],l);const d=r(t,["outputDimensionality"]);if(e!==void 0&&d!=null&&u(e,["requests[]","outputDimensionality"],d),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function RA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);l!=null&&u(a,["requests[]","content"],dv(t,l));const d=r(e,["config"]);d!=null&&u(a,["config"],MA(d,a));const p=r(e,["model"]);return p!==void 0&&u(a,["requests[]","model"],tt(t,p)),a}function DA(t,e){const a={};if(r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const l=r(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const d=r(t,["guidanceScale"]);if(e!==void 0&&d!=null&&u(e,["parameters","guidanceScale"],d),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=r(t,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const v=r(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&u(e,["parameters","includeSafetyAttributes"],v);const h=r(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const x=r(t,["language"]);e!==void 0&&x!=null&&u(e,["parameters","language"],x);const T=r(t,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const S=r(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),r(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function IA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["prompt"]);l!=null&&u(a,["instances[0]","prompt"],l);const d=r(e,["config"]);return d!=null&&u(a,["config"],DA(d,a)),a}function kA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","name"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function LA(t,e,a){const o={},l=r(e,["pageSize"]);a!==void 0&&l!=null&&u(a,["_query","pageSize"],l);const d=r(e,["pageToken"]);a!==void 0&&d!=null&&u(a,["_query","pageToken"],d);const p=r(e,["filter"]);a!==void 0&&p!=null&&u(a,["_query","filter"],p);const g=r(e,["queryBase"]);return a!==void 0&&g!=null&&u(a,["_url","models_url"],pv(t,g)),o}function UA(t,e){const a={},o=r(e,["config"]);return o!=null&&u(a,["config"],LA(t,o,a)),a}function PA(t,e){const a={},o=r(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=r(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const d=r(t,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),a}function VA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","name"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],PA(l,a)),a}function OA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","name"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function jA(t){const e={};if(r(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>yr(g))),u(a,["contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["config"],jA(d)),a}function zA(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=r(t,["imageBytes"]);a!=null&&u(e,["bytesBase64Encoded"],da(a));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function GA(t,e){const a={},o=r(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=r(t,["durationSeconds"]);if(e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(t,["aspectRatio"]);if(e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d),r(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const p=r(t,["personGeneration"]);if(e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p),r(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=r(t,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const v=r(t,["enhancePrompt"]);if(e!==void 0&&v!=null&&u(e,["parameters","enhancePrompt"],v),r(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function BA(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["prompt"]);l!=null&&u(a,["instances[0]","prompt"],l);const d=r(e,["image"]);if(d!=null&&u(a,["instances[0]","image"],zA(d)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=r(e,["config"]);return p!=null&&u(a,["config"],GA(p,a)),a}function FA(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function HA(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["data"]);o!=null&&u(e,["data"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function YA(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function JA(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],FA(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],HA(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],YA(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function Co(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>JA(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function $A(t){const e={},a=r(t,["anyOf"]);a!=null&&u(e,["anyOf"],a);const o=r(t,["default"]);o!=null&&u(e,["default"],o);const l=r(t,["description"]);l!=null&&u(e,["description"],l);const d=r(t,["enum"]);d!=null&&u(e,["enum"],d);const p=r(t,["example"]);p!=null&&u(e,["example"],p);const g=r(t,["format"]);g!=null&&u(e,["format"],g);const v=r(t,["items"]);v!=null&&u(e,["items"],v);const h=r(t,["maxItems"]);h!=null&&u(e,["maxItems"],h);const x=r(t,["maxLength"]);x!=null&&u(e,["maxLength"],x);const T=r(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=r(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=r(t,["minItems"]);E!=null&&u(e,["minItems"],E);const N=r(t,["minLength"]);N!=null&&u(e,["minLength"],N);const D=r(t,["minProperties"]);D!=null&&u(e,["minProperties"],D);const G=r(t,["minimum"]);G!=null&&u(e,["minimum"],G);const V=r(t,["nullable"]);V!=null&&u(e,["nullable"],V);const j=r(t,["pattern"]);j!=null&&u(e,["pattern"],j);const P=r(t,["properties"]);P!=null&&u(e,["properties"],P);const K=r(t,["propertyOrdering"]);K!=null&&u(e,["propertyOrdering"],K);const F=r(t,["required"]);F!=null&&u(e,["required"],F);const ie=r(t,["title"]);ie!=null&&u(e,["title"],ie);const Q=r(t,["type"]);return Q!=null&&u(e,["type"],Q),e}function ZA(t){const e={},a=r(t,["featureSelectionPreference"]);return a!=null&&u(e,["featureSelectionPreference"],a),e}function KA(t){const e={},a=r(t,["method"]);a!=null&&u(e,["method"],a);const o=r(t,["category"]);o!=null&&u(e,["category"],o);const l=r(t,["threshold"]);return l!=null&&u(e,["threshold"],l),e}function XA(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=r(t,["description"]);a!=null&&u(e,["description"],a);const o=r(t,["name"]);o!=null&&u(e,["name"],o);const l=r(t,["parameters"]);l!=null&&u(e,["parameters"],l);const d=r(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=r(t,["response"]);p!=null&&u(e,["response"],p);const g=r(t,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function QA(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function WA(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],QA(a)),e}function eN(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function tN(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],eN(a)),e}function nN(){return{}}function aN(t){const e={},a=r(t,["apiKeyString"]);return a!=null&&u(e,["apiKeyString"],a),e}function iN(t){const e={},a=r(t,["apiKeyConfig"]);a!=null&&u(e,["apiKeyConfig"],aN(a));const o=r(t,["authType"]);o!=null&&u(e,["authType"],o);const l=r(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const d=r(t,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=r(t,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=r(t,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function oN(t){const e={},a=r(t,["authConfig"]);return a!=null&&u(e,["authConfig"],iN(a)),e}function sN(){return{}}function Mv(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(S=>XA(S))),u(e,["functionDeclarations"],T)}const o=r(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const l=r(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],WA(l));const d=r(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],tN(d)),r(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],nN());const g=r(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],oN(g)),r(t,["urlContext"])!=null&&u(e,["urlContext"],sN());const h=r(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const x=r(t,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function lN(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function rN(t){const e={},a=r(t,["latitude"]);a!=null&&u(e,["latitude"],a);const o=r(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function uN(t){const e={},a=r(t,["latLng"]);a!=null&&u(e,["latLng"],rN(a));const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function cN(t){const e={},a=r(t,["functionCallingConfig"]);a!=null&&u(e,["functionCallingConfig"],lN(a));const o=r(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],uN(o)),e}function dN(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function fN(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],dN(a)),e}function mN(t){const e={},a=r(t,["voiceConfig"]);if(a!=null&&u(e,["voiceConfig"],fN(a)),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function pN(t){const e={},a=r(t,["includeThoughts"]);a!=null&&u(e,["includeThoughts"],a);const o=r(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function hN(t,e,a){const o={},l=r(e,["systemInstruction"]);a!==void 0&&l!=null&&u(a,["systemInstruction"],Co(Ot(l)));const d=r(e,["temperature"]);d!=null&&u(o,["temperature"],d);const p=r(e,["topP"]);p!=null&&u(o,["topP"],p);const g=r(e,["topK"]);g!=null&&u(o,["topK"],g);const v=r(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const h=r(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const T=r(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=r(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=r(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const D=r(e,["seed"]);D!=null&&u(o,["seed"],D);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const V=r(e,["responseSchema"]);V!=null&&u(o,["responseSchema"],$A(Ms(V)));const j=r(e,["responseJsonSchema"]);j!=null&&u(o,["responseJsonSchema"],j);const P=r(e,["routingConfig"]);P!=null&&u(o,["routingConfig"],P);const K=r(e,["modelSelectionConfig"]);K!=null&&u(o,["modelConfig"],ZA(K));const F=r(e,["safetySettings"]);if(a!==void 0&&F!=null){let be=F;Array.isArray(be)&&(be=be.map(q=>KA(q))),u(a,["safetySettings"],be)}const ie=r(e,["tools"]);if(a!==void 0&&ie!=null){let be=xo(ie);Array.isArray(be)&&(be=be.map(q=>Mv(vo(q)))),u(a,["tools"],be)}const Q=r(e,["toolConfig"]);a!==void 0&&Q!=null&&u(a,["toolConfig"],cN(Q));const Te=r(e,["labels"]);a!==void 0&&Te!=null&&u(a,["labels"],Te);const te=r(e,["cachedContent"]);a!==void 0&&te!=null&&u(a,["cachedContent"],ca(t,te));const de=r(e,["responseModalities"]);de!=null&&u(o,["responseModalities"],de);const ue=r(e,["mediaResolution"]);ue!=null&&u(o,["mediaResolution"],ue);const Me=r(e,["speechConfig"]);Me!=null&&u(o,["speechConfig"],mN(Cd(Me)));const ut=r(e,["audioTimestamp"]);ut!=null&&u(o,["audioTimestamp"],ut);const me=r(e,["thinkingConfig"]);return me!=null&&u(o,["thinkingConfig"],pN(me)),o}function cy(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>Co(g))),u(a,["contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["generationConfig"],hN(t,d,a)),a}function gN(t,e){const a={},o=r(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const l=r(t,["title"]);e!==void 0&&l!=null&&u(e,["instances[]","title"],l);const d=r(t,["outputDimensionality"]);e!==void 0&&d!=null&&u(e,["parameters","outputDimensionality"],d);const p=r(t,["mimeType"]);e!==void 0&&p!=null&&u(e,["instances[]","mimeType"],p);const g=r(t,["autoTruncate"]);return e!==void 0&&g!=null&&u(e,["parameters","autoTruncate"],g),a}function yN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);l!=null&&u(a,["instances[]","content"],dv(t,l));const d=r(e,["config"]);return d!=null&&u(a,["config"],gN(d,a)),a}function vN(t,e){const a={},o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const l=r(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const d=r(t,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=r(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const g=r(t,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const v=r(t,["seed"]);e!==void 0&&v!=null&&u(e,["parameters","seed"],v);const h=r(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const x=r(t,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const T=r(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=r(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=r(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const N=r(t,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const D=r(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const G=r(t,["addWatermark"]);e!==void 0&&G!=null&&u(e,["parameters","addWatermark"],G);const V=r(t,["enhancePrompt"]);return e!==void 0&&V!=null&&u(e,["parameters","enhancePrompt"],V),a}function xN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["prompt"]);l!=null&&u(a,["instances[0]","prompt"],l);const d=r(e,["config"]);return d!=null&&u(a,["config"],vN(d,a)),a}function vr(t){const e={},a=r(t,["gcsUri"]);a!=null&&u(e,["gcsUri"],a);const o=r(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],da(o));const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function TN(t){const e={},a=r(t,["maskMode"]);a!=null&&u(e,["maskMode"],a);const o=r(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const l=r(t,["maskDilation"]);return l!=null&&u(e,["dilation"],l),e}function CN(t){const e={},a=r(t,["controlType"]);a!=null&&u(e,["controlType"],a);const o=r(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function SN(t){const e={},a=r(t,["styleDescription"]);return a!=null&&u(e,["styleDescription"],a),e}function bN(t){const e={},a=r(t,["subjectType"]);a!=null&&u(e,["subjectType"],a);const o=r(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function _N(t){const e={},a=r(t,["referenceImage"]);a!=null&&u(e,["referenceImage"],vr(a));const o=r(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const l=r(t,["referenceType"]);l!=null&&u(e,["referenceType"],l);const d=r(t,["maskImageConfig"]);d!=null&&u(e,["maskImageConfig"],TN(d));const p=r(t,["controlImageConfig"]);p!=null&&u(e,["controlImageConfig"],CN(p));const g=r(t,["styleImageConfig"]);g!=null&&u(e,["styleImageConfig"],SN(g));const v=r(t,["subjectImageConfig"]);return v!=null&&u(e,["subjectImageConfig"],bN(v)),e}function EN(t,e){const a={},o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const l=r(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const d=r(t,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=r(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const g=r(t,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const v=r(t,["seed"]);e!==void 0&&v!=null&&u(e,["parameters","seed"],v);const h=r(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const x=r(t,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const T=r(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=r(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=r(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const N=r(t,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const D=r(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const G=r(t,["editMode"]);e!==void 0&&G!=null&&u(e,["parameters","editMode"],G);const V=r(t,["baseSteps"]);return e!==void 0&&V!=null&&u(e,["parameters","editConfig","baseSteps"],V),a}function AN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["prompt"]);l!=null&&u(a,["instances[0]","prompt"],l);const d=r(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>_N(v))),u(a,["instances[0]","referenceImages"],g)}const p=r(e,["config"]);return p!=null&&u(a,["config"],EN(p,a)),a}function NN(t,e){const a={},o=r(t,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const l=r(t,["outputMimeType"]);e!==void 0&&l!=null&&u(e,["parameters","outputOptions","mimeType"],l);const d=r(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const p=r(t,["enhanceInputImage"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],p);const g=r(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=r(t,["numberOfImages"]);e!==void 0&&v!=null&&u(e,["parameters","sampleCount"],v);const h=r(t,["mode"]);return e!==void 0&&h!=null&&u(e,["parameters","mode"],h),a}function wN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["image"]);l!=null&&u(a,["instances[0]","image"],vr(l));const d=r(e,["upscaleFactor"]);d!=null&&u(a,["parameters","upscaleConfig","upscaleFactor"],d);const p=r(e,["config"]);return p!=null&&u(a,["config"],NN(p,a)),a}function MN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","name"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function RN(t,e,a){const o={},l=r(e,["pageSize"]);a!==void 0&&l!=null&&u(a,["_query","pageSize"],l);const d=r(e,["pageToken"]);a!==void 0&&d!=null&&u(a,["_query","pageToken"],d);const p=r(e,["filter"]);a!==void 0&&p!=null&&u(a,["_query","filter"],p);const g=r(e,["queryBase"]);return a!==void 0&&g!=null&&u(a,["_url","models_url"],pv(t,g)),o}function DN(t,e){const a={},o=r(e,["config"]);return o!=null&&u(a,["config"],RN(t,o,a)),a}function IN(t,e){const a={},o=r(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=r(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const d=r(t,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),a}function kN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],IN(l,a)),a}function LN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","name"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],l),a}function UN(t,e){const a={},o=r(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Co(Ot(o)));const l=r(t,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>Mv(g))),u(e,["tools"],p)}const d=r(t,["generationConfig"]);return e!==void 0&&d!=null&&u(e,["generationConfig"],d),a}function PN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>Co(g))),u(a,["contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["config"],UN(d,a)),a}function VN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(g=>Co(g))),u(a,["contents"],p)}const d=r(e,["config"]);return d!=null&&u(a,["config"],d),a}function ON(t){const e={},a=r(t,["uri"]);a!=null&&u(e,["gcsUri"],a);const o=r(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],da(o));const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function jN(t,e){const a={},o=r(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const l=r(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const d=r(t,["fps"]);e!==void 0&&d!=null&&u(e,["parameters","fps"],d);const p=r(t,["durationSeconds"]);e!==void 0&&p!=null&&u(e,["parameters","durationSeconds"],p);const g=r(t,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const v=r(t,["aspectRatio"]);e!==void 0&&v!=null&&u(e,["parameters","aspectRatio"],v);const h=r(t,["resolution"]);e!==void 0&&h!=null&&u(e,["parameters","resolution"],h);const x=r(t,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const T=r(t,["pubsubTopic"]);e!==void 0&&T!=null&&u(e,["parameters","pubsubTopic"],T);const S=r(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=r(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const N=r(t,["generateAudio"]);e!==void 0&&N!=null&&u(e,["parameters","generateAudio"],N);const D=r(t,["lastFrame"]);e!==void 0&&D!=null&&u(e,["instances[0]","lastFrame"],vr(D));const G=r(t,["compressionQuality"]);return e!==void 0&&G!=null&&u(e,["parameters","compressionQuality"],G),a}function qN(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["_url","model"],tt(t,o));const l=r(e,["prompt"]);l!=null&&u(a,["instances[0]","prompt"],l);const d=r(e,["image"]);d!=null&&u(a,["instances[0]","image"],vr(d));const p=r(e,["video"]);p!=null&&u(a,["instances[0]","video"],ON(p));const g=r(e,["config"]);return g!=null&&u(a,["config"],jN(g,a)),a}function zN(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function GN(t){const e={},a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function BN(t){const e={},a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function FN(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],zN(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],GN(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],BN(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function HN(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>FN(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function YN(t){const e={},a=r(t,["citationSources"]);return a!=null&&u(e,["citations"],a),e}function JN(t){const e={},a=r(t,["retrievedUrl"]);a!=null&&u(e,["retrievedUrl"],a);const o=r(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function $N(t){const e={},a=r(t,["urlMetadata"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>JN(l))),u(e,["urlMetadata"],o)}return e}function ZN(t){const e={},a=r(t,["content"]);a!=null&&u(e,["content"],HN(a));const o=r(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],YN(o));const l=r(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const d=r(t,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=r(t,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],$N(p));const g=r(t,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const v=r(t,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const h=r(t,["index"]);h!=null&&u(e,["index"],h);const x=r(t,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const T=r(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function dy(t){const e={},a=r(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>ZN(g))),u(e,["candidates"],p)}const o=r(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=r(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const d=r(t,["usageMetadata"]);return d!=null&&u(e,["usageMetadata"],d),e}function KN(t){const e={},a=r(t,["values"]);return a!=null&&u(e,["values"],a),e}function XN(){return{}}function QN(t){const e={},a=r(t,["embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>KN(d))),u(e,["embeddings"],l)}return r(t,["metadata"])!=null&&u(e,["metadata"],XN()),e}function WN(t){const e={},a=r(t,["bytesBase64Encoded"]);a!=null&&u(e,["imageBytes"],da(a));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Rv(t){const e={},a=r(t,["safetyAttributes","categories"]);a!=null&&u(e,["categories"],a);const o=r(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const l=r(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function e2(t){const e={},a=r(t,["_self"]);a!=null&&u(e,["image"],WN(a));const o=r(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const l=r(t,["_self"]);return l!=null&&u(e,["safetyAttributes"],Rv(l)),e}function t2(t){const e={},a=r(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>e2(d))),u(e,["generatedImages"],l)}const o=r(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Rv(o)),e}function n2(t){const e={},a=r(t,["baseModel"]);a!=null&&u(e,["baseModel"],a);const o=r(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=r(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function od(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["description"]);l!=null&&u(e,["description"],l);const d=r(t,["version"]);d!=null&&u(e,["version"],d);const p=r(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],n2(p));const g=r(t,["inputTokenLimit"]);g!=null&&u(e,["inputTokenLimit"],g);const v=r(t,["outputTokenLimit"]);v!=null&&u(e,["outputTokenLimit"],v);const h=r(t,["supportedGenerationMethods"]);return h!=null&&u(e,["supportedActions"],h),e}function a2(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["_self"]);if(o!=null){let l=hv(o);Array.isArray(l)&&(l=l.map(d=>od(d))),u(e,["models"],l)}return e}function i2(){return{}}function o2(t){const e={},a=r(t,["totalTokens"]);a!=null&&u(e,["totalTokens"],a);const o=r(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function s2(t){const e={},a=r(t,["video","uri"]);a!=null&&u(e,["uri"],a);const o=r(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],da(o));const l=r(t,["encoding"]);return l!=null&&u(e,["mimeType"],l),e}function l2(t){const e={},a=r(t,["_self"]);return a!=null&&u(e,["video"],s2(a)),e}function r2(t){const e={},a=r(t,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>l2(p))),u(e,["generatedVideos"],d)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const l=r(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function u2(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata"]);o!=null&&u(e,["metadata"],o);const l=r(t,["done"]);l!=null&&u(e,["done"],l);const d=r(t,["error"]);d!=null&&u(e,["error"],d);const p=r(t,["response","generateVideoResponse"]);return p!=null&&u(e,["response"],r2(p)),e}function c2(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function d2(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["data"]);o!=null&&u(e,["data"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function f2(t){const e={},a=r(t,["displayName"]);a!=null&&u(e,["displayName"],a);const o=r(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function m2(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],c2(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],d2(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],f2(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function p2(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>m2(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function h2(t){const e={},a=r(t,["citations"]);return a!=null&&u(e,["citations"],a),e}function g2(t){const e={},a=r(t,["retrievedUrl"]);a!=null&&u(e,["retrievedUrl"],a);const o=r(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function y2(t){const e={},a=r(t,["urlMetadata"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>g2(l))),u(e,["urlMetadata"],o)}return e}function v2(t){const e={},a=r(t,["content"]);a!=null&&u(e,["content"],p2(a));const o=r(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],h2(o));const l=r(t,["finishMessage"]);l!=null&&u(e,["finishMessage"],l);const d=r(t,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=r(t,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],y2(p));const g=r(t,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const v=r(t,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const h=r(t,["index"]);h!=null&&u(e,["index"],h);const x=r(t,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const T=r(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function fy(t){const e={},a=r(t,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>v2(h))),u(e,["candidates"],v)}const o=r(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=r(t,["responseId"]);l!=null&&u(e,["responseId"],l);const d=r(t,["modelVersion"]);d!=null&&u(e,["modelVersion"],d);const p=r(t,["promptFeedback"]);p!=null&&u(e,["promptFeedback"],p);const g=r(t,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function x2(t){const e={},a=r(t,["truncated"]);a!=null&&u(e,["truncated"],a);const o=r(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function T2(t){const e={},a=r(t,["values"]);a!=null&&u(e,["values"],a);const o=r(t,["statistics"]);return o!=null&&u(e,["statistics"],x2(o)),e}function C2(t){const e={},a=r(t,["billableCharacterCount"]);return a!=null&&u(e,["billableCharacterCount"],a),e}function S2(t){const e={},a=r(t,["predictions[]","embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>T2(d))),u(e,["embeddings"],l)}const o=r(t,["metadata"]);return o!=null&&u(e,["metadata"],C2(o)),e}function b2(t){const e={},a=r(t,["gcsUri"]);a!=null&&u(e,["gcsUri"],a);const o=r(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],da(o));const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function Dv(t){const e={},a=r(t,["safetyAttributes","categories"]);a!=null&&u(e,["categories"],a);const o=r(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const l=r(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function bd(t){const e={},a=r(t,["_self"]);a!=null&&u(e,["image"],b2(a));const o=r(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const l=r(t,["_self"]);l!=null&&u(e,["safetyAttributes"],Dv(l));const d=r(t,["prompt"]);return d!=null&&u(e,["enhancedPrompt"],d),e}function _2(t){const e={},a=r(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>bd(d))),u(e,["generatedImages"],l)}const o=r(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Dv(o)),e}function E2(t){const e={},a=r(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>bd(l))),u(e,["generatedImages"],o)}return e}function A2(t){const e={},a=r(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>bd(l))),u(e,["generatedImages"],o)}return e}function N2(t){const e={},a=r(t,["endpoint"]);a!=null&&u(e,["name"],a);const o=r(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function w2(t){const e={},a=r(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&u(e,["baseModel"],a);const o=r(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=r(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function M2(t){const e={},a=r(t,["checkpointId"]);a!=null&&u(e,["checkpointId"],a);const o=r(t,["epoch"]);o!=null&&u(e,["epoch"],o);const l=r(t,["step"]);return l!=null&&u(e,["step"],l),e}function sd(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["displayName"]);o!=null&&u(e,["displayName"],o);const l=r(t,["description"]);l!=null&&u(e,["description"],l);const d=r(t,["versionId"]);d!=null&&u(e,["version"],d);const p=r(t,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>N2(S))),u(e,["endpoints"],T)}const g=r(t,["labels"]);g!=null&&u(e,["labels"],g);const v=r(t,["_self"]);v!=null&&u(e,["tunedModelInfo"],w2(v));const h=r(t,["defaultCheckpointId"]);h!=null&&u(e,["defaultCheckpointId"],h);const x=r(t,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(S=>M2(S))),u(e,["checkpoints"],T)}return e}function R2(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["_self"]);if(o!=null){let l=hv(o);Array.isArray(l)&&(l=l.map(d=>sd(d))),u(e,["models"],l)}return e}function D2(){return{}}function I2(t){const e={},a=r(t,["totalTokens"]);return a!=null&&u(e,["totalTokens"],a),e}function k2(t){const e={},a=r(t,["tokensInfo"]);return a!=null&&u(e,["tokensInfo"],a),e}function L2(t){const e={},a=r(t,["gcsUri"]);a!=null&&u(e,["uri"],a);const o=r(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],da(o));const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function U2(t){const e={},a=r(t,["_self"]);return a!=null&&u(e,["video"],L2(a)),e}function P2(t){const e={},a=r(t,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>U2(p))),u(e,["generatedVideos"],d)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const l=r(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function V2(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata"]);o!=null&&u(e,["metadata"],o);const l=r(t,["done"]);l!=null&&u(e,["done"],l);const d=r(t,["error"]);d!=null&&u(e,["error"],d);const p=r(t,["response"]);return p!=null&&u(e,["response"],P2(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O2="Content-Type",j2="X-Server-Timeout",q2="User-Agent",ld="x-goog-api-client",z2="1.8.0",G2=`google-genai-sdk/${z2}`,B2="v1beta1",F2="v1beta",my=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class H2{constructor(e){var a,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:B2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:F2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),a=new URL(e);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,a,o){const l=[this.getRequestUrlInternal(a)];return o&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,a,o);if(e.queryParams)for(const[p,g]of Object.entries(e.queryParams))l.searchParams.append(p,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,a,e.abortSignal),this.unaryApiCall(l,d,e.httpMethod)}patchHttpOptions(e,a){const o=JSON.parse(JSON.stringify(e));for(const[l,d]of Object.entries(a))typeof d=="object"?o[l]=Object.assign(Object.assign({},o[l]),d):d!==void 0&&(o[l]=d);return o}async requestStream(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,a,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,a,e.abortSignal),this.streamApiCall(l,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,a,o){if(a&&a.timeout||o){const l=new AbortController,d=l.signal;a.timeout&&(a==null?void 0:a.timeout)>0&&setTimeout(()=>l.abort(),a.timeout),o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=d}return a&&a.extraBody!==null&&Y2(e,a.extraBody),e.headers=await this.getHeadersInternal(a),e}async unaryApiCall(e,a,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:o})).then(async l=>(await py(l),new Wc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,a,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:o})).then(async l=>(await py(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var a;return ro(this,arguments,function*(){const l=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield rt(l.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(v);try{const T=JSON.parse(h);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),E=S.status,N=S.code,D=`got status: ${E}. ${JSON.stringify(T)}`;if(N>=400&&N<600)throw new gr({message:D,status:N})}}catch(T){if(T.name==="ApiError")throw T}p+=h;let x=p.match(my);for(;x;){const T=x[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rt(new Wc(S)),p=p.slice(x[0].length),x=p.match(my)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{l.releaseLock()}})}async apiCall(e,a){return fetch(e,a).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},a=G2+" "+this.clientOptions.userAgentExtra;return e[q2]=a,e[ld]=a,e[O2]="application/json",e}async getHeadersInternal(e){const a=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))a.append(o,l);e.timeout&&e.timeout>0&&a.append(j2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a),a}async uploadFile(e,a){var o;const l={};a!=null&&(l.mimeType=a.mimeType,l.name=a.name,l.displayName=a.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const d=this.clientOptions.uploader,p=await d.stat(e);l.sizeBytes=String(p.size);const g=(o=a==null?void 0:a.mimeType)!==null&&o!==void 0?o:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=g;const v=await this.fetchUploadUrl(l,a);return d.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,a){var o;let l={};a!=null&&a.httpOptions?l=a.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},p=await this.request({path:ve("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:l});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(o=p==null?void 0:p.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function py(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const a=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(o);throw a>=400&&a<600?new gr({message:l,status:a}):new Error(l)}}function Y2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof t.body=="string"&&t.body.length>0)try{const d=JSON.parse(t.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))a=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(d,p){const g=Object.assign({},d);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const h=p[v],x=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?g[v]=o(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const l=o(a,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J2="mcp_used/unknown";function Iv(t){for(const e of t)if(_d(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function kv(t){var e;const a=(e=t[ld])!==null&&e!==void 0?e:"";t[ld]=(a+` ${J2}`).trimStart()}function $2(t){var e,a,o;return(o=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(l=>_d(l)))!==null&&o!==void 0?o:!1}function Z2(t){var e,a,o;return(o=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(l=>!_d(l)))!==null&&o!==void 0?o:!1}function _d(t){return t!==null&&typeof t=="object"&&t instanceof Ed}function K2(t,e=100){return ro(this,arguments,function*(){let o,l=0;for(;l<e;){const d=yield rt(t.listTools({cursor:o}));for(const p of d.tools)yield yield rt(p),l++;if(!d.nextCursor)break;o=d.nextCursor}})}class Ed{constructor(e=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=a}static create(e,a){return new Ed(e,a)}async initialize(){var e,a,o,l;if(this.mcpTools.length>0)return;const d={},p=[];for(const x of this.mcpClients)try{for(var g=!0,v=(a=void 0,As(K2(x))),h;h=await v.next(),e=h.done,!e;g=!0){l=h.value,g=!1;const T=l;p.push(T);const S=T.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=x}}catch(T){a={error:T}}finally{try{!g&&!e&&(o=v.return)&&await o.call(v)}finally{if(a)throw a.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),BS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const a=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[o.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await l.callTool({name:o.name,arguments:o.args},void 0,d);a.push({functionResponse:{name:o.name,response:p.isError?{error:p}:p}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function X2(t,e,a){const o=new IS;let l;a.data instanceof Blob?l=JSON.parse(await a.data.text()):l=JSON.parse(a.data);const d=oA(l);Object.assign(o,d),e(o)}class Q2{constructor(e,a,o){this.apiClient=e,this.auth=a,this.webSocketFactory=o}async connect(e){var a,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=tw(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${l}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const x=new Promise(P=>{h=P}),T=e.callbacks,S=function(){h({})},E=this.apiClient,N={onopen:S,onmessage:P=>{X2(E,T.onmessage,P)},onerror:(a=T==null?void 0:T.onerror)!==null&&a!==void 0?a:function(P){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(P){}},D=this.webSocketFactory.create(v,ew(p),N);D.connect(),await x;const G=tt(this.apiClient,e.model),V=Av({model:G}),j=id({setup:V});return D.send(JSON.stringify(j)),new W2(D,this.apiClient)}}class W2{constructor(e,a){this.conn=e,this.apiClient=a}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=xE(e),o=Nv(a);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const a=TE(e),o=id(a);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const a=id({playbackControl:e});this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(so.PLAY)}pause(){this.sendPlaybackControl(so.PAUSE)}stop(){this.sendPlaybackControl(so.STOP)}resetContext(){this.sendPlaybackControl(so.RESET_CONTEXT)}close(){this.conn.close()}}function ew(t){const e={};return t.forEach((a,o)=>{e[o]=a}),e}function tw(t){const e=new Headers;for(const[a,o]of Object.entries(t))e.append(a,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aw(t,e,a){const o=new DS;let l;a.data instanceof Blob?l=await a.data.text():a.data instanceof ArrayBuffer?l=new TextDecoder().decode(a.data):l=a.data;const d=JSON.parse(l);if(t.isVertexAI()){const p=KE(d);Object.assign(o,p)}else{const p=ZE(d);Object.assign(o,p)}e(o)}class iw{constructor(e,a,o){this.apiClient=e,this.auth=a,this.webSocketFactory=o,this.music=new Q2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var a,o,l,d,p,g;const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Iv(e.config.tools)&&kv(T);const S=rw(T);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const te=this.apiClient.getApiKey();let de="BidiGenerateContent",ue="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),de="BidiGenerateContentConstrained",ue="access_token"),x=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${ue}=${te}`}let E=()=>{};const N=new Promise(te=>{E=te}),D=e.callbacks,G=function(){var te;(te=D==null?void 0:D.onopen)===null||te===void 0||te.call(D),E({})},V=this.apiClient,j={onopen:G,onmessage:te=>{aw(V,D.onmessage,te)},onerror:(a=D==null?void 0:D.onerror)!==null&&a!==void 0?a:function(te){},onclose:(o=D==null?void 0:D.onclose)!==null&&o!==void 0?o:function(te){}},P=this.webSocketFactory.create(x,lw(S),j);P.connect(),await N;let K=tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const te=this.apiClient.getProject(),de=this.apiClient.getLocation();K=`projects/${te}/locations/${de}/`+K}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[dr.AUDIO]}:e.config.responseModalities=[dr.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Q=[];for(const te of ie)if(this.isCallableTool(te)){const de=te;Q.push(await de.tool())}else Q.push(te);Q.length>0&&(e.config.tools=Q);const Te={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=fE(this.apiClient,Te):F=dE(this.apiClient,Te),delete F.config,P.send(JSON.stringify(F)),new sw(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ow={turnComplete:!0};class sw{constructor(e,a){this.conn=e,this.apiClient=a}tLiveClientContent(e,a){if(a.turns!==null&&a.turns!==void 0){let o=[];try{o=yn(a.turns),e.isVertexAI()?o=o.map(l=>Co(l)):o=o.map(l=>yr(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:o,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(e,a){let o=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?o=a.functionResponses:o=[a.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const d of o){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(nw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},ow),e);const a=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(a))}sendRealtimeInput(e){let a={};this.apiClient.isVertexAI()?a={realtimeInput:vE(e)}:a={realtimeInput:yE(e)},this.conn.send(JSON.stringify(a))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function lw(t){const e={};return t.forEach((a,o)=>{e[o]=a}),e}function rw(t){const e=new Headers;for(const[a,o]of Object.entries(t))e.append(a,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hy=10;function gy(t){var e,a,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const p of(a=t==null?void 0:t.tools)!==null&&a!==void 0?a:[])if(er(p)){l=!0;break}if(!l)return!0;const d=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function er(t){return"callTool"in t&&typeof t.callTool=="function"}function yy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uw extends yi{constructor(e){super(),this.apiClient=e,this.generateContent=async a=>{var o,l,d,p,g;const v=await this.processParamsForMcpUsage(a);if(!$2(a)||gy(a.config))return await this.generateContentInternal(v);if(Z2(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,x;const T=yn(v.contents),S=(d=(l=(o=v.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&d!==void 0?d:hy;let E=0;for(;E<S&&(h=await this.generateContentInternal(v),!(!h.functionCalls||h.functionCalls.length===0));){const N=h.candidates[0].content,D=[];for(const G of(g=(p=a.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(er(G)){const j=await G.callTool(h.functionCalls);D.push(...j)}E++,x={role:"user",parts:D},v.contents=yn(v.contents),v.contents.push(N),v.contents.push(x),yy(v.config)&&(T.push(N),T.push(x))}return yy(v.config)&&(h.automaticFunctionCallingHistory=T),h},this.generateContentStream=async a=>{if(gy(a.config)){const o=await this.processParamsForMcpUsage(a);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(o=>{var l;let d;const p=[];if(o!=null&&o.generatedImages)for(const v of o.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((l=v==null?void 0:v.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:p.push(v);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d}:g={generatedImages:p},g}),this.list=async a=>{var o;const p={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((o=p.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Is(hi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async a=>{const o={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(o.referenceImages=a.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async a=>{let o={numberOfImages:1,mode:"upscale"};a.config&&(o=Object.assign(Object.assign({},o),a.config));const l={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:o};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var a,o,l;const d=(a=e.config)===null||a===void 0?void 0:a.tools;if(!d)return e;const p=await Promise.all(d.map(async v=>er(v)?await v.tool():v)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(g.config.tools=p,e.config&&e.config.tools&&Iv(e.config.tools)){const v=(l=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),kv(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var a,o,l;const d=new Map;for(const p of(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(er(p)){const g=p,v=await g.tool();for(const h of(l=v.functionDeclarations)!==null&&l!==void 0?l:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var a,o,l;const d=(l=(o=(a=e.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:hy;let p=!1,g=0;const v=await this.initAfcToolsMap(e);return function(h,x,T){var S,E;return ro(this,arguments,function*(){for(var N,D,G,V;g<d;){p&&(g++,p=!1);const F=yield rt(h.processParamsForMcpUsage(T)),ie=yield rt(h.generateContentStreamInternal(F)),Q=[],Te=[];try{for(var j=!0,P=(D=void 0,As(ie)),K;K=yield rt(P.next()),N=K.done,!N;j=!0){V=K.value,j=!1;const te=V;if(yield yield rt(te),te.candidates&&(!((S=te.candidates[0])===null||S===void 0)&&S.content)){Te.push(te.candidates[0].content);for(const de of(E=te.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(g<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(de.functionCall.name)){const ue=yield rt(x.get(de.functionCall.name).callTool([de.functionCall]));Q.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(te){D={error:te}}finally{try{!j&&!N&&(G=P.return)&&(yield rt(G.call(P)))}finally{if(D)throw D.error}}if(Q.length>0){p=!0;const te=new Ss;te.candidates=[{content:{role:"user",parts:Q}}],yield yield rt(te);const de=[];de.push(...Te),de.push({role:"user",parts:Q});const ue=yn(T.contents).concat(de);T.contents=ue}else break}})}(this,v,e)}async generateContentInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=cy(this.apiClient,e);return g=ve("{model}:generateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=fy(x),S=new Ss;return Object.assign(S,T),S})}else{const h=uy(this.apiClient,e);return g=ve("{model}:generateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=dy(x),S=new Ss;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=cy(this.apiClient,e);return g=ve("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),p.then(function(T){return ro(this,arguments,function*(){var S,E,N,D;try{for(var G=!0,V=As(T),j;j=yield rt(V.next()),S=j.done,!S;G=!0){D=j.value,G=!1;const K=fy(yield rt(D.json())),F=new Ss;Object.assign(F,K),yield yield rt(F)}}catch(P){E={error:P}}finally{try{!G&&!S&&(N=V.return)&&(yield rt(N.call(V)))}finally{if(E)throw E.error}}})})}else{const h=uy(this.apiClient,e);return g=ve("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(T){return ro(this,arguments,function*(){var S,E,N,D;try{for(var G=!0,V=As(T),j;j=yield rt(V.next()),S=j.done,!S;G=!0){D=j.value,G=!1;const K=dy(yield rt(D.json())),F=new Ss;Object.assign(F,K),yield yield rt(F)}}catch(P){E={error:P}}finally{try{!G&&!S&&(N=V.return)&&(yield rt(N.call(V)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=yN(this.apiClient,e);return g=ve("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=S2(x),S=new Gg;return Object.assign(S,T),S})}else{const h=RA(this.apiClient,e);return g=ve("{model}:batchEmbedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=QN(x),S=new Gg;return Object.assign(S,T),S})}}async generateImagesInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=xN(this.apiClient,e);return g=ve("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=_2(x),S=new Bg;return Object.assign(S,T),S})}else{const h=IA(this.apiClient,e);return g=ve("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=t2(x),S=new Bg;return Object.assign(S,T),S})}}async editImageInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI()){const g=AN(this.apiClient,e);return d=ve("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>{const h=E2(v),x=new ES;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI()){const g=wN(this.apiClient,e);return d=ve("{model}:predict",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>{const h=A2(v),x=new AS;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=MN(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>sd(x))}else{const h=kA(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>od(x))}}async listInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=DN(this.apiClient,e);return g=ve("{models_url}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=R2(x),S=new Fg;return Object.assign(S,T),S})}else{const h=UA(this.apiClient,e);return g=ve("{models_url}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=a2(x),S=new Fg;return Object.assign(S,T),S})}}async update(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=kN(this.apiClient,e);return g=ve("{model}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>sd(x))}else{const h=VA(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>od(x))}}async delete(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=LN(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(()=>{const x=D2(),T=new Hg;return Object.assign(T,x),T})}else{const h=OA(this.apiClient,e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(()=>{const x=i2(),T=new Hg;return Object.assign(T,x),T})}}async countTokens(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=PN(this.apiClient,e);return g=ve("{model}:countTokens",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=I2(x),S=new Yg;return Object.assign(S,T),S})}else{const h=qA(this.apiClient,e);return g=ve("{model}:countTokens",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=o2(x),S=new Yg;return Object.assign(S,T),S})}}async computeTokens(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI()){const g=VN(this.apiClient,e);return d=ve("{model}:computeTokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>{const h=k2(v),x=new NS;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=qN(this.apiClient,e);return g=ve("{model}:predictLongRunning",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>V2(x))}else{const h=BA(this.apiClient,e);return g=ve("{model}:predictLongRunning",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>u2(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(t){const e={},a=r(t,["operationName"]);a!=null&&u(e,["_url","operationName"],a);const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function dw(t){const e={},a=r(t,["operationName"]);a!=null&&u(e,["_url","operationName"],a);const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function fw(t){const e={},a=r(t,["operationName"]);a!=null&&u(e,["operationName"],a);const o=r(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const l=r(t,["config"]);return l!=null&&u(e,["config"],l),e}function mw(t){const e={},a=r(t,["video","uri"]);a!=null&&u(e,["uri"],a);const o=r(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],da(o));const l=r(t,["encoding"]);return l!=null&&u(e,["mimeType"],l),e}function pw(t){const e={},a=r(t,["_self"]);return a!=null&&u(e,["video"],mw(a)),e}function hw(t){const e={},a=r(t,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>pw(p))),u(e,["generatedVideos"],d)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const l=r(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function gw(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata"]);o!=null&&u(e,["metadata"],o);const l=r(t,["done"]);l!=null&&u(e,["done"],l);const d=r(t,["error"]);d!=null&&u(e,["error"],d);const p=r(t,["response","generateVideoResponse"]);return p!=null&&u(e,["response"],hw(p)),e}function yw(t){const e={},a=r(t,["gcsUri"]);a!=null&&u(e,["uri"],a);const o=r(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],da(o));const l=r(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function vw(t){const e={},a=r(t,["_self"]);return a!=null&&u(e,["video"],yw(a)),e}function xw(t){const e={},a=r(t,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>vw(p))),u(e,["generatedVideos"],d)}const o=r(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const l=r(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function vy(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata"]);o!=null&&u(e,["metadata"],o);const l=r(t,["done"]);l!=null&&u(e,["done"],l);const d=r(t,["error"]);d!=null&&u(e,["error"],d);const p=r(t,["response"]);return p!=null&&u(e,["response"],xw(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tw extends yi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const a=e.operation,o=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=a.name.split("/operations/")[0];let d;return o&&"httpOptions"in o&&(d=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:l,config:{httpOptions:d}})}else return this.getVideosOperationInternal({operationName:a.name,config:o})}async getVideosOperationInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=dw(e);return g=ve("{operationName}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>vy(x))}else{const h=cw(e);return g=ve("{operationName}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>gw(x))}}async fetchPredictVideosOperationInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI()){const g=fw(e);return d=ve("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>vy(v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cw(t){const e={},a=r(t,["voiceName"]);return a!=null&&u(e,["voiceName"],a),e}function Lv(t){const e={},a=r(t,["prebuiltVoiceConfig"]);return a!=null&&u(e,["prebuiltVoiceConfig"],Cw(a)),e}function Sw(t){const e={},a=r(t,["speaker"]);a!=null&&u(e,["speaker"],a);const o=r(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Lv(o)),e}function bw(t){const e={},a=r(t,["speakerVoiceConfigs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Sw(l))),u(e,["speakerVoiceConfigs"],o)}return e}function _w(t){const e={},a=r(t,["voiceConfig"]);a!=null&&u(e,["voiceConfig"],Lv(a));const o=r(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],bw(o));const l=r(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function Ew(t){const e={},a=r(t,["fps"]);a!=null&&u(e,["fps"],a);const o=r(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const l=r(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function Aw(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["data"]);a!=null&&u(e,["data"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Nw(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(t,["fileUri"]);a!=null&&u(e,["fileUri"],a);const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ww(t){const e={},a=r(t,["videoMetadata"]);a!=null&&u(e,["videoMetadata"],Ew(a));const o=r(t,["thought"]);o!=null&&u(e,["thought"],o);const l=r(t,["inlineData"]);l!=null&&u(e,["inlineData"],Aw(l));const d=r(t,["fileData"]);d!=null&&u(e,["fileData"],Nw(d));const p=r(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=r(t,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const v=r(t,["executableCode"]);v!=null&&u(e,["executableCode"],v);const h=r(t,["functionCall"]);h!=null&&u(e,["functionCall"],h);const x=r(t,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const T=r(t,["text"]);return T!=null&&u(e,["text"],T),e}function Mw(t){const e={},a=r(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(d=>ww(d))),u(e,["parts"],l)}const o=r(t,["role"]);return o!=null&&u(e,["role"],o),e}function Rw(t){const e={},a=r(t,["behavior"]);a!=null&&u(e,["behavior"],a);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["name"]);l!=null&&u(e,["name"],l);const d=r(t,["parameters"]);d!=null&&u(e,["parameters"],d);const p=r(t,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=r(t,["response"]);g!=null&&u(e,["response"],g);const v=r(t,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function Dw(t){const e={},a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const o=r(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Iw(t){const e={},a=r(t,["timeRangeFilter"]);return a!=null&&u(e,["timeRangeFilter"],Dw(a)),e}function kw(t){const e={},a=r(t,["mode"]);a!=null&&u(e,["mode"],a);const o=r(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function Lw(t){const e={},a=r(t,["dynamicRetrievalConfig"]);return a!=null&&u(e,["dynamicRetrievalConfig"],kw(a)),e}function Uw(){return{}}function Pw(t){const e={},a=r(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>Rw(h))),u(e,["functionDeclarations"],v)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],Iw(o));const l=r(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],Lw(l)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&u(e,["urlContext"],Uw());const p=r(t,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=r(t,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function Vw(t){const e={},a=r(t,["handle"]);if(a!=null&&u(e,["handle"],a),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xy(){return{}}function Ow(t){const e={},a=r(t,["disabled"]);a!=null&&u(e,["disabled"],a);const o=r(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const l=r(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const d=r(t,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=r(t,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function jw(t){const e={},a=r(t,["automaticActivityDetection"]);a!=null&&u(e,["automaticActivityDetection"],Ow(a));const o=r(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const l=r(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function qw(t){const e={},a=r(t,["targetTokens"]);return a!=null&&u(e,["targetTokens"],a),e}function zw(t){const e={},a=r(t,["triggerTokens"]);a!=null&&u(e,["triggerTokens"],a);const o=r(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],qw(o)),e}function Gw(t){const e={},a=r(t,["proactiveAudio"]);return a!=null&&u(e,["proactiveAudio"],a),e}function Bw(t,e){const a={},o=r(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const l=r(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const d=r(t,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=r(t,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=r(t,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const v=r(t,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const h=r(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const x=r(t,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const T=r(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],_w(Sd(T)));const S=r(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=r(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],Mw(Ot(E)));const N=r(t,["tools"]);if(e!==void 0&&N!=null){let F=xo(N);Array.isArray(F)&&(F=F.map(ie=>Pw(vo(ie)))),u(e,["setup","tools"],F)}const D=r(t,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],Vw(D));const G=r(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],xy());const V=r(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&u(e,["setup","outputAudioTranscription"],xy());const j=r(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],jw(j));const P=r(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],zw(P));const K=r(t,["proactivity"]);return e!==void 0&&K!=null&&u(e,["setup","proactivity"],Gw(K)),a}function Fw(t,e){const a={},o=r(e,["model"]);o!=null&&u(a,["setup","model"],tt(t,o));const l=r(e,["config"]);return l!=null&&u(a,["config"],Bw(l,a)),a}function Hw(t,e,a){const o={},l=r(e,["expireTime"]);a!==void 0&&l!=null&&u(a,["expireTime"],l);const d=r(e,["newSessionExpireTime"]);a!==void 0&&d!=null&&u(a,["newSessionExpireTime"],d);const p=r(e,["uses"]);a!==void 0&&p!=null&&u(a,["uses"],p);const g=r(e,["liveConnectConstraints"]);a!==void 0&&g!=null&&u(a,["bidiGenerateContentSetup"],Fw(t,g));const v=r(e,["lockAdditionalFields"]);return a!==void 0&&v!=null&&u(a,["fieldMask"],v),o}function Yw(t,e){const a={},o=r(e,["config"]);return o!=null&&u(a,["config"],Hw(t,o,a)),a}function Jw(t){const e={},a=r(t,["name"]);return a!=null&&u(e,["name"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(t){const e=[];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const o=t[a];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(d=>`${a}.${d}`);e.push(...l)}else e.push(a)}return e.join(",")}function Zw(t,e){let a=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const d=o.setup;typeof d=="object"&&d!==null?(t.bidiGenerateContentSetup=d,a=d):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(a){const d=$w(a);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?t.fieldMask=d:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];l.length>0&&(g=l.map(h=>p.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class Kw extends yi{constructor(e){super(),this.apiClient=e}async create(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=Yw(this.apiClient,e);d=ve("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=Zw(g,e.config);return l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Jw(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(t){const e={},a=r(t,["name"]);a!=null&&u(e,["_url","name"],a);const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function Qw(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const d=r(t,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),a}function Ww(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],Qw(a,e)),e}function eM(t){const e={},a=r(t,["textInput"]);a!=null&&u(e,["textInput"],a);const o=r(t,["output"]);return o!=null&&u(e,["output"],o),e}function tM(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(t,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>eM(l))),u(e,["examples","examples"],o)}return e}function nM(t,e){const a={};if(r(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),r(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=r(t,["epochCount"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","epochCount"],l);const d=r(t,["learningRateMultiplier"]);if(d!=null&&u(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),r(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=r(t,["batchSize"]);e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","batchSize"],p);const g=r(t,["learningRate"]);return e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),a}function aM(t){const e={},a=r(t,["baseModel"]);a!=null&&u(e,["baseModel"],a);const o=r(t,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],tM(o));const l=r(t,["config"]);return l!=null&&u(e,["config"],nM(l,e)),e}function iM(t){const e={},a=r(t,["name"]);a!=null&&u(e,["_url","name"],a);const o=r(t,["config"]);return o!=null&&u(e,["config"],o),e}function oM(t,e){const a={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const d=r(t,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),a}function sM(t){const e={},a=r(t,["config"]);return a!=null&&u(e,["config"],oM(a,e)),e}function lM(t,e){const a={},o=r(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const l=r(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l),r(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function rM(t,e){const a={},o=r(t,["gcsUri"]);o!=null&&u(a,["validationDatasetUri"],o);const l=r(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l),a}function uM(t,e){const a={},o=r(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],rM(o,a));const l=r(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&u(e,["tunedModelDisplayName"],l);const d=r(t,["description"]);e!==void 0&&d!=null&&u(e,["description"],d);const p=r(t,["epochCount"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const g=r(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const v=r(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const h=r(t,["adapterSize"]);if(e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),r(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function cM(t){const e={},a=r(t,["baseModel"]);a!=null&&u(e,["baseModel"],a);const o=r(t,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],lM(o,e));const l=r(t,["config"]);return l!=null&&u(e,["config"],uM(l,e)),e}function dM(t){const e={},a=r(t,["name"]);a!=null&&u(e,["model"],a);const o=r(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Uv(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["state"]);o!=null&&u(e,["state"],fv(o));const l=r(t,["createTime"]);l!=null&&u(e,["createTime"],l);const d=r(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const p=r(t,["tuningTask","completeTime"]);p!=null&&u(e,["endTime"],p);const g=r(t,["updateTime"]);g!=null&&u(e,["updateTime"],g);const v=r(t,["description"]);v!=null&&u(e,["description"],v);const h=r(t,["baseModel"]);h!=null&&u(e,["baseModel"],h);const x=r(t,["_self"]);x!=null&&u(e,["tunedModel"],dM(x));const T=r(t,["distillationSpec"]);T!=null&&u(e,["distillationSpec"],T);const S=r(t,["experiment"]);S!=null&&u(e,["experiment"],S);const E=r(t,["labels"]);E!=null&&u(e,["labels"],E);const N=r(t,["pipelineJob"]);N!=null&&u(e,["pipelineJob"],N);const D=r(t,["satisfiesPzi"]);D!=null&&u(e,["satisfiesPzi"],D);const G=r(t,["satisfiesPzs"]);G!=null&&u(e,["satisfiesPzs"],G);const V=r(t,["serviceAccount"]);V!=null&&u(e,["serviceAccount"],V);const j=r(t,["tunedModelDisplayName"]);return j!=null&&u(e,["tunedModelDisplayName"],j),e}function fM(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>Uv(d))),u(e,["tuningJobs"],l)}return e}function mM(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["metadata"]);o!=null&&u(e,["metadata"],o);const l=r(t,["done"]);l!=null&&u(e,["done"],l);const d=r(t,["error"]);return d!=null&&u(e,["error"],d),e}function pM(t){const e={},a=r(t,["checkpointId"]);a!=null&&u(e,["checkpointId"],a);const o=r(t,["epoch"]);o!=null&&u(e,["epoch"],o);const l=r(t,["step"]);l!=null&&u(e,["step"],l);const d=r(t,["endpoint"]);return d!=null&&u(e,["endpoint"],d),e}function hM(t){const e={},a=r(t,["model"]);a!=null&&u(e,["model"],a);const o=r(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const l=r(t,["checkpoints"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>pM(p))),u(e,["checkpoints"],d)}return e}function rd(t){const e={},a=r(t,["name"]);a!=null&&u(e,["name"],a);const o=r(t,["state"]);o!=null&&u(e,["state"],fv(o));const l=r(t,["createTime"]);l!=null&&u(e,["createTime"],l);const d=r(t,["startTime"]);d!=null&&u(e,["startTime"],d);const p=r(t,["endTime"]);p!=null&&u(e,["endTime"],p);const g=r(t,["updateTime"]);g!=null&&u(e,["updateTime"],g);const v=r(t,["error"]);v!=null&&u(e,["error"],v);const h=r(t,["description"]);h!=null&&u(e,["description"],h);const x=r(t,["baseModel"]);x!=null&&u(e,["baseModel"],x);const T=r(t,["tunedModel"]);T!=null&&u(e,["tunedModel"],hM(T));const S=r(t,["supervisedTuningSpec"]);S!=null&&u(e,["supervisedTuningSpec"],S);const E=r(t,["tuningDataStats"]);E!=null&&u(e,["tuningDataStats"],E);const N=r(t,["encryptionSpec"]);N!=null&&u(e,["encryptionSpec"],N);const D=r(t,["partnerModelTuningSpec"]);D!=null&&u(e,["partnerModelTuningSpec"],D);const G=r(t,["distillationSpec"]);G!=null&&u(e,["distillationSpec"],G);const V=r(t,["experiment"]);V!=null&&u(e,["experiment"],V);const j=r(t,["labels"]);j!=null&&u(e,["labels"],j);const P=r(t,["pipelineJob"]);P!=null&&u(e,["pipelineJob"],P);const K=r(t,["satisfiesPzi"]);K!=null&&u(e,["satisfiesPzi"],K);const F=r(t,["satisfiesPzs"]);F!=null&&u(e,["satisfiesPzs"],F);const ie=r(t,["serviceAccount"]);ie!=null&&u(e,["serviceAccount"],ie);const Q=r(t,["tunedModelDisplayName"]);return Q!=null&&u(e,["tunedModelDisplayName"],Q),e}function gM(t){const e={},a=r(t,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const o=r(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>rd(d))),u(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yM extends yi{constructor(e){super(),this.apiClient=e,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new Is(hi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(a),a),this.tune=async a=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(a);{const o=await this.tuneMldevInternal(a);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Qc.JOB_STATE_QUEUED}}}}async getInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=iM(e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>rd(x))}else{const h=Xw(e);return g=ve("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>Uv(x))}}async listInternal(e){var a,o,l,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=sM(e);return g=ve("tuningJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),p.then(x=>{const T=gM(x),S=new Jg;return Object.assign(S,T),S})}else{const h=Ww(e);return g=ve("tunedModels",h._url),v=h._query,delete h.config,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const T=fM(x),S=new Jg;return Object.assign(S,T),S})}}async tuneInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI()){const g=cM(e);return d=ve("tuningJobs",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>rd(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var a,o;let l,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aM(e);return d=ve("tunedModels",g._url),p=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),l.then(v=>mM(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vM{async download(e,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xM=1024*1024*8,TM=3,CM=1e3,SM=2,zc="x-goog-upload-status";async function bM(t,e,a){var o,l,d;let p=0,g=0,v=new Wc(new Response),h="upload";for(p=t.size;g<p;){const T=Math.min(xM,p-g),S=t.slice(g,g+T);g+T>=p&&(h+=", finalize");let E=0,N=CM;for(;E<TM&&(v=await a.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(T)}}}),!(!((o=v==null?void 0:v.headers)===null||o===void 0)&&o[zc]));)E++,await EM(N),N=N*SM;if(g+=T,((l=v==null?void 0:v.headers)===null||l===void 0?void 0:l[zc])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(v==null?void 0:v.json());if(((d=v==null?void 0:v.headers)===null||d===void 0?void 0:d[zc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function _M(t){return{size:t.size,type:t.type}}function EM(t){return new Promise(e=>setTimeout(e,t))}class AM{async upload(e,a,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bM(e,a,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _M(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NM{create(e,a,o){return new wM(e,a,o)}}class wM{constructor(e,a,o){this.url=e,this.headers=a,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ty="x-goog-api-key";class MM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ty)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ty,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RM="gl-node/";class DM{constructor(e){var a;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=e.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=e.apiKey;const o=_S(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const l=new MM(this.apiKey);this.apiClient=new H2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RM+"web",uploader:new AM,downloader:new vM}),this.models=new uw(this.apiClient),this.live=new iw(this.apiClient,l,new NM),this.batches=new Qb(this.apiClient),this.chats=new n_(this.models,this.apiClient),this.caches=new W1(this.apiClient),this.files=new h_(this.apiClient),this.operations=new Tw(this.apiClient),this.authTokens=new Kw(this.apiClient),this.tunings=new yM(this.apiClient)}}var IM={};const Cy=void 0;let tr=null;Cy?tr=new DM({apiKey:Cy}):console.warn(IC);const kM="gemini-2.5-flash-preview-04-17",Gc={isConfigured:()=>!!tr,getPlacementSuggestion:async t=>{if(!tr){console.warn("Gemini API not configured for placement. Returning default placement.");let a=Le.ONE;return(t.understandsWithSubs==="Bastante bien"||t.understandsWithSubs==="Casi perfectamente")&&(a=Le.TWO),(t.understandsWithoutSubs==="Bastante bien"||t.understandsWithoutSubs==="Casi perfectamente")&&(a=Le.THREE),t.speakingComfort==="Muy cmodo/a"&&(t.understandsWithoutSubs==="Casi perfectamente"||t.understandsWithoutSubs==="Bastante bien")&&a>=Le.THREE&&(a=Le.FOUR),a>Le.TWO&&t.understandsWithSubs!=="Casi perfectamente"&&t.understandsWithSubs!=="Bastante bien"&&(a=Le.TWO),a>Le.ONE&&t.understandsBasic!=="S, bastantes"&&t.understandsBasic!=="S, algunas"&&(a=Le.ONE),{stage:a,justification:"Evaluacin local simplificada. Para una recomendacin ms precisa, por favor configura la API Key de Gemini."}}const e=`
      Based on the 'El Antimtodo' philosophy, determine the user's learning stage.
      The stages are:
      Stage 1: Preparacin Previa (Building basic vocabulary and comprehension with highly scaffolded content like Anki and language apps).
      Stage 2: Inmersin Total (Consuming native content with subtitles in the target language, focusing on enjoyment and volume).
      Stage 3: Free Flow Listening (Reducing reliance on subtitles, consuming content without them, sentence mining i+1).
      Stage 4: Produccin (High comprehension, comfortable production, activating passive knowledge, refining nuances).

      User's answers:
      - Language: ${t.language}
      - Experience: ${t.experience}
      - Understands basic phrases: ${t.understandsBasic}
      - Understands content with subtitles: ${t.understandsWithSubs}
      - Understands content without subtitles: ${t.understandsWithoutSubs}
      - Speaking comfort: ${t.speakingComfort}
      - Main goal: ${t.mainGoal}

      Respond ONLY with a JSON object containing the stage number (1, 2, 3, or 4) and a brief (1-2 sentence) justification for that stage choice.
      Format: {"stage": STAGE_NUMBER, "justification": "REASONING"}
      Example: {"stage": 1, "justification": "User is beginning to understand basic phrases and needs to build foundational vocabulary."}
    `;try{let o=(await tr.models.generateContent({model:kM,contents:e,config:{responseMimeType:"application/json",temperature:.3}})).text||"";const l=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=o.match(l);d&&d[2]&&(o=d[2].trim());let p=JSON.parse(o);if(typeof p.stage!="number"||typeof p.justification!="string"||!Object.values(Le).includes(p.stage)){const g=p.justification||"";p.stage=Le.ONE,p.justification=`Respuesta de IA invlida o etapa no reconocida (${p.stage}), asignada Etapa 1 por defecto. ${g}`.trim(),console.warn("Invalid stage number or format from Gemini, defaulting to Stage 1",p)}return p}catch(a){return console.error("Error getting placement suggestion from Gemini API:",a),{stage:Le.ONE,justification:"Error al contactar el servicio de IA. Se asign la etapa inicial (Etapa 1). Puedes ajustarla manualmente."}}},getTipOfTheDay:t=>{const e=Object.values(Le).includes(t)?t:Le.ONE,a=Lh[e]||[],o=Lh.GENERAL||[];let l=[...a,...o];l.length===0&&(l=["Sigue aprendiendo y disfrutando el proceso cada da!","La constancia es clave para el xito en los idiomas."]);const d=Math.floor(Math.random()*l.length);return l[d]}},on=({children:t,className:e="",title:a,titleClassName:o="",headerContent:l})=>f.jsxs("div",{className:`bg-[var(--color-card-bg)] shadow-lg rounded-xl overflow-hidden transition-colors duration-300 ${e}`,children:[a&&f.jsxs("div",{className:"p-4 sm:p-5 border-b border-[var(--color-border-light)] flex justify-between items-center",children:[f.jsx("h3",{className:`font-poppins text-lg font-semibold text-[var(--color-primary)] ${o}`,children:a}),l]}),f.jsx("div",{className:"p-4 sm:p-5",children:t})]}),Sy="mt-1 block w-full p-2.5 bg-[var(--color-input-bg)] border border-[var(--color-input-border)] rounded-md shadow-sm text-[var(--color-input-text)] placeholder-[var(--color-placeholder-text)] focus:ring-[var(--color-accent)] focus:border-[var(--color-accent)] sm:text-sm",LM=({onTestComplete:t})=>{const[e,a]=_.useState({language:Vt[0]}),[o,l]=_.useState(!1),[d,p]=_.useState(null),g=(h,x)=>{a(T=>({...T,[h]:x}))},v=async h=>{if(h.preventDefault(),p(null),kh.some(x=>!e[x.id]&&x.type!=="text")){p("Por favor, responde todas las preguntas.");return}if(!e.language){p("Por favor, selecciona un idioma.");return}l(!0);try{const x=e;let T=null;if(Gc.isConfigured())T=await Gc.getPlacementSuggestion(x);else{let S=Le.ONE;e.understandsBasic==="S, algunas"||e.understandsBasic==="S, bastantes"?(e.understandsWithSubs==="Bastante bien"||e.understandsWithSubs==="Casi perfectamente")&&(S=Le.TWO,(e.understandsWithoutSubs==="Bastante bien"||e.understandsWithoutSubs==="Casi perfectamente")&&(S=Le.THREE,e.speakingComfort==="Muy cmodo/a"&&(S=Le.FOUR))):S=Le.ONE,S>Le.TWO&&e.understandsWithSubs!=="Casi perfectamente"&&e.understandsWithSubs!=="Bastante bien"&&(S=Le.TWO),S>Le.ONE&&e.understandsBasic!=="S, bastantes"&&e.understandsBasic!=="S, algunas"&&(S=Le.ONE),T={stage:S,justification:"Evaluacin local simplificada. Para una recomendacin ms precisa, por favor configura la API Key de Gemini."}}if(T){const S=Object.values(Le).includes(T.stage)?T.stage:Le.ONE;t(S,T.justification,x)}else p("No se pudo determinar la etapa. Por favor, intntalo de nuevo.")}catch(x){console.error(x),p("Ocurri un error al procesar el test. Intntalo de nuevo ms tarde.")}finally{l(!1)}};return f.jsxs(on,{title:"Test de Ubicacin",className:"bg-[var(--color-card-bg)]",children:[f.jsx("p",{className:"mb-3 text-[var(--color-text-main)]",children:"Responde estas preguntas para ayudarnos a entender tu nivel actual y recomendarte la mejor etapa para comenzar con El Antimtodo."}),f.jsx("div",{className:"mb-4 text-sm text-[var(--color-text-light)] bg-[var(--color-light-purple)] bg-opacity-20 p-3 rounded-md border border-[var(--color-light-purple)]",children:f.jsxs("p",{children:["Para una evaluacin ms detallada o para comparar, puedes visitar el"," ",f.jsxs("a",{href:"https://luisem93.github.io/ElAntimetodo/test-ubicacion",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent)] hover:underline font-medium inline-flex items-center",children:["Test de Ubicacin Original del Antimtodo",f.jsx(xd,{className:"w-4 h-4 ml-1"})]}),"."]})}),!Gc.isConfigured()&&f.jsx("div",{className:"mb-4 p-3 rounded-md bg-[var(--color-warning)] bg-opacity-20 text-[var(--color-warning)] border border-[var(--color-warning)]",children:f.jsx("p",{className:"text-sm",children:"La API de Gemini no est configurada. Se utilizar una evaluacin simplificada."})}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[kh.map(h=>{var x,T;return f.jsxs("div",{children:[f.jsx("label",{htmlFor:h.id,className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:h.label}),h.type==="select"&&f.jsx("select",{id:h.id,value:e[h.id]||"",onChange:S=>g(h.id,S.target.value),className:Sy,children:(x=h.options)==null?void 0:x.map(S=>f.jsx("option",{value:S,children:S},S))}),h.type==="radio"&&((T=h.options)==null?void 0:T.map(S=>f.jsxs("div",{className:"flex items-center mt-1",children:[f.jsx("input",{type:"radio",id:`${h.id}-${S}`,name:h.id,value:S,checked:e[h.id]===S,onChange:E=>g(h.id,E.target.value),className:"h-4 w-4 text-[var(--color-accent)] border-[var(--color-input-border)] focus:ring-[var(--color-accent)]"}),f.jsx("label",{htmlFor:`${h.id}-${S}`,className:"ml-2 text-sm text-[var(--color-text-light)]",children:S})]},S))),h.type==="text"&&f.jsx("input",{type:"text",id:h.id,value:e[h.id]||"",onChange:S=>g(h.id,S.target.value),placeholder:h.placeholder,className:Sy})]},h.id)}),d&&f.jsx("p",{className:"text-sm text-[var(--color-error)]",children:d}),f.jsx(lt,{type:"submit",variant:"accent",size:"lg",isLoading:o,disabled:o,className:"w-full",children:o?"Evaluando...":"Ver mi Etapa"})]})]})},UM=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),PM=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),io="mt-1 block w-full p-2.5 bg-[var(--color-input-bg)] border border-[var(--color-input-border)] rounded-md shadow-sm text-[var(--color-input-text)] placeholder-[var(--color-placeholder-text)] focus:ring-[var(--color-accent)] focus:border-[var(--color-accent)] sm:text-sm",VM=()=>{var ut;const[t,e]=_.useState("initial_choice"),[a,o]=_.useState(0),{initializeUserProfile:l}=sn(),d=yo(),[p,g]=_.useState(null),[v,h]=_.useState(!1),[x,T]=_.useState(null),[S,E]=_.useState(""),[N,D]=_.useState(""),[G,V]=_.useState(Vt[0]),[j,P]=_.useState(Le.ONE),K=Vc.length,F=()=>{a<K-1?o(me=>me+1):e("placement_test")},ie=()=>{a>0?o(me=>me-1):e("initial_choice")},Q=(me,be,q)=>{g({stage:me,justification:be,answers:q}),e("test_result")},Te=async me=>{var oe,ce;if(h(!0),T(null),!((oe=me.display_name)!=null&&oe.trim())||!((ce=me.username)!=null&&ce.trim())){T("El nombre a mostrar y el nombre de usuario son obligatorios."),h(!1);return}if(!/^[a-zA-Z0-9_]{3,20}$/.test(me.username)){T("El nombre de usuario debe tener entre 3 y 20 caracteres y solo puede contener letras, nmeros y guiones bajos."),h(!1);return}const q=await l(me);q.success?d(Xe.DASHBOARD):q.error&&q.error.message.includes('duplicate key value violates unique constraint "profiles_username_key"')?T("Ese nombre de usuario ya est en uso. Por favor, elige otro."):(T("Hubo un error al crear tu perfil. Por favor, intntalo de nuevo."),console.error("Onboarding Finish Error:",q.error)),h(!1)},te=()=>{if(p){const me={display_name:S,username:N,currentStage:p.stage,learningLanguages:[p.answers.language],primaryLanguage:p.answers.language,goals:[],learningDaysCount:0,focusPoints:0,unlockedRewards:[],profileFlairId:null,lastActivityDateByLanguage:{},lastHabitPointsAwardDate:null};Te(me)}},de=()=>{Te({display_name:S,username:N,currentStage:j,learningLanguages:[G],primaryLanguage:G,goals:[],learningDaysCount:0,focusPoints:0,unlockedRewards:[],profileFlairId:null,lastActivityDateByLanguage:{},lastHabitPointsAwardDate:null})},ue=Vc[a],Me=Object.values(Le).filter(me=>typeof me=="number");return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)]",children:[f.jsxs("div",{className:"bg-[var(--color-card-bg)] p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md text-center",children:[t==="initial_choice"&&f.jsxs(f.Fragment,{children:[f.jsx(vd,{className:"w-16 h-16 mx-auto mb-6 text-[var(--color-accent)]"}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-poppins font-bold text-[var(--color-primary)] mb-6",children:"Bienvenido/a"}),f.jsx("p",{className:"text-[var(--color-text-main)] text-base sm:text-lg mb-8",children:"Eres nuevo/a en El Antimtodo?"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{onClick:()=>{o(0),e("intro_screens")},variant:"primary",size:"lg",className:"w-full",children:"S, soy nuevo/a"}),f.jsx(lt,{onClick:()=>e("quick_setup"),variant:"outline",size:"lg",className:"w-full",children:"No, ya conozco El Antimtodo"})]})]}),t==="quick_setup"&&f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-poppins font-bold text-[var(--color-primary)] mb-6",children:"Configuracin Rpida"}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-6",children:"Completa tu perfil para continuar."}),f.jsxs("div",{className:"space-y-4 text-left",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Nombre a Mostrar:"}),f.jsx("input",{type:"text",id:"displayName",value:S,onChange:me=>E(me.target.value),className:io,placeholder:"Tu nombre pblico"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Nombre de Usuario:"}),f.jsx("input",{type:"text",id:"username",value:N,onChange:me=>D(me.target.value),className:io,placeholder:"tu_usuario_unico"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"nico, sin espacios, 3-20 caracteres (a-z, 0-9, _)."})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"quickSetupLanguage",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Idioma que ests aprendiendo:"}),f.jsx("select",{id:"quickSetupLanguage",value:G,onChange:me=>V(me.target.value),className:io,children:Vt.map(me=>f.jsx("option",{value:me,children:me},me))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"quickSetupStage",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Etapa Actual:"}),f.jsx("select",{id:"quickSetupStage",value:j,onChange:me=>P(Number(me.target.value)),className:io,children:Me.map(me=>{var be;return f.jsx("option",{value:me,children:((be=Pn[me])==null?void 0:be.name)||`Etapa ${me}`},me)})})]})]}),x&&f.jsx("p",{className:"mt-4 text-sm text-center text-[var(--color-error)]",children:x}),f.jsxs("div",{className:"mt-8 flex flex-col space-y-3",children:[f.jsx(lt,{onClick:de,variant:"primary",size:"lg",className:"w-full",isLoading:v,disabled:v,children:"Continuar al Dashboard"}),f.jsx(lt,{onClick:()=>e("initial_choice"),variant:"ghost",size:"sm",className:"w-full",disabled:v,children:"Volver"})]})]}),t==="intro_screens"&&ue&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-full h-48 sm:h-56 rounded-lg mb-6 mx-auto overflow-hidden bg-[var(--color-light-purple)]",children:f.jsx("img",{src:ue.image,alt:ue.title,className:"w-full h-full object-cover"})}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-poppins font-bold text-[var(--color-primary)] mb-4",children:ue.title}),f.jsx("p",{className:"text-[var(--color-text-main)] text-base sm:text-lg mb-8 min-h-[60px]",children:ue.text}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs(lt,{onClick:ie,variant:"ghost",size:"md",children:[f.jsx(UM,{className:"w-5 h-5 mr-1"})," ",a===0?"Inicio":"Anterior"]}),f.jsx("div",{className:"flex space-x-1",children:Vc.map((me,be)=>f.jsx("span",{className:`block w-2.5 h-2.5 rounded-full ${a===be?"bg-[var(--color-accent)]":"bg-[var(--color-light-purple)]"}`},be))}),f.jsxs(lt,{onClick:F,variant:"accent",size:"md",children:[a===K-1?"Empezar Test":"Siguiente"," ",f.jsx(PM,{className:"w-5 h-5 ml-1"})]})]})]}),t==="placement_test"&&f.jsx(LM,{onTestComplete:Q}),t==="test_result"&&p&&f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-poppins font-bold text-[var(--color-primary)] mb-3",children:"Casi listo!"}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-4",children:"Completa tu perfil para empezar."}),f.jsxs("div",{className:"p-4 rounded-lg bg-[var(--color-light-purple)] bg-opacity-30 mb-6 text-left",children:[f.jsxs("p",{className:"text-sm text-[var(--color-text-light)]",children:["Idioma: ",f.jsx("strong",{className:"text-[var(--color-secondary)]",children:p.answers.language})]}),f.jsxs("p",{className:"text-sm text-[var(--color-text-light)]",children:["Etapa Sugerida: ",f.jsx("strong",{className:"text-[var(--color-secondary)]",children:((ut=Pn[p.stage])==null?void 0:ut.name)||`Etapa ${p.stage}`})]}),f.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-1",children:f.jsxs("em",{children:["Justificacin: ",p.justification]})})]}),f.jsxs("div",{className:"space-y-4 text-left",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Nombre a Mostrar:"}),f.jsx("input",{type:"text",id:"displayName",value:S,onChange:me=>E(me.target.value),className:io,placeholder:"Tu nombre pblico"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Nombre de Usuario:"}),f.jsx("input",{type:"text",id:"username",value:N,onChange:me=>D(me.target.value),className:io,placeholder:"tu_usuario_unico"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"nico, sin espacios, 3-20 caracteres (a-z, 0-9, _)."})]})]}),x&&f.jsx("p",{className:"mt-4 text-sm text-center text-[var(--color-error)]",children:x}),f.jsx(lt,{onClick:te,variant:"primary",size:"lg",className:"w-full mt-8",isLoading:v,disabled:v,children:"Empezar mi viaje!"})]})]}),f.jsxs("p",{className:"mt-8 text-xs text-purple-200",children:["El Antimtodo  ",new Date().getFullYear()]})]})},OM=()=>f.jsxs("div",{className:"relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden bg-purple-50",children:[f.jsx("header",{className:"fixed top-0 left-0 right-0 z-30 bg-[var(--brand-primary)] text-white shadow-md",children:f.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-5",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white text-[var(--brand-primary)]",children:f.jsx("span",{className:"text-2xl font-bold",children:"A"})}),f.jsx("span",{className:"text-xl font-bold",children:"El Antimetodo"})]}),f.jsx("button",{className:"text-white",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"settings"})})]})}),f.jsxs("div",{className:"flex-grow pt-16 pb-28",children:[f.jsx("div",{className:"px-5 pt-6 pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hello Alex!"}),f.jsx("p",{className:"text-gray-500",children:"Let's learn Spanish today."})]}),f.jsxs("button",{className:"relative",children:[f.jsx("img",{alt:"User avatar",className:"h-14 w-14 rounded-full border-4 border-purple-200 object-cover shadow-lg",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuC8uIWr0KU2dFmKYzy_BGZ6B55qQ7KMWr1DO49kxbs9q15I9e_iclJx-jmDgv1vL3Yw8AEghoIDvJ7RDzhoqahb3il_jE6k52AfG_TkhvGZlVXAd2IlSxgbrNa_jY1fF1E0z4NrreE2Ah4jC63XVeB3pK54yHqKzUpkapatuw-ihAufDWx2Fts4DOMTvDfyZS5jIUCMWq3d-ZtO9_pNPr2o4lfbzTzfYhkQNj0tFF10xFsORtiwsrb3gH9ijGgN6fB4_v-RbpjU2Co"}),f.jsx("span",{className:"absolute bottom-0 right-0 block h-4 w-4 rounded-full border-2 border-white bg-green-400"})]})]})}),f.jsx("div",{className:"px-5",children:f.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-2 rounded-2xl bg-white p-3 text-center shadow-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Points"}),f.jsx("p",{className:"text-lg font-bold text-purple-700",children:"1,250"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Study Days"}),f.jsx("p",{className:"text-lg font-bold text-purple-700",children:"42"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Consistency"}),f.jsx("p",{className:"text-lg font-bold text-purple-700",children:"85%"})]})]})}),f.jsxs("main",{className:"p-5 pt-0",children:[f.jsx("section",{className:"mb-6",children:f.jsxs("div",{className:"relative rounded-2xl bg-white p-6 text-center shadow-lg",children:[f.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[f.jsxs("svg",{className:"h-48 w-48",children:[f.jsx("circle",{className:"text-purple-100",cx:"96",cy:"96",fill:"transparent",r:"60",stroke:"currentColor",strokeWidth:"12"}),f.jsx("circle",{className:"text-purple-600 transition-all duration-1000",cx:"96",cy:"96",fill:"transparent",r:"60",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"12",transform:"rotate(-90 96 96)"})]}),f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[f.jsx("p",{className:"text-3xl font-bold text-purple-800",children:"75%"}),f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"150/200 min"})]})]}),f.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-700",children:"Today's Habits Progress"})]})}),f.jsx("section",{className:"mb-8",children:f.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-purple-600 to-purple-800 p-5 text-white shadow-lg",children:[f.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider text-purple-200",children:"Your Focus"}),f.jsx("p",{className:"mt-1 text-2xl font-bold",children:"Total Immersion"})]})}),f.jsxs("section",{className:"mb-8",children:[f.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Recent Activity"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"rounded-xl bg-white p-4 shadow-md",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-purple-100 text-purple-700",children:f.jsx("span",{className:"material-symbols-outlined",children:"headset"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"font-semibold text-gray-800",children:"Listening Practice"}),f.jsx("p",{className:"text-sm text-gray-500",children:'Podcast: "News in Slow Spanish"'})]}),f.jsx("div",{className:"text-right",children:f.jsx("span",{className:"text-sm font-bold text-purple-700",children:"+25 XP"})})]})}),f.jsx("div",{className:"rounded-xl bg-white p-4 shadow-md",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-700",children:f.jsx("span",{className:"material-symbols-outlined",children:"school"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"font-semibold text-gray-800",children:"Lesson 5 Completed"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Grammar: Past Tense"})]}),f.jsx("div",{className:"text-right",children:f.jsx("span",{className:"text-sm font-bold text-green-700",children:"+50 XP"})})]})})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Personal Goals"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-xl bg-white p-4 shadow-md",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-semibold text-gray-800",children:"Complete 20 lessons"}),f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"14 / 20"})]}),f.jsx("div",{className:"mt-2 h-2 rounded-full bg-purple-100",children:f.jsx("div",{className:"h-2 rounded-full bg-purple-600",style:{width:"70%"}})})]}),f.jsxs("div",{className:"rounded-xl bg-white p-4 shadow-md",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-semibold text-gray-800",children:"Listen to 10 podcasts"}),f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"5 / 10"})]}),f.jsx("div",{className:"mt-2 h-2 rounded-full bg-purple-100",children:f.jsx("div",{className:"h-2 rounded-full bg-purple-600",style:{width:"50%"}})})]}),f.jsxs("div",{className:"rounded-xl bg-white p-4 shadow-md",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-semibold text-gray-800",children:"Achieve 30-day streak"}),f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"21 / 30"})]}),f.jsx("div",{className:"mt-2 h-2 rounded-full bg-purple-100",children:f.jsx("div",{className:"h-2 rounded-full bg-purple-600",style:{width:"70%"}})})]})]})]})]})]}),f.jsx("button",{className:"fixed bottom-24 right-5 z-40 flex h-16 w-16 items-center justify-center rounded-full bg-purple-600 text-white shadow-lg transition-transform duration-300 hover:scale-110 active:bg-purple-700",children:f.jsx("span",{className:"material-symbols-outlined !text-4xl",children:"add"})}),f.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-20 rounded-t-2xl border-t border-gray-200 bg-white pb-3 pt-2 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]",children:f.jsxs("div",{className:"flex justify-around",children:[f.jsxs("a",{className:"flex flex-1 flex-col items-center justify-end gap-1 text-purple-700",href:"#",children:[f.jsx("div",{className:"flex h-8 w-16 items-center justify-center rounded-full bg-purple-100",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"dashboard"})}),f.jsx("p",{className:"text-xs font-semibold tracking-wide",children:"Dashboard"})]}),f.jsxs("a",{className:"flex flex-1 flex-col items-center justify-end gap-1 text-gray-500 transition-colors hover:text-purple-700",href:"#",children:[f.jsx("div",{className:"flex h-8 w-16 items-center justify-center",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"monitoring"})}),f.jsx("p",{className:"text-xs font-medium tracking-wide",children:"Tracker"})]}),f.jsxs("a",{className:"flex flex-1 flex-col items-center justify-end gap-1 text-gray-500 transition-colors hover:text-purple-700",href:"#",children:[f.jsx("div",{className:"flex h-8 w-16 items-center justify-center",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"all_inbox"})}),f.jsx("p",{className:"text-xs font-medium tracking-wide",children:"Routines"})]}),f.jsxs("a",{className:"flex flex-1 flex-col items-center justify-end gap-1 text-gray-500 transition-colors hover:text-purple-700",href:"#",children:[f.jsx("div",{className:"flex h-8 w-16 items-center justify-center",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"group"})}),f.jsx("p",{className:"text-xs font-medium tracking-wide",children:"Social"})]}),f.jsxs("a",{className:"flex flex-1 flex-col items-center justify-end gap-1 text-gray-500 transition-colors hover:text-purple-700",href:"#",children:[f.jsx("div",{className:"flex h-8 w-16 items-center justify-center",children:f.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"store"})}),f.jsx("p",{className:"text-xs font-medium tracking-wide",children:"Store"})]})]})})]}),jM=()=>{const t=yo(),[e,a]=_.useState("total"),o=1250*3600,l=[{id:"1",category:"Listening",custom_title:null,sub_activity:'Podcast: "News in Slow..."',duration_seconds:1800,date:"2024-07-05"},{id:"2",category:"Study",custom_title:null,sub_activity:"Lesson 3 Completed",duration_seconds:2700,date:"2024-07-04"},{id:"3",category:"Watching",custom_title:null,sub_activity:'"La Casa de Papel" ',duration_seconds:2700,date:"2024-07-04"},{id:"4",category:"Reading",custom_title:null,sub_activity:'"El Principito" - Ch. 1',duration_seconds:900,date:"2024-07-03"}],d=(g,v)=>Math.floor(g/60),p=g=>{if(!g)return"";const[v,h,x]=g.split("-").map(Number),T=new Date(v,h-1,x),S=new Date,E=new Date(S);return E.setDate(S.getDate()-1),T.toDateString()===S.toDateString()?"Hoy":T.toDateString()===E.toDateString()?"Ayer":T.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})};return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx("header",{className:"bg-[#4a148c] px-4 pt-4 pb-4 flex items-center sticky top-0 z-10 shadow-lg",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-white rounded-full p-1 flex items-center justify-center w-8 h-8",children:f.jsx("span",{className:"text-[#4a148c] font-bold text-xl",children:"A"})}),f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tracker"})]})}),f.jsxs("main",{className:"flex-grow px-6 pb-24 pt-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 mb-6",children:[f.jsx("h2",{className:"text-gray-500 font-medium mb-1",children:"Hour Milestones"}),f.jsxs("div",{className:"flex items-baseline space-x-2",children:[f.jsx("p",{className:"text-4xl font-bold text-purple-700",children:Math.floor(o/3600)}),f.jsx("span",{className:"text-lg text-gray-400 font-medium",children:"/ 1,500 hours"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-4",children:f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 h-2.5 rounded-full",style:{width:`${Math.floor(o/3600)/1500*100}%`}})}),f.jsx("p",{className:"text-right text-gray-500 mt-2 text-sm font-medium",children:"Next milestone: 1,500 hours"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex space-x-4 border-b border-gray-200",children:[f.jsx("button",{className:`flex-1 pb-2 text-center text-sm ${e==="total"?"tab-active":"tab-inactive"}`,onClick:()=>a("total"),children:"Tiempo Total"}),f.jsx("button",{className:`flex-1 pb-2 text-center text-sm ${e==="type"?"tab-active":"tab-inactive"}`,onClick:()=>a("type"),children:"Por Tipo"}),f.jsx("button",{className:`flex-1 pb-2 text-center text-sm ${e==="skill"?"tab-active":"tab-inactive"}`,onClick:()=>a("skill"),children:"Por Habilidad"})]}),f.jsxs("div",{className:"mt-4 chart-container flex items-center justify-center bg-white rounded-2xl shadow-md p-4",children:[e==="total"&&f.jsx("div",{className:"w-full h-full",id:"line-chart-container",children:f.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 300 200",children:[f.jsx("text",{className:"text-xs fill-gray-400",x:"5",y:"25",children:"10h"}),f.jsx("text",{className:"text-xs fill-gray-400",x:"5",y:"75",children:"5h"}),f.jsx("text",{className:"text-xs fill-gray-400",x:"5",y:"125",children:"2h"}),f.jsx("text",{className:"text-xs fill-gray-400",x:"5",y:"175",children:"0h"}),f.jsx("line",{className:"stroke-gray-200 stroke-1",strokeDasharray:"2 2",x1:"30",x2:"295",y1:"20",y2:"20"}),f.jsx("line",{className:"stroke-gray-200 stroke-1",strokeDasharray:"2 2",x1:"30",x2:"295",y1:"70",y2:"70"}),f.jsx("line",{className:"stroke-gray-200 stroke-1",strokeDasharray:"2 2",x1:"30",x2:"295",y1:"120",y2:"120"}),f.jsx("line",{className:"stroke-gray-300 stroke-1",x1:"30",x2:"295",y1:"170",y2:"170"}),f.jsx("polyline",{className:"fill-none stroke-[var(--accent-color)]",points:"30,120 80,90 130,100 180,60 230,80 280,50",strokeWidth:"2.5"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"30",y:"185",children:"Lun"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"80",y:"185",children:"Mar"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"130",y:"185",children:"Mie"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"180",y:"185",children:"Jue"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"230",y:"185",children:"Vie"}),f.jsx("text",{className:"text-xs fill-gray-400",textAnchor:"middle",x:"280",y:"185",children:"Sab"})]})}),e==="type"&&f.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",id:"doughnut-chart-container",children:[f.jsxs("svg",{className:"transform -rotate-90",height:"180",viewBox:"0 0 100 100",width:"180",children:[f.jsx("circle",{className:"stroke-current text-gray-200",cx:"50",cy:"50",fill:"transparent",r:"40",strokeWidth:"12"}),f.jsx("circle",{className:"stroke-current text-purple-600",cx:"50",cy:"50",fill:"transparent",r:"40",strokeDasharray:"251.2",strokeDashoffset:"125.6",strokeWidth:"12"}),f.jsx("circle",{className:"stroke-current text-blue-500",cx:"50",cy:"50",fill:"transparent",r:"40",strokeDasharray:"251.2",strokeDashoffset:"188.4",strokeWidth:"12"}),f.jsx("circle",{className:"stroke-current text-green-500",cx:"50",cy:"50",fill:"transparent",r:"40",strokeDasharray:"251.2",strokeDashoffset:"226.08",strokeWidth:"12"}),f.jsx("circle",{className:"stroke-current text-red-500",cx:"50",cy:"50",fill:"transparent",r:"40",strokeDasharray:"251.2",strokeDashoffset:"251.2",strokeWidth:"12"})]}),f.jsxs("div",{className:"absolute flex flex-col items-center",children:[f.jsx("span",{className:"text-3xl font-bold text-gray-800",children:"25h"}),f.jsx("span",{className:"text-sm text-gray-500",children:"Total"})]})]}),e==="skill"&&f.jsxs("div",{className:"w-full h-full flex items-end justify-around px-4",id:"bar-chart-container",children:[f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-8 bg-purple-600",style:{height:"70%"}}),f.jsx("span",{className:"text-xs text-gray-500",children:"Reading"})]}),f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-8 bg-blue-500",style:{height:"90%"}}),f.jsx("span",{className:"text-xs text-gray-500",children:"Listening"})]}),f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-8 bg-green-500",style:{height:"50%"}}),f.jsx("span",{className:"text-xs text-gray-500",children:"Speaking"})]}),f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-8 bg-red-500",style:{height:"75%"}}),f.jsx("span",{className:"text-xs text-gray-500",children:"Writing"})]}),f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-8 bg-yellow-500",style:{height:"40%"}}),f.jsx("span",{className:"text-xs text-gray-500",children:"Grammar"})]})]})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Historial de Actividad"}),f.jsx("div",{className:"space-y-3",children:l.map(g=>f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"bg-purple-100 rounded-lg p-3 mr-4",children:f.jsx("i",{className:"material-icons",children:g.category==="Listening"?"headphones":g.category==="Study"?"school":g.category==="Watching"?"movie":"menu_book"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-gray-800",children:g.custom_title||g.sub_activity}),f.jsxs("p",{className:"text-sm text-gray-500",children:[g.custom_title?g.sub_activity:""," ",g.custom_title&&g.category?`(${g.category})`:g.category]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-semibold text-gray-700",children:[d(g.duration_seconds)," min"]}),f.jsx("p",{className:"text-sm text-gray-400",children:p(g.date)})]})]},g.id))})]})]}),f.jsx("div",{className:"fixed bottom-24 right-6 z-20",children:f.jsx("button",{onClick:()=>t("/log"),className:"bg-gradient-to-br from-purple-600 to-indigo-700 text-white rounded-full p-4 shadow-lg flex items-center justify-center w-16 h-16",children:f.jsx("i",{className:"material-icons text-4xl",children:"add"})})}),f.jsx("footer",{className:"bg-white/70 backdrop-blur-sm shadow-[0_-2px_10px_rgba(0,0,0,0.05)] fixed bottom-0 w-full rounded-t-2xl",children:f.jsxs("nav",{className:"flex justify-around py-3",children:[f.jsxs("a",{className:"flex flex-col items-center justify-center nav-inactive w-16",href:"#",children:[f.jsx("i",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),f.jsxs("a",{className:"flex flex-col items-center justify-center nav-active w-16",href:"#",children:[f.jsx("i",{className:"material-icons",children:"trending_up"}),f.jsx("span",{className:"text-xs mt-1",children:"Tracker"})]}),f.jsxs("a",{className:"flex flex-col items-center justify-center nav-inactive w-16",href:"#",children:[f.jsx("i",{className:"material-icons",children:"list_alt"}),f.jsx("span",{className:"text-xs mt-1",children:"Routines"})]}),f.jsxs("a",{className:"flex flex-col items-center justify-center nav-inactive w-16",href:"#",children:[f.jsx("i",{className:"material-icons",children:"people"}),f.jsx("span",{className:"text-xs mt-1",children:"Social"})]}),f.jsxs("a",{className:"flex flex-col items-center justify-center nav-inactive w-16",href:"#",children:[f.jsx("i",{className:"material-icons",children:"store"}),f.jsx("span",{className:"text-xs mt-1",children:"Store"})]})]})})]})},qM=()=>f.jsxs("div",{className:"min-h-screen",id:"main-content",children:[f.jsx("header",{className:"bg-[#4D34B8] text-white sticky top-0 z-10",children:f.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-white text-[#4D34B8] w-8 h-8 rounded-full flex items-center justify-center font-bold text-lg",children:"A"}),f.jsx("h1",{className:"font-bold text-lg",children:"El Antimetodo"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{className:"focus:outline-none",children:f.jsx("img",{alt:"Bandera de Espaa",className:"w-6 h-6 rounded-full",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuAh0ZlYjMvXfF_Hxws1ebTBlSlitvj8c1DlcNt8U66Gy8qUBvt6H2LrMDMAicpLKYSQn1hJgfisFfJ-iSiXnmiXjbU1ORt3pmUAJ1Haqj8FvGt4-F8JNIVM3QSNPt2wT_3vJeGZ5SJwg_q7VTKq--fYW8wJ9gZAkkqI0o-nYZBnF76IYtLxHIpLkEiQ3lvWgO3nZgp9ydsaPqMxZcPSvaJimgY1Ag6SWhqf6Mr4pZppuP8b5m1BGr3uy213GV-nLhcPB6vURlq3QA"})}),f.jsx("button",{className:"focus:outline-none",children:f.jsx("span",{className:"material-icons",children:"settings"})})]})]})}),f.jsxs("main",{className:"container mx-auto p-4 pb-24",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Rutinas y Planificacin"}),f.jsxs("section",{className:"mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Mis Hbitos Diarios"}),f.jsx("button",{className:"bg-indigo-600 text-white text-sm font-medium py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 transition-colors",onClick:()=>openModal("addHabitModal"),children:"Aadir Nuevo Hbito"})]}),f.jsx("div",{className:"space-y-4",children:f.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900",children:"Inmersin Diaria"}),f.jsx("p",{className:"text-sm text-gray-500",children:"60 min ptimos"}),f.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[f.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Inmersin Activa"}),f.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Estudio"})]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",onClick:()=>openModal("addHabitModal"),children:f.jsx("span",{className:"material-icons text-base",children:"edit"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100",children:f.jsx("span",{className:"material-icons text-base",children:"delete"})})]})]})})})]}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Mis Plantillas de Rutinas"}),f.jsx("button",{className:"border border-indigo-600 text-indigo-600 text-sm font-medium py-2 px-4 rounded-lg hover:bg-indigo-50 transition-colors",onClick:()=>openModal("createTemplateModal"),children:"Crear Nueva Plantilla"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900",children:"Rutina Intensiva"}),f.jsx("p",{className:"text-sm text-gray-500",children:"3 hbitos"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",title:"Cargar",children:f.jsx("span",{className:"material-icons text-base",children:"file_upload"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",onClick:()=>openModal("renameTemplateModal"),title:"Renombrar",children:f.jsx("span",{className:"material-icons text-base",children:"drive_file_rename_outline"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",title:"Actualizar",children:f.jsx("span",{className:"material-icons text-base",children:"sync"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100",title:"Eliminar",children:f.jsx("span",{className:"material-icons text-base",children:"delete"})})]})]})}),f.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900",children:"Mantenimiento Diario"}),f.jsx("p",{className:"text-sm text-gray-500",children:"1 hbito"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",title:"Cargar",children:f.jsx("span",{className:"material-icons text-base",children:"file_upload"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",onClick:()=>openModal("renameTemplateModal"),title:"Renombrar",children:f.jsx("span",{className:"material-icons text-base",children:"drive_file_rename_outline"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100",title:"Actualizar",children:f.jsx("span",{className:"material-icons text-base",children:"sync"})}),f.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100",title:"Eliminar",children:f.jsx("span",{className:"material-icons text-base",children:"delete"})})]})]})})]})]})]}),f.jsx("button",{className:"fixed bottom-24 right-4 bg-indigo-600 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg z-20",children:f.jsx("span",{className:"material-icons text-3xl",children:"add"})}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-1px_3px_rgba(0,0,0,0.1)] flex justify-around py-2 z-20",children:[f.jsxs("a",{className:"text-center text-gray-500 hover:text-indigo-600 transition-colors",href:"#",children:[f.jsx("span",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"block text-xs",children:"Dashboard"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-indigo-600 transition-colors",href:"#",children:[f.jsx("span",{className:"material-icons",children:"track_changes"}),f.jsx("span",{className:"block text-xs",children:"Tracker"})]}),f.jsxs("a",{className:"text-center text-indigo-600 font-medium transition-colors",href:"#",children:[f.jsx("div",{className:"bg-indigo-100 rounded-full p-2 inline-block",children:f.jsx("span",{className:"material-icons",children:"list_alt"})}),f.jsx("span",{className:"block text-xs",children:"Routines"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-indigo-600 transition-colors",href:"#",children:[f.jsx("span",{className:"material-icons",children:"people"}),f.jsx("span",{className:"block text-xs",children:"Social"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-indigo-600 transition-colors",href:"#",children:[f.jsx("span",{className:"material-icons",children:"store"}),f.jsx("span",{className:"block text-xs",children:"Store"})]})]}),f.jsx("div",{className:"modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4 z-50",id:"addHabitModal",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Aadir Nuevo Hbito"}),f.jsxs("form",{children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"habitName",children:"Nombre del Hbito"}),f.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",id:"habitName",placeholder:"Ej: Inmersin Diaria",type:"text"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"minMinutes",children:"Mn. (check)"}),f.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",id:"minMinutes",placeholder:"30",type:"number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"optMinutes",children:"ptimos (meta)"}),f.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",id:"optMinutes",placeholder:"60",type:"number"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoras que cuentan"}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsxs("select",{className:"flex-grow w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[f.jsx("option",{children:"Inmersin Activa"}),f.jsx("option",{children:"Estudio"}),f.jsx("option",{children:"Lectura"}),f.jsx("option",{children:"Escucha"})]}),f.jsx("button",{className:"bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg font-medium hover:bg-indigo-200",type:"button",children:"Aadir"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("span",{className:"flex items-center bg-indigo-100 text-indigo-800 text-sm font-medium px-3 py-1 rounded-full",children:["Inmersin Activa",f.jsx("button",{className:"ml-2 text-indigo-500 hover:text-indigo-800",type:"button",children:f.jsx("span",{className:"material-icons text-base",children:"close"})})]}),f.jsxs("span",{className:"flex items-center bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full",children:["Estudio",f.jsx("button",{className:"ml-2 text-purple-500 hover:text-purple-800",type:"button",children:f.jsx("span",{className:"material-icons text-base",children:"close"})})]})]})]})]}),f.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:()=>closeModal("addHabitModal"),type:"button",children:"Cancelar"}),f.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",type:"submit",children:"Aadir Hbito"})]})]})]})}),f.jsx("div",{className:"modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4 z-50",id:"createTemplateModal",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Crear Nueva Plantilla"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Se crear una nueva plantilla con tus hbitos diarios actuales."}),f.jsxs("form",{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"templateName",children:"Nombre de la Plantilla"}),f.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",id:"templateName",placeholder:"Ej: Rutina Intensiva",type:"text"})]}),f.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:()=>closeModal("createTemplateModal"),type:"button",children:"Cancelar"}),f.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",type:"submit",children:"Crear Plantilla"})]})]})]})}),f.jsx("div",{className:"modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4 z-50",id:"renameTemplateModal",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Renombrar Plantilla"}),f.jsxs("form",{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"renameTemplateName",children:"Nuevo nombre"}),f.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",id:"renameTemplateName",type:"text",value:"Rutina Intensiva"})]}),f.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:()=>closeModal("renameTemplateModal"),type:"button",children:"Cancelar"}),f.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",type:"submit",children:"Guardar"})]})]})]})}),f.jsx("script",{children:`
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('is-open');
        }
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('is-open');
        }
        // Close modal on escape key press
        window.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.classList.remove('is-open');
                });
            }
        });
        // Close modal on background click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.classList.remove('is-open');
                }
            });
        });
        `})]}),zM=({stage:t})=>{const e=Pn[t];return e?f.jsx(on,{title:e.name,className:"border-l-4 border-[var(--color-accent)]",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-lg font-semibold text-[var(--color-secondary)]",children:"Objetivo Principal:"}),f.jsx("p",{className:"text-[var(--color-text-main)]",children:e.objective}),f.jsx("p",{className:"text-lg font-semibold text-[var(--color-secondary)] mt-4",children:"Descripcin Detallada:"}),f.jsx("p",{className:"text-[var(--color-text-main)] whitespace-pre-line",children:e.longDescription}),f.jsx("p",{className:"text-lg font-semibold text-[var(--color-secondary)] mt-4",children:"Consejos Clave:"}),f.jsxs("ul",{className:"list-disc list-inside text-[var(--color-text-main)] space-y-1 pl-2",children:[f.jsx("li",{children:"Enfcate en contenido que realmente disfrutes."}),f.jsx("li",{children:"La consistencia es ms importante que la perfeccin. Pequeas sesiones diarias suman mucho."}),f.jsx("li",{children:"No temas cometer errores, son parte del proceso de adquisicin."}),t===Le.TWO&&f.jsx("li",{children:"Aumenta el volumen de input. Ms series, ms videos, ms podcasts!"}),t===Le.THREE&&f.jsx("li",{children:"Intenta ver contenido sin subttulos progresivamente. Desafate un poco!"})]})]})}):f.jsx("p",{children:"Informacin de la etapa no encontrada."})},GM=()=>{const{resources:t}=sn(),e=t.reduce((a,o)=>((a[o.category]=a[o.category]||[]).push(o),a),{});return t.length===0?f.jsx("p",{className:"text-[var(--color-text-light)]",children:"No hay recursos disponibles en este momento."}):f.jsx("div",{className:"space-y-6",children:Object.entries(e).map(([a,o])=>f.jsx(on,{title:a,className:"border-l-4 border-[var(--color-secondary)]",children:f.jsx("ul",{className:"space-y-4",children:o.map(l=>f.jsxs("li",{className:"p-4 bg-white rounded-lg shadow-sm border border-[var(--color-light-purple)]",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-2",children:[f.jsx("h4",{className:"text-lg font-poppins font-semibold text-[var(--color-primary)]",children:l.name}),l.isCommunityRecommended&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:"Recomendado"})]}),f.jsx("p",{className:"text-sm text-[var(--color-text-main)] mb-3",children:l.description}),f.jsx(lt,{variant:"outline",size:"sm",onClick:()=>window.open(l.link,"_blank","noopener,noreferrer"),children:"Visitar Recurso"})]},l.id))})},a))})},BM=({className:t="w-6 h-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Pv=({isOpen:t,onClose:e,title:a,children:o,size:l="md",footerContent:d})=>{if(_.useEffect(()=>{const g=v=>{v.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="auto"}},[t,e]),!t)return null;let p="";switch(l){case"sm":p="max-w-sm";break;case"md":p="max-w-md";break;case"lg":p="max-w-lg";break;case"xl":p="max-w-xl";break;case"full":p="max-w-full h-full";break;default:p="max-w-md"}return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",onClick:e,children:f.jsxs("div",{className:`bg-[var(--color-card-bg)] rounded-lg shadow-xl w-full ${p} flex flex-col max-h-[90vh] ${l==="full"?"h-full":""}`,onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--color-light-purple)]",children:[a&&f.jsx("h2",{className:"text-xl font-poppins font-semibold text-[var(--color-primary)]",children:a}),f.jsx("button",{onClick:e,className:"text-[var(--color-text-light)] hover:text-[var(--color-accent)] transition-colors","aria-label":"Cerrar modal",children:f.jsx(BM,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:o}),d&&f.jsx("div",{className:"p-4 border-t border-[var(--color-light-purple)]",children:d})]})})},Vv=({className:t="w-5 h-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),FM="mt-1 block w-full sm:w-auto p-2.5 bg-[var(--color-input-bg)] border border-[var(--color-input-border)] rounded-md shadow-sm text-[var(--color-input-text)] placeholder-[var(--color-placeholder-text)] focus:ring-[var(--color-accent)] focus:border-[var(--color-accent)] sm:text-sm",HM="https://luisem93.github.io/ElAntimetodo/importar-tracker",YM=()=>{var x;const{userProfile:t}=sn(),[e,a]=_.useState("activities"),[o,l]=_.useState(!1),d=(t==null?void 0:t.currentStage)||Le.ONE,[p,g]=_.useState(d),v=Object.keys(Pn).map(Number).filter(T=>Object.values(Le).includes(T)),h=f.jsx("div",{className:"flex justify-end items-center w-full gap-2",children:f.jsx(lt,{onClick:()=>l(!1),variant:"ghost",size:"md",children:"Cerrar"})});return f.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[f.jsx("h1",{className:"text-3xl font-poppins font-bold text-[var(--color-primary)] mb-4 sm:mb-0",children:"Gua y Recursos"}),f.jsxs("div",{className:"flex space-x-2 flex-wrap gap-2",children:[f.jsx(lt,{variant:e==="activities"?"primary":"outline",onClick:()=>a("activities"),children:"Actividades Clave"}),f.jsx(lt,{variant:e==="stages"?"primary":"outline",onClick:()=>a("stages"),children:"Gua de Etapas"}),f.jsx(lt,{variant:e==="resources"?"primary":"outline",onClick:()=>a("resources"),children:"Recursos tiles"})]})]}),f.jsx(on,{title:"Utilidades Adicionales",className:"mt-4",children:f.jsx(lt,{onClick:()=>l(!0),variant:"secondary",leftIcon:f.jsx(Vv,{className:"w-5 h-5"}),className:"w-full sm:w-auto",children:"Gua para Importar Historial con IA"})}),e==="activities"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-poppins font-semibold text-[var(--color-primary)] mb-3",children:"Actividades Clave del Antimtodo"}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-6",children:"Estas son las prcticas fundamentales recomendadas por El Antimtodo. Entender cada una te ayudar a aplicar la filosofa de manera efectiva."}),f.jsx("div",{className:"space-y-4",children:di.map(T=>f.jsxs(on,{title:T.name,className:"shadow-md",children:[f.jsx("p",{className:"text-[var(--color-text-main)]",children:T.description}),T.category&&f.jsxs("p",{className:"mt-2 text-xs text-purple-600 dark:text-purple-400",children:["Categora principal para registro: ",f.jsx("span",{className:"font-semibold",children:T.category})]})]},T.name))})]}),e==="stages"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-poppins font-semibold text-[var(--color-primary)] mb-2",children:"Las Etapas del Antimtodo"}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-3",children:"Un camino claro hacia la fluidez natural."}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-3",children:"El Antimtodo se divide en etapas progresivas, diseadas para llevarte de la mano desde los conceptos bsicos hasta la comunicacin efectiva. Cada etapa se enfoca en habilidades especficas, construyendo una base slida para la siguiente."}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-6",children:"Para una gua ms detallada sobre cmo organizar tu tiempo en cada etapa y ejemplos prcticos, visita nuestra seccin de Rutinas. Si tienes dudas, la seccin de Preguntas Frecuentes (FAQ) tiene muchas respuestas. Y para herramientas especficas, no olvides consultar nuestros Recursos!"}),f.jsxs("p",{className:"text-[var(--color-text-main)] mb-6",children:["Tu etapa actual es: ",f.jsx("strong",{className:"text-[var(--color-accent)]",children:((x=Pn[(t==null?void 0:t.currentStage)||Le.ONE])==null?void 0:x.name)||"No definida"}),"."]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{htmlFor:"stageSelector",className:"block text-sm font-medium text-[var(--color-text-main)] mb-1",children:"Selecciona una etapa para ver detalles:"}),f.jsx("select",{id:"stageSelector",value:p,onChange:T=>g(Number(T.target.value)),className:FM,children:v.map(T=>{var S;return f.jsx("option",{value:T,children:((S=Pn[T])==null?void 0:S.name)||`Etapa ${T}`},T)})})]}),Pn[p]?f.jsx(zM,{stage:p}):f.jsx("p",{className:"text-[var(--color-text-light)]",children:"Por favor, selecciona una etapa vlida."})]}),e==="resources"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-poppins font-semibold text-[var(--color-primary)] mb-3",children:"Explorador de Recursos"}),f.jsx("p",{className:"text-[var(--color-text-main)] mb-6",children:"Descubre herramientas y recursos gratuitos y de pago recomendados para complementar tu aprendizaje de idiomas, organizados por categora."}),f.jsx(GM,{})]}),f.jsx(Pv,{isOpen:o,onClose:()=>l(!1),title:"Gua de Importacin con IA",size:"md",footerContent:h,children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-[var(--color-text-main)]",children:"Para obtener instrucciones detalladas sobre cmo importar tu historial de actividades desde otros trackers utilizando Inteligencia Artificial, por favor visita nuestra gua completa en lnea."}),f.jsx("p",{className:"text-[var(--color-text-main)]",children:"All encontrars el prompt necesario y todos los pasos a seguir."}),f.jsx(lt,{variant:"primary",onClick:()=>window.open(HM,"_blank","noopener,noreferrer"),leftIcon:f.jsx(xd,{className:"w-5 h-5"}),className:"w-full",children:"Visitar Gua de Importacin"})]})})]})},by=({className:t="w-5 h-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t,children:f.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})}),_y=({className:t="w-5 h-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t,children:f.jsx("path",{d:"M5.75 3a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 00.75-.75V3.75A.75.75 0 007.25 3h-1.5zM12.75 3a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 00.75-.75V3.75a.75.75 0 00-.75-.75h-1.5z"})}),Ey=({className:t="w-5 h-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Ay=t=>{(isNaN(t)||t<0)&&(t=0);const e=Math.floor(t/3600),a=Math.floor(t%3600/60),o=Math.floor(t%60);return`${String(e).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`},Ny=()=>{const{userProfile:t,addActivityLog:e,updateActivityLog:a,activityLogs:o,addCustomActivity:l,deleteActivityLog:d}=sn(),p=yo(),g=zn(),{logId:v}=zy(),[h,x]=_.useState(!1),[T,S]=_.useState({}),[E,N]=_.useState("Ninguna seleccionada"),[D,G]=_.useState(null),[V,j]=_.useState(""),[P,K]=_.useState((t==null?void 0:t.primaryLanguage)||(t!=null&&t.learningLanguages&&t.learningLanguages.length>0?t.learningLanguages[0]:Vt[0])),[F,ie]=_.useState(!1),[Q,Te]=_.useState((t==null?void 0:t.defaultLogTimerMode)==="countdown"?"countdown":"stopwatch"),te=(t==null?void 0:t.defaultLogDurationSeconds)||30*60,[de,ue]=_.useState(0),[Me,ut]=_.useState(!1),me=_.useRef(null),be=_.useRef(null),[q,oe]=_.useState(Math.round(te/60)),[ce,je]=_.useState(q*60),[w,Z]=_.useState(!1),ae=_.useRef(q*60),ne=_.useRef(null),[B,se]=_.useState(!1),W=_.useRef(null),Re=_.useRef(null),[Ge,vt]=_.useState(""),[jt,Ft]=_.useState(null),[fa,Tn]=_.useState(!1),[ht,Nn]=_.useState({language:(t==null?void 0:t.primaryLanguage)||(t!=null&&t.learningLanguages&&t.learningLanguages.length>0?t.learningLanguages[0]:Vt[0]),category:null,sub_activity:"",customTitle:"",date:new Date().toISOString().split("T")[0],startTime:new Date().toTimeString().substring(0,5),durationMinutes:Math.round(te/60),notes:""}),[ma,qt]=_.useState(!1),kt=_.useRef(!1);_.useEffect(()=>{const re=g.state,M=Math.round(((t==null?void 0:t.defaultLogDurationSeconds)||1800)/60),k=H=>{me.current&&clearInterval(me.current),ue(0),ut(!1),be.current=null,ne.current&&clearInterval(ne.current);const fe=H*60;oe(H),je(fe),ae.current=fe,Z(!1),se(!1),W.current=null,Re.current=null,Ft(null)},Y=(t==null?void 0:t.learningLanguages)||[];if(re!=null&&re.reLogData){const{reLogData:H}=re;x(!1),S({}),N(H.sub_activity||"Ninguna seleccionada"),G(H.category||null),j(H.custom_title||""),vt(H.notes||""),K(H.language||(t==null?void 0:t.primaryLanguage)||(Y.length>0?Y[0]:Vt[0]));let fe=Math.round((H.duration_seconds??te)/60);k(fe),Te(H.duration_seconds&&H.duration_seconds>0||(t==null?void 0:t.defaultLogTimerMode)==="countdown"?"countdown":"stopwatch"),kt.current=!0,p(g.pathname,{replace:!0,state:{}})}else if(v){kt.current=!1;const H=o.find(fe=>fe.id===v);H?(x(!0),S(H),N(H.sub_activity),G(H.category),j(H.custom_title||""),K(H.language),vt(H.notes||""),Nn({language:H.language,category:H.category,sub_activity:H.sub_activity,customTitle:H.custom_title||"",date:H.date,startTime:H.start_time||new Date().toTimeString().substring(0,5),durationMinutes:Math.round(H.duration_seconds/60),notes:H.notes||""}),Tn(!0),k(M)):p(Xe.DASHBOARD)}else{if(kt.current){kt.current=!1;return}x(!1),S({}),N("Ninguna seleccionada"),G(null),j(""),K((t==null?void 0:t.primaryLanguage)||(Y.length>0?Y[0]:Vt[0])),vt(""),k(M),Te((t==null?void 0:t.defaultLogTimerMode)==="countdown"?"countdown":"stopwatch")}},[v,g.state,t,o,p]);const Ht=_.useCallback(async()=>{if(!("Notification"in window)){console.warn("Este navegador no soporta notificaciones de escritorio.");return}const k={body:`Tu sesin de '${V.trim()||(E!=="Ninguna seleccionada"?E:"Actividad")}' ha finalizado.`,icon:"./assets/logo.png"};if(Notification.permission==="granted")new Notification("Tiempo Completado!",k);else if(Notification.permission!=="denied")try{await Notification.requestPermission()==="granted"?new Notification("Tiempo Completado!",k):console.warn("Permiso para notificaciones denegado por el usuario.")}catch(Y){console.error("Error al solicitar permiso de notificacin:",Y)}else console.warn("Permiso para notificaciones ya ha sido denegado.")},[V,E]);_.useEffect(()=>(Me&&be.current!==null?me.current=window.setInterval(()=>{ue(Math.floor((Date.now()-be.current)/1e3))},1e3):me.current&&clearInterval(me.current),()=>{me.current&&clearInterval(me.current)}),[Me]),_.useEffect(()=>(w&&W.current!==null?ne.current=window.setInterval(()=>{const re=Math.max(0,Math.floor((W.current-Date.now())/1e3));je(re),re===0&&(Z(!1),se(!0),typeof Audio<"u"&&new Audio("./assets/notification.mp3").play().catch(M=>console.warn("Fallo al reproducir audio.",M)),Ht())},1e3):ne.current&&clearInterval(ne.current),()=>{ne.current&&clearInterval(ne.current)}),[w,Ht]),_.useEffect(()=>{if(!w){const re=q*60;ae.current=re,je(re),se(!1),W.current=null}},[q,w]),_.useEffect(()=>{const re=()=>{if(!document.hidden){if(Me&&be.current!==null&&ue(Math.floor((Date.now()-be.current)/1e3)),w&&W.current!==null){const M=Math.max(0,Math.floor((W.current-Date.now())/1e3));je(M),M===0&&!B&&(Z(!1),se(!0),typeof Audio<"u"&&new Audio("./assets/notification.mp3").play().catch(k=>console.warn("Fallo al reproducir audio.",k)),Ht())}}};return document.addEventListener("visibilitychange",re),()=>{document.removeEventListener("visibilitychange",re)}},[Me,w,B,Ht]);const Gn=()=>{const re=new Date;Ft({date:re.toISOString().split("T")[0],time:re.toTimeString().substring(0,5)})},zt=()=>{if(Me)Re.current=Date.now(),ut(!1);else{if(be.current===null)be.current=Date.now();else if(Re.current){const re=Date.now()-Re.current;be.current+=re,Re.current=null}de===0&&!jt&&Gn(),ut(!0)}},pa=()=>{ut(!1),ue(0),be.current=null,Re.current=null,Ft(null)},ha=()=>{if(q<=0){alert("Establece una duracin positiva.");return}if(w)Re.current=Date.now(),Z(!1);else{if(W.current===null||ce===ae.current)W.current=Date.now()+ce*1e3,ae.current=ce;else if(Re.current){const re=Date.now()-Re.current;W.current+=re,Re.current=null}ce===ae.current&&!jt&&Gn(),Z(!0),B&&se(!1)}},ga=()=>{Z(!1);const re=q*60;je(re),ae.current=re,se(!1),W.current=null,Re.current=null,Ft(null)},Fa=async()=>{if(!D||E==="Ninguna seleccionada"||E.trim()===""){alert("Por favor, selecciona una actividad.");return}let re=0,M=jt?jt.date:new Date().toISOString().split("T")[0],k=jt?jt.time:void 0;if(Q==="stopwatch"&&de>0)re=de;else if(Q==="countdown"){const fe=ae.current-ce;if(w||B||fe>0)re=fe;else if(q>0&&!w&&!B&&ce===q*60)re=q*60,M=new Date().toISOString().split("T")[0],k=new Date().toTimeString().substring(0,5);else{alert("No hay tiempo registrado por el temporizador o la duracin es cero.");return}}else{alert("Modo de temporizador no reconocido o sin tiempo.");return}if(re<=0){alert("La duracin debe ser positiva.");return}di.some(fe=>fe.name===E)||l({name:E,description:"Actividad personalizada",category:D,skill:Be.STUDY});const H={language:P,category:D,sub_activity:E,custom_title:V.trim()||null,duration_seconds:re,date:M,start_time:k||null,notes:Ge.trim()||null};await e(H),alert("Actividad guardada con xito!"),p(Xe.DASHBOARD)},Bn=async()=>{const re=ht.sub_activity.trim();if(!ht.category||!re||re==="Ninguna seleccionada"||ht.durationMinutes<=0){alert("Completa la categora, sub-actividad y asegrate que la duracin sea positiva.");return}const M=ht.durationMinutes*60;di.some(H=>H.name===re)||l({name:re,description:"Actividad personalizada",category:ht.category,skill:Be.STUDY});const Y={language:ht.language,category:ht.category,sub_activity:re,custom_title:ht.customTitle.trim()||null,duration_seconds:M,date:ht.date,start_time:ht.startTime||null,notes:ht.notes.trim()||null};h&&T.id?(await a({...T,...Y,id:T.id}),alert("Registro actualizado con xito!")):(await e(Y),alert("Registro guardado con xito!")),Tn(!1),p(Xe.DASHBOARD)};return f.jsxs("div",{className:"flex h-screen flex-col",children:[f.jsxs("header",{className:"bg-white px-4 pt-6 pb-2 shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>p(-1),className:"text-gray-600",children:f.jsx("svg",{fill:"currentColor",height:"28",viewBox:"0 0 256 256",width:"28",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"})})}),f.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Record Activity"}),f.jsx("button",{children:f.jsx("img",{alt:"Spanish flag",className:"h-7 w-7 rounded-full object-cover",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlnkscape.org%5D%2F%3E%3C/svg%3E"})})]}),f.jsx("nav",{className:"mt-4",children:f.jsxs("div",{className:"flex justify-around border-b border-gray-200",children:[f.jsx("button",{onClick:()=>Te("stopwatch"),className:`w-full py-3 text-center text-sm font-semibold border-b-2 ${Q==="stopwatch"?"tab-active":"tab-inactive"}`,children:"Stopwatch"}),f.jsx("button",{onClick:()=>Te("countdown"),className:`w-full py-3 text-center text-sm font-semibold border-b-2 ${Q==="countdown"?"tab-active":"tab-inactive"}`,children:"Timer"}),f.jsx("button",{onClick:()=>Te("manual"),className:`w-full py-3 text-center text-sm font-semibold border-b-2 ${Q==="manual"?"tab-active":"tab-inactive"}`,children:"Manual"})]})})]}),f.jsxs("main",{className:"flex flex-1 flex-col items-center justify-center bg-white px-4",children:[Q==="stopwatch"&&f.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-center",children:[f.jsx("p",{className:"text-7xl font-light tracking-widest text-gray-800 tabular-nums",children:Ay(de)}),f.jsx("button",{onClick:zt,className:"mt-12 flex h-20 w-20 items-center justify-center rounded-full bg-[#ccbbdc] text-gray-900 shadow-lg",children:Me?f.jsx(_y,{className:"w-9 h-9"}):f.jsx(by,{className:"w-9 h-9"})}),f.jsx("button",{onClick:pa,className:"mt-4 text-gray-500",disabled:de===0&&!Me,children:f.jsx(Ey,{className:"w-6 h-6"})})]}),Q==="countdown"&&f.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center text-center",children:[f.jsx("div",{className:"flex justify-center items-center my-8",children:f.jsxs("div",{className:"relative w-64 h-64",children:[f.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[f.jsx("circle",{className:"text-gray-200",cx:"60",cy:"60",fill:"transparent",r:"56",stroke:"currentColor",strokeWidth:"8"}),f.jsx("circle",{className:"progress-ring__circle text-purple-500",cx:"60",cy:"60",fill:"transparent",r:"56",stroke:"currentColor",strokeDasharray:"351.858",strokeDashoffset:Math.PI*2*56*(1-(ae.current-ce)/ae.current*100),strokeLinecap:"round",strokeWidth:"8"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"text-4xl font-light text-gray-800",children:Ay(ce)})})]})}),f.jsxs("div",{className:"flex justify-center my-8",children:[f.jsx("button",{onClick:ha,className:"bg-purple-200 rounded-full w-20 h-20 flex items-center justify-center",children:w?f.jsx(_y,{className:"w-9 h-9"}):f.jsx(by,{className:"w-9 h-9"})}),f.jsx("button",{onClick:ga,className:"ml-4 bg-gray-200 rounded-full w-20 h-20 flex items-center justify-center",disabled:!w&&ce===q*60,children:f.jsx(Ey,{className:"w-9 h-9"})})]}),f.jsx("div",{className:"my-8 px-4",children:f.jsx("input",{className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-500",max:"3600",min:"0",type:"range",value:q*60,onChange:re=>oe(parseInt(re.target.value)/60),disabled:w})})]}),Q==="manual"&&f.jsxs("div",{className:"space-y-6 my-12",children:[f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"duration",children:"Duration"}),f.jsx("input",{className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",id:"duration",placeholder:"Duration (e.g., '30 min')",type:"text",value:ht.durationMinutes,onChange:re=>Nn(M=>({...M,durationMinutes:parseInt(re.target.value)}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"date",children:"Date"}),f.jsx("input",{className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 text-gray-500",id:"date",type:"date",value:ht.date,onChange:re=>Nn(M=>({...M,date:re.target.value}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"start-time",children:"Start Time (optional)"}),f.jsx("input",{className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 text-gray-500",id:"start-time",type:"time",value:ht.startTime,onChange:re=>Nn(M=>({...M,startTime:re.target.value}))})]})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"activity",children:"Activity"}),f.jsxs("select",{className:"select-input w-full rounded-xl border-gray-300 bg-white p-4 text-base text-gray-500 shadow-sm focus:border-violet-500 focus:ring-violet-500",id:"activity",name:"activity",value:E,onChange:re=>N(re.target.value),children:[f.jsx("option",{children:"Select Activity"}),di.map(re=>f.jsx("option",{value:re.name,children:re.name},re.name))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"custom-title",children:"Custom Title"}),f.jsx("input",{className:"w-full rounded-xl border-gray-300 bg-white p-4 text-base text-gray-700 shadow-sm focus:border-violet-500 focus:ring-violet-500",id:"custom-title",name:"custom-title",placeholder:"Custom Title (e.g., 'Watching S01E02')",type:"text",value:V,onChange:re=>j(re.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"sr-only",htmlFor:"notes",children:"Notes"}),f.jsx("textarea",{className:"w-full rounded-xl border-gray-300 bg-white p-4 text-base text-gray-700 shadow-sm focus:border-violet-500 focus:ring-violet-500",id:"notes",name:"notes",placeholder:"Notes",rows:4,value:Ge,onChange:re=>vt(re.target.value)})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:Q==="manual"?Bn:Fa,className:"w-full rounded-full bg-[#ccbbdc] py-4 text-base font-semibold text-gray-900 shadow-sm hover:bg-violet-400",children:"Save Activity"})})]})]})},JM=({className:t="w-5 h-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),$M=()=>{const{session:t,userProfile:e,updateUserProfile:a}=sn(),[o,l]=_.useState(!1),[d,p]=_.useState((e==null?void 0:e.avatar_url)||null);_.useEffect(()=>{e!=null&&e.avatar_url&&p(e.avatar_url)},[e==null?void 0:e.avatar_url]);const g=async v=>{try{if(l(!0),!v.target.files||v.target.files.length===0)throw new Error("You must select an image to upload.");const h=v.target.files[0],x=h.name.split(".").pop(),S=`avatars/${`${t.user.id}.${x}`}`;let{error:E}=await et.storage.from("avatars").upload(S,h,{upsert:!0});if(E)throw E;const{data:{publicUrl:N}}=et.storage.from("avatars").getPublicUrl(S),{error:D}=await et.from("profiles").update({avatar_url:N}).eq("id",t.user.id);if(D)throw D;p(N),a({avatar_url:N})}catch(h){alert(h.message)}finally{l(!1)}};return f.jsxs("div",{children:[f.jsx("img",{src:d||"./assets/default-avatar.png",alt:"Avatar",className:"w-32 h-32 rounded-full mx-auto mb-4"}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"single",className:"button primary block",children:o?"Subiendo ...":"Subir una foto de perfil"}),f.jsx("input",{style:{visibility:"hidden",position:"absolute"},type:"file",id:"single",accept:"image/*",onChange:g,disabled:o})]})]})},_n="w-full p-2.5 bg-[var(--color-input-bg)] border border-[var(--color-input-border)] rounded-lg shadow-sm text-[var(--color-input-text)] placeholder-[var(--color-placeholder-text)] focus:ring-[var(--color-accent)] focus:border-[var(--color-accent)] sm:text-sm",ZM=()=>{const{userProfile:t,updateUserProfile:e,signOut:a,exportAppData:o,importAppData:l,resetAllData:d,appTheme:p,updateAppTheme:g,getCombinedActivities:v,bulkAddActivityLogs:h}=sn(),x=yo(),[T,S]=_.useState({}),[E,N]=_.useState(!1),[D,G]=_.useState(""),[V,j]=_.useState(!1),P=_.useRef(null),[K,F]=_.useState({totalHoursToImport:0,language:(t==null?void 0:t.primaryLanguage)||Vt[0],startDate:"",endDate:"",subActivityPercentages:{}}),[ie,Q]=_.useState(!1),[Te,te]=_.useState(null);_.useEffect(()=>{t&&(S({...t,defaultLogDurationSeconds:t.defaultLogDurationSeconds||30*60,defaultLogTimerMode:t.defaultLogTimerMode||"manual",dashboardCardDisplayMode:t.dashboardCardDisplayMode||Kl}),F(B=>({...B,language:t.primaryLanguage||Vt[0]})))},[t]);const de=(B,se)=>{S(W=>({...W,[B]:se}))},ue=B=>{const se=T.learningLanguages||[],W=se.includes(B)?se.filter(Re=>Re!==B):[...se,B];de("learningLanguages",W)},Me=_.useCallback(()=>{if(t&&T){const B=/^[a-zA-Z0-9_]{3,20}$/;if(T.username&&!B.test(T.username)){alert("El nombre de usuario debe tener entre 3 y 20 caracteres y solo puede contener letras, nmeros y guiones bajos.");return}e(T),alert("Configuracin guardada!")}},[t,T,e]),ut=async()=>{await a(),x("/")},me=()=>{const B=o(),se=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(B,null,2))}`,W=document.createElement("a");W.href=se,W.download=`antimetodo_backup_${new Date().toISOString().split("T")[0]}.json`,W.click()},be=()=>{var B;(B=P.current)==null||B.click()},q=async B=>{var se;j(!0);try{const W=(se=B.target)==null?void 0:se.result;if(typeof W=="string"){const Re=JSON.parse(W);if(window.confirm("Ests seguro de que quieres importar estos datos? Esto sobrescribir tus configuraciones locales y aadir tus registros a la nube.")){const Ge=await l(Re);Ge.success?(alert("Datos importados con xito. La pgina se recargar."),window.location.reload()):alert(`Error al importar: ${Ge.error}`)}}}catch(W){console.error("Error al importar el archivo:",W),alert("Error: El archivo no es un JSON vlido.")}finally{j(!1)}},oe=B=>{var Re;const se=(Re=B.target.files)==null?void 0:Re[0];if(!se)return;const W=new FileReader;W.onload=q,W.readAsText(se),B.target.value=""},ce=(B,se)=>{F(W=>({...W,[B]:se}))},je=(B,se)=>{F(W=>({...W,subActivityPercentages:{...W.subActivityPercentages,[B]:se}}))},w=async()=>{if(!t){te({message:"Perfil de usuario no cargado.",type:"error"});return}Q(!0),te(null);const{totalHoursToImport:B,language:se,startDate:W,endDate:Re,subActivityPercentages:Ge}=K;if(B<=0||!se||!W||!Re){te({message:"Por favor, completa todos los campos requeridos y asegrate que las horas sean positivas.",type:"error"}),Q(!1);return}const vt=new Date(W),jt=new Date(Re);if(vt>jt){te({message:"La fecha de inicio no puede ser posterior a la fecha de fin.",type:"error"}),Q(!1);return}const Ft=Object.values(Ge).reduce((kt,Ht)=>kt+Ht,0);if(Ft!==100){te({message:`Los porcentajes de sub-actividad deben sumar 100%. Actualmente suman ${Ft}%.`,type:"error"}),Q(!1);return}const fa=Math.abs(jt.getTime()-vt.getTime()),Tn=Math.ceil(fa/(1e3*60*60*24))+1,Nn=B*3600/Tn;let ma=[];const qt=v();for(let kt=0;kt<Tn;kt++){const Ht=new Date(vt);Ht.setDate(vt.getDate()+kt);const Gn=Ht.toISOString().split("T")[0];for(const zt in Ge){const pa=Ge[zt];if(pa>0){const ha=Nn*pa/100,ga=qt.find(Fa=>Fa.name===zt);ga?ma.push({language:se,category:ga.category||ke.ACTIVE_IMMERSION,sub_activity:zt,custom_title:null,duration_seconds:Math.round(ha),date:Gn,start_time:null,notes:"Importado masivamente"}):console.warn(`Actividad ${zt} no encontrada en la lista de actividades.`)}}}try{await h(ma),te({message:`${ma.length} registros de actividad importados con xito!`,type:"success"}),F({totalHoursToImport:0,language:t.primaryLanguage||Vt[0],startDate:"",endDate:"",subActivityPercentages:{}})}catch(kt){console.error("Error al importar actividades masivamente:",kt),te({message:"Error al importar actividades masivamente.",type:"error"})}finally{Q(!1)}},Z=_.useMemo(()=>v().reduce((se,W)=>{const Re=W.category||ke.ACTIVE_IMMERSION;return se[Re]||(se[Re]=[]),se[Re].push(W),se},{}),[v]),ae=Object.values(K.subActivityPercentages).reduce((B,se)=>B+se,0);if(!t)return f.jsx("div",{className:"p-4 text-center",children:"Cargando..."});const ne=Es.filter(B=>B.type==="theme").map(B=>({id:B.id,name:B.name,value:B.value}));return f.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[f.jsx("h1",{className:"text-3xl font-poppins font-bold text-[var(--color-primary)]",children:"Configuracin"}),f.jsx(on,{title:"Foto de Perfil",children:f.jsx($M,{})}),f.jsx(on,{title:"Perfil de Usuario",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Nombre a Mostrar"}),f.jsx("input",{id:"displayName",type:"text",value:T.display_name||"",onChange:B=>de("display_name",B.target.value),className:_n})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Nombre de Usuario (nico)"}),f.jsx("input",{id:"username",type:"text",value:T.username||"",onChange:B=>de("username",B.target.value),className:_n}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-20 caracteres (a-z, 0-9, _). Cambiar esto afectar la URL de tu perfil."})]})]})}),f.jsxs(on,{title:"Idiomas",children:[f.jsx("p",{className:"text-sm text-[var(--color-text-light)] mb-3",children:"Selecciona los idiomas que ests aprendiendo activamente."}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:Vt.map(B=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:`lang-${B}`,type:"checkbox",checked:(T.learningLanguages||[]).includes(B),onChange:()=>ue(B),className:"h-4 w-4 rounded border-gray-300 text-[var(--color-accent)] focus:ring-[var(--color-accent)]"}),f.jsx("label",{htmlFor:`lang-${B}`,className:"ml-2 block text-sm text-[var(--color-text-main)]",children:B})]},B))})]}),f.jsx(on,{title:"Preferencias de Registro",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"defaultLogDuration",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Duracin Predeterminada del Registro (minutos)"}),f.jsx("input",{id:"defaultLogDuration",type:"number",value:Math.round((T.defaultLogDurationSeconds||0)/60),onChange:B=>de("defaultLogDurationSeconds",parseInt(B.target.value,10)*60),className:_n,min:"1"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"defaultLogTimerMode",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Modo del Temporizador Predeterminado"}),f.jsxs("select",{id:"defaultLogTimerMode",value:T.defaultLogTimerMode||"manual",onChange:B=>de("defaultLogTimerMode",B.target.value),className:_n,children:[f.jsx("option",{value:"stopwatch",children:"Cronmetro"}),f.jsx("option",{value:"countdown",children:"Temporizador"})]})]})]})}),f.jsx(on,{title:"Personalizacin",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"appTheme",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Tema de la Aplicacin"}),f.jsxs("select",{id:"appTheme",value:p,onChange:B=>g(B.target.value),className:_n,children:[f.jsx("option",{value:"light",children:"Claro (Predeterminado)"}),f.jsx("option",{value:"dark",children:"Oscuro (Predeterminado)"}),ne.map(B=>f.jsxs("option",{value:B.value,disabled:!t.unlockedRewards.includes(B.id),children:[B.name.replace("Tema: ","")," ",t.unlockedRewards.includes(B.id)?"":"(Bloqueado)"]},B.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"dashboardCardDisplayMode",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Tarjetas de Estado del Dashboard"}),f.jsxs("select",{id:"dashboardCardDisplayMode",value:T.dashboardCardDisplayMode||"learning_days_and_health",onChange:B=>de("dashboardCardDisplayMode",B.target.value),className:_n,children:[f.jsx("option",{value:"learning_days_and_health",children:"Das y Consistencia (Separadas)"}),f.jsx("option",{value:"combined",children:"Combinadas"}),f.jsx("option",{value:"learning_days_only",children:"Solo Das de Aprendizaje"}),f.jsx("option",{value:"health_only",children:"Solo Consistencia de Hbitos"}),f.jsx("option",{value:"none",children:"Ocultar Tarjetas"})]})]})]})}),f.jsx("div",{className:"flex justify-end mt-6",children:f.jsx(lt,{variant:"primary",size:"lg",onClick:Me,children:"Guardar Cambios"})}),f.jsxs(on,{title:"Importar Actividad Agregada",className:"border-t-4 border-blue-500",children:[f.jsx("p",{className:"text-sm text-[var(--color-text-light)] mb-4",children:"Importa un total de horas distribuidas en un rango de fechas y sub-actividades."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"totalHoursToImport",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Total de Horas a Importar"}),f.jsx("input",{id:"totalHoursToImport",type:"number",value:K.totalHoursToImport||"",onChange:B=>ce("totalHoursToImport",parseInt(B.target.value,10)||0),className:_n,min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bulkImportLanguage",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Idioma"}),f.jsx("select",{id:"bulkImportLanguage",value:K.language,onChange:B=>ce("language",B.target.value),className:_n,children:t!=null&&t.learningLanguages&&t.learningLanguages.length>0?t.learningLanguages.map(B=>f.jsx("option",{value:B,children:B},B)):Vt.map(B=>f.jsx("option",{value:B,children:B},B))})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Fecha de Inicio"}),f.jsx("input",{id:"startDate",type:"date",value:K.startDate,onChange:B=>ce("startDate",B.target.value),className:_n})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-[var(--color-text-main)]",children:"Fecha de Fin"}),f.jsx("input",{id:"endDate",type:"date",value:K.endDate,onChange:B=>ce("endDate",B.target.value),className:_n})]})]}),f.jsxs("div",{className:"space-y-3 p-3 border border-[var(--color-input-border)] rounded-md",children:[f.jsx("h4",{className:"text-md font-semibold text-[var(--color-text-main)]",children:"Desglose por Sub-Actividad (Porcentaje)"}),f.jsx("p",{className:"text-sm text-[var(--color-text-light)] mb-2",children:"Asegrate de que el total sume 100%."}),Object.keys(Z).length===0?f.jsx("p",{className:"text-sm text-[var(--color-text-light)] italic",children:"No hay actividades disponibles para desglosar."}):Object.entries(Z).map(([B,se])=>f.jsxs("div",{className:"mb-4",children:[f.jsx("h5",{className:"text-sm font-medium text-[var(--color-text-main)] mb-2",children:B}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:se.map(W=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{htmlFor:`percent-${W.name}`,className:"text-sm text-[var(--color-text-main)] flex-grow",children:W.name}),f.jsx("input",{id:`percent-${W.name}`,type:"number",value:K.subActivityPercentages[W.name]||"",onChange:Re=>je(W.name,parseInt(Re.target.value,10)||0),className:"w-20 p-1.5 text-sm border border-[var(--color-input-border)] rounded-md text-center",min:"0",max:"100"}),f.jsx("span",{className:"text-sm text-[var(--color-text-main)]",children:"%"})]},W.name))})]},B)),f.jsxs("div",{className:"text-right text-sm font-semibold text-[var(--color-text-main)] mt-4",children:["Total: ",f.jsxs("span",{className:`${ae===100?"text-green-600":"text-red-600"}`,children:[ae,"%"]})]})]}),Te&&f.jsx("div",{className:`p-3 rounded-md text-center text-sm ${Te.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Te.message}),f.jsx(lt,{onClick:w,variant:"primary",isLoading:ie,disabled:ie||ae!==100,className:"w-full",children:ie?"Importando...":"Importar Horas Agregadas"})]})]}),f.jsx(on,{title:"Gestin de Datos",className:"border-t-4 border-yellow-500",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(lt,{onClick:me,variant:"outline",leftIcon:f.jsx(JM,{}),children:"Exportar mis datos"}),f.jsx(lt,{onClick:be,variant:"outline",leftIcon:f.jsx(Vv,{}),isLoading:V,disabled:V,children:V?"Importando...":"Importar desde archivo"}),f.jsx("input",{type:"file",ref:P,onChange:oe,className:"hidden",accept:".json"})]})}),f.jsx(on,{title:"Zona de Peligro",className:"border-t-4 border-red-500",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"Reiniciar Todos los Datos"}),f.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:["Esta accin eliminar permanentemente todo tu perfil, registros, metas y configuraciones de este navegador. ",f.jsx("strong",{children:"No se puede deshacer."})]}),f.jsx(lt,{onClick:()=>N(!0),variant:"danger",className:"mt-3",children:"Reiniciar Datos"})]}),f.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"Cerrar Sesin"}),f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Cerrars tu sesin en este dispositivo."}),f.jsx(lt,{onClick:ut,variant:"danger",className:"mt-3",children:"Cerrar Sesin"})]})]})}),f.jsxs(Pv,{isOpen:E,onClose:()=>N(!1),title:"Confirmacin de Reinicio Total",children:[f.jsxs("p",{className:"text-[var(--color-text-main)] mb-4",children:["Ests a punto de borrar ",f.jsx("strong",{children:"todos tus datos"}),'. Esta accin es irreversible. Para confirmar, por favor escribe "BORRAR" en el campo de abajo.']}),f.jsx("input",{type:"text",value:D,onChange:B=>G(B.target.value),className:_n,placeholder:'Escribe "BORRAR" aqu'}),f.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[f.jsx(lt,{variant:"ghost",onClick:()=>N(!1),children:"Cancelar"}),f.jsx(lt,{variant:"danger",disabled:D!=="BORRAR",onClick:()=>{d(),N(!1),x(Xe.ONBOARDING)},children:"Entiendo, borrar todo"})]})]})]})},KM=()=>{const{userProfile:t,purchaseReward:e,activateFlair:a,appTheme:o,updateAppTheme:l,unlockRewardById:d,updateUserProfile:p,getRewardById:g}=sn(),[v,h]=_.useState(null),[x,T]=_.useState(""),S=(P,K="success")=>{h({message:P,type:K}),setTimeout(()=>h(null),3500)},E=P=>{if(e(P))S("Recompensa desbloqueada y activada!");else{const F=Es.find(ie=>ie.id===P);F&&t&&t.focusPoints<F.cost?S("No tienes suficientes Puntos de Enfoque.","error"):S("No se pudo desbloquear la recompensa o ya la tienes.","error")}},N=P=>{a(P),S(P?"Ttulo activado.":"Ttulo desactivado.")},D=P=>{l(P,!0),S(`Tema "${P}" activado.`)},G=_.useCallback(()=>{if(!t)return;const P=Date.now();if(t.lastRedeemAttemptTimestamp&&P-t.lastRedeemAttemptTimestamp<3e3){S("Por favor, espera un momento antes de intentarlo de nuevo.","error");return}p({lastRedeemAttemptTimestamp:P});const K=x.trim().toUpperCase();if(!K){S("Por favor, ingresa un cdigo.","error");return}const F=LC[K];if(K===Ky.toUpperCase()){let ie=0;Es.forEach(Q=>{(t.unlockedRewards||[]).includes(Q.id)||d(Q.id)&&ie++}),ir.filter(Q=>Q.category==="Secreto").forEach(Q=>{(t.unlockedRewards||[]).includes(Q.id)||d(Q.id)&&ie++}),S(ie>0?`Cdigo maestro! ${ie} recompensas desbloqueadas.`:"Cdigo maestro! Todas las recompensas base y secretas disponibles ya estaban desbloqueadas.")}else if(F){const ie=g(F);if(!ie){S("No se encontr la recompensa asociada al cdigo.","error");return}if((t.unlockedRewards||[]).includes(F))S("Ya has desbloqueado esta recompensa.","error");else if(ie.type==="points"){const Q=parseInt(ie.value||"0",10);Q>0?(p({focusPoints:t.focusPoints+Q}),d(ie.id),S(`Has canjeado ${Q} Puntos de Enfoque!`)):S("No se pudo canjear el cdigo de puntos.","error")}else d(F)?S(`"${(ie==null?void 0:ie.name)||"Recompensa"}" desbloqueada y activada!`):S("No se pudo canjear el cdigo.","error")}else S("Cdigo invlido.","error");T("")},[t,x,d,p]);if(!t)return f.jsx("p",{className:"p-4 text-center",children:"Cargando perfil..."});const V=_.useMemo(()=>(t.unlockedRewards||[]).map(P=>g(P)).filter(P=>P&&P.type==="flair"),[t.unlockedRewards,g]),j=Es.reduce((P,K)=>{const F=K.category;return F==="Secreto"||(P[F]||(P[F]=[]),P[F].push(K)),P},{});return f.jsxs("div",{className:"relative flex size-full min-h-screen flex-col bg-white justify-between group/design-root overflow-x-hidden",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center bg-white p-4 pb-2 justify-between",children:[f.jsx("div",{className:"text-[#161117] flex size-12 shrink-0 items-center",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"})})}),f.jsx("h2",{className:"text-[#161117] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Tienda"})]}),f.jsx("h3",{className:"text-[#161117] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Puntos de Enfoque"}),f.jsxs("div",{className:"flex items-center gap-4 bg-white px-4 min-h-14",children:[f.jsx("div",{className:"text-[#161117] flex items-center justify-center rounded-lg bg-[#f3f0f4] shrink-0 size-10",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M184,89.57V84c0-25.08-37.83-44-88-44S8,58.92,8,84v40c0,20.89,26.25,37.49,64,42.46V172c0,25.08,37.83,44,88,44s88-18.92,88-44V132C248,111.3,222.58,94.68,184,89.57ZM232,132c0,13.22-30.79,28-72,28-3.73,0-7.43-.13-11.08-.37C170.49,151.77,184,139,184,124V105.74C213.87,110.19,232,122.27,232,132ZM72,150.25V126.46A183.74,183.74,0,0,0,96,128a183.74,183.74,0,0,0,24-1.54v23.79A163,163,0,0,1,96,152,163,163,0,0,1,72,150.25Zm96-40.32V124c0,8.39-12.41,17.4-32,22.87V123.5C148.91,120.37,159.84,115.71,168,109.93ZM96,56c41.21,0,72,14.78,72,28s-30.79,28-72,28S24,97.22,24,84,54.79,56,96,56ZM24,124V109.93c8.16,5.78,19.09,10.44,32,13.57v23.37C36.41,141.4,24,132.39,24,124Zm64,48v-4.17c2.63.1,5.29.17,8,.17,3.88,0,7.67-.13,11.39-.35A121.92,121.92,0,0,0,120,171.41v23.46C100.41,189.4,88,180.39,88,172Zm48,26.25V174.4a179.48,179.48,0,0,0,24,1.6,183.74,183.74,0,0,0,24-1.54v23.79a165.45,165.45,0,0,1-48,0Zm64-3.38V171.5c12.91-3.13,23.84-7.79,32-13.57V172C232,180.39,219.59,189.4,200,194.87Z"})})}),f.jsx("p",{className:"text-[#161117] text-base font-normal leading-normal flex-1 truncate",children:t.focusPoints})]}),f.jsx("h3",{className:"text-[#161117] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Canjear Cdigo"}),f.jsxs("div",{className:"flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3",children:[f.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:f.jsx("input",{placeholder:"Ingresa el cdigo",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#161117] focus:outline-0 focus:ring-0 border-none bg-[#f3f0f4] focus:border-none h-14 placeholder:text-[#7c6487] p-4 text-base font-normal leading-normal",value:x,onChange:P=>T(P.target.value)})}),f.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-14 px-4 bg-[#67148e] text-white text-base font-bold leading-normal tracking-[0.015em] w-fit",onClick:G,children:f.jsx("span",{className:"truncate",children:"Canjear"})})]}),v&&f.jsx("div",{className:`p-3 rounded-md text-center text-sm ${v.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:v.message}),f.jsx("h3",{className:"text-[#161117] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Mis Recompensas Desbloqueadas"}),V.map(P=>f.jsxs("div",{className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-[#161117] flex items-center justify-center rounded-lg bg-[#f3f0f4] shrink-0 size-12",children:P.type==="theme"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89Zm13,93.71A15.89,15.89,0,0,1,198.21,160H152a32,32,0,0,0-32,32,16,16,0,0,1-21.31,15.07C62.49,194.3,40,164,40,128a88,88,0,0,1,87.09-88h.9a88.35,88.35,0,0,1,88,87.25A88.86,88.86,0,0,1,213.81,147.6ZM140,76a12,12,0,1,1-12-12A12,12,0,0,1,140,76ZM96,100A12,12,0,1,1,84,88,12,12,0,0,1,96,100Zm0,56a12,12,0,1,1-12-12A12,12,0,0,1,96,156Zm88-56a12,12,0,1,1-12-12A12,12,0,0,1,184,100Z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"})})}),f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsx("p",{className:"text-[#161117] text-base font-medium leading-normal line-clamp-1",children:P.name}),f.jsx("p",{className:"text-[#7c6487] text-sm font-normal leading-normal line-clamp-2",children:P.description})]})]}),f.jsx("div",{className:"shrink-0",children:f.jsxs("label",{className:`relative flex h-[31px] w-[51px] cursor-pointer items-center rounded-full border-none p-0.5 ${P.type==="flair"&&t.profileFlairId===P.id||P.type==="theme"&&o===P.value?"bg-[#67148e]":"bg-[#f3f0f4]"}`,children:[f.jsx("div",{className:"h-full w-[27px] rounded-full bg-white",style:{boxShadow:"rgba(0, 0, 0, 0.15) 0px 3px 8px, rgba(0, 0, 0, 0.06) 0px 3px 1px"}}),f.jsx("input",{type:"checkbox",className:"invisible absolute",checked:P.type==="flair"&&t.profileFlairId===P.id||P.type==="theme"&&o===P.value,onChange:()=>{P.type==="flair"?N(t.profileFlairId===P.id?null:P.id):P.type==="theme"&&D(P.value)}})]})})]},P.id)),f.jsx("h3",{className:"text-[#161117] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Recompensas Disponibles"}),Object.entries(j).map(([P,K])=>f.jsx(ky.Fragment,{children:K.map(F=>{const ie=(t.unlockedRewards||[]).includes(F.id),Q=(t.focusPoints||0)>=F.cost;return ie?null:f.jsxs("div",{className:"flex gap-4 bg-white px-4 py-3 justify-between",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"text-[#161117] flex items-center justify-center rounded-lg bg-[#f3f0f4] shrink-0 size-12",children:F.type==="theme"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89Zm13,93.71A15.89,15.89,0,0,1,198.21,160H152a32,32,0,0,0-32,32,16,16,0,0,1-21.31,15.07C62.49,194.3,40,164,40,128a88,88,0,0,1,87.09-88h.9a88.35,88.35,0,0,1,88,87.25A88.86,88.86,0,0,1,213.81,147.6ZM140,76a12,12,0,1,1-12-12A12,12,0,0,1,140,76ZM96,100A12,12,0,1,1,84,88,12,12,0,0,1,96,100Zm0,56a12,12,0,1,1-12-12A12,12,0,0,1,96,156Zm88-56a12,12,0,1,1-12-12A12,12,0,0,1,184,100Z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"})})}),f.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[f.jsx("p",{className:"text-[#161117] text-base font-medium leading-normal",children:F.name}),f.jsxs("p",{className:"text-[#7c6487] text-sm font-normal leading-normal",children:["Costo: ",F.cost," puntos"]}),f.jsx("p",{className:"text-[#7c6487] text-sm font-normal leading-normal",children:F.description})]})]}),f.jsx("div",{className:"shrink-0",children:f.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-8 px-4 bg-[#f3f0f4] text-[#161117] text-sm font-medium leading-normal w-fit",onClick:()=>E(F.id),disabled:!Q,children:f.jsx("span",{className:"truncate",children:Q?"Comprar":"Insuficientes"})})})]},F.id)})},P))]}),f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-end overflow-hidden px-5 pb-5",children:f.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-14 bg-[#67148e] text-white text-base font-bold leading-normal tracking-[0.015em] min-w-0 px-2 gap-4 pl-4 pr-6",children:f.jsx("div",{className:"text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:f.jsx("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"})})})})}),f.jsx("div",{className:"h-5 bg-white"})]})]})},XM=({className:t="w-5 h-5"})=>f.jsxs("svg",{className:t,viewBox:"0 0 48 48",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A8 8 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.37 44 30.013 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),wy="w-full px-4 py-3 bg-[var(--color-input-bg)] border border-[var(--color-input-border)] rounded-lg shadow-sm text-[var(--color-input-text)] placeholder-[var(--color-placeholder-text)] focus:ring-[var(--color-accent)] focus:border-[var(--color-accent)] sm:text-sm",QM=()=>{const{signInWithPassword:t,signUp:e,signInWithGoogle:a}=sn(),[o,l]=_.useState(!0),[d,p]=_.useState(""),[g,v]=_.useState(""),[h,x]=_.useState(!1),[T,S]=_.useState(null),E=async D=>{var G,V;D.preventDefault(),x(!0),S(null);try{let j;o?j=await t({email:d,password:g}):j=await e({email:d,password:g,options:{emailRedirectTo:window.location.origin}}),j.error?(console.error("Auth error:",j.error),S(j.error.message)):!o&&((G=j.data)!=null&&G.user)&&!((V=j.data)!=null&&V.session)&&S("Cuenta creada exitosamente. Por favor, revisa tu email para confirmar tu cuenta.")}catch(j){console.error("Auth action error:",j),S(j.message||"An unexpected error occurred.")}finally{x(!1)}},N=async()=>{x(!0),S(null);try{const{error:D}=await a();D&&(console.error("Google sign in error:",D),S(D.message))}catch(D){console.error("Google sign in error:",D),S(D.message||"Error al iniciar sesin con Google"),x(!1)}};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)]",children:f.jsxs("div",{className:"w-full max-w-md mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("img",{src:"./assets/logo.png",alt:"Logo",className:"w-24 h-24 mx-auto mb-4"}),f.jsx("h1",{className:"text-4xl font-poppins font-bold text-white",children:"El Antimtodo"}),f.jsx("p",{className:"text-purple-200 mt-2",children:"Tu comunidad de adquisicin de idiomas."})]}),f.jsxs("div",{className:"bg-[var(--color-card-bg)] p-6 sm:p-8 rounded-xl shadow-2xl",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-[var(--color-primary)] mb-6",children:o?"Iniciar Sesin":"Crear Cuenta"}),T&&f.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${T.includes("exitosamente")?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,role:"alert",children:T}),f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:d,onChange:D=>p(D.target.value),placeholder:"Email",required:!0,className:wy,disabled:h})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",value:g,onChange:D=>v(D.target.value),placeholder:"Contrasea",required:!0,minLength:6,className:wy,disabled:h})]}),f.jsx(lt,{type:"submit",variant:"primary",size:"lg",className:"w-full",isLoading:h,disabled:h,children:h?"Procesando...":o?"Iniciar Sesin":"Crear Cuenta"})]}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-[var(--color-border-light)]"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-[var(--color-card-bg)] text-[var(--color-text-light)]",children:"O contina con"})})]}),f.jsx(lt,{variant:"outline",size:"lg",className:"w-full",onClick:N,leftIcon:f.jsx(XM,{}),disabled:h,children:"Google"}),f.jsxs("p",{className:"mt-6 text-center text-sm",children:[o?"No tienes una cuenta?":"Ya tienes una cuenta?",f.jsx("button",{onClick:()=>{l(!o),S(null)},className:"font-medium text-[var(--color-accent)] hover:underline ml-1",disabled:h,children:o?"Regstrate":"Inicia Sesin"})]})]})]})})},Ad=({size:t="md",color:e="var(--color-primary)",text:a})=>{let o="";switch(t){case"sm":o="w-6 h-6 border-2";break;case"md":o="w-10 h-10 border-4";break;case"lg":o="w-16 h-16 border-[6px]";break}return f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("div",{className:`animate-spin rounded-full ${o} border-t-transparent`,style:{borderColor:e,borderTopColor:"transparent"}}),a&&f.jsx("p",{className:"text-sm font-poppins",style:{color:e},children:a})]})},WM=()=>{const{user:t}=sn(),[e,a]=_.useState([]),[o,l]=_.useState(!0),[d,p]=_.useState(null),[g,v]=_.useState("feed");return _.useEffect(()=>{(async()=>{if(!t){p("Debes iniciar sesin para ver el feed."),l(!1);return}l(!0),p(null);const{data:x,error:T}=await et.rpc("get_feed_with_likes",{requesting_user_id:t.id});T?(console.error("Error fetching feed with likes:",T),p("No se pudo cargar el feed de actividad."),a([])):a(x||[]),l(!1)})()},[t]),f.jsxs("div",{className:"min-h-screen",children:[f.jsx("header",{className:"bg-[#4a148c] p-4 shadow-sm sticky top-0 z-10",children:f.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Comunidad"}),f.jsx("button",{className:"text-white",children:f.jsx("span",{className:"material-icons",children:"notifications"})})]})}),f.jsx("main",{className:"p-4 container mx-auto",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 border-b border-gray-200",children:f.jsxs("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:[f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${g==="feed"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("feed"),href:"#",children:"Feed"}),f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${g==="leaderboard"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("leaderboard"),href:"#",children:"Clasificacin"}),f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${g==="profile"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("profile"),href:"#",children:"Mi Perfil"})]})}),g==="feed"&&f.jsx("div",{className:"space-y-6",children:o?f.jsx("div",{className:"flex justify-center items-center py-20",children:f.jsx(Ad,{text:"Cargando feed..."})}):d?f.jsx("p",{className:"text-center text-red-500 py-20",children:d}):e.length===0?f.jsxs("div",{className:"text-center py-20 text-gray-500",children:[f.jsx("p",{className:"font-semibold",children:"El feed de actividad est tranquilo por ahora!"}),f.jsx("p",{className:"text-sm mt-2",children:"Registra actividades para que tus logros aparezcan aqu."})]}):e.map(h=>f.jsx("div",{className:"bg-white rounded-xl shadow p-4",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("img",{alt:"Avatar",className:"h-12 w-12 rounded-full",src:h.user_avatar_url||"https://via.placeholder.com/150"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:h.user_display_name})," ",h.content.message]}),f.jsx("p",{className:"text-sm text-gray-400",children:new Date(h.created_at).toLocaleString()}),f.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[f.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-500",children:[f.jsx("span",{className:"material-icons",children:"favorite_border"}),f.jsxs("span",{className:"text-sm",children:[h.likes," Me gusta"]})]}),f.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-purple-600",children:[f.jsx("span",{className:"material-icons",children:"comment"}),f.jsxs("span",{className:"text-sm",children:[h.comments," Comentarios"]})]})]})]})]})},h.id))}),g==="leaderboard"&&f.jsx("div",{children:f.jsx("p",{children:"Leaderboard Content"})}),g==="profile"&&f.jsx("div",{children:f.jsx("p",{children:"Profile Content"})})]})}),f.jsx("div",{className:"pb-20"}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-t-md flex justify-around py-2 border-t border-gray-200",children:[f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"text-xs block",children:"Dashboard"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"track_changes"}),f.jsx("span",{className:"text-xs block",children:"Tracker"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"article"}),f.jsx("span",{className:"text-xs block",children:"Routines"})]}),f.jsxs("a",{className:"text-center text-purple-600 font-bold",href:"#",children:[f.jsx("span",{className:"material-icons",children:"people"}),f.jsx("span",{className:"text-xs block",children:"Social"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"store"}),f.jsx("span",{className:"text-xs block",children:"Store"})]})]})]})},eR=()=>{const{user:t}=sn(),[e,a]=_.useState("global"),[o,l]=_.useState("weekly"),[d,p]=_.useState([]),[g,v]=_.useState(!0),[h,x]=_.useState(null),T=_.useCallback(async()=>{v(!0),x(null);let E;if(e==="global")E=await et.rpc("get_leaderboard",{period:o});else{if(!t){x("Debes iniciar sesin para ver la tabla de clasificacin de amigos."),v(!1),p([]);return}E=await et.rpc("get_friends_leaderboard",{p_user_id:t.id,period:o})}const{data:N,error:D}=E;D?(console.error(`Error fetching ${e} leaderboard:`,D),x("No se pudo cargar la tabla de clasificacin. Intntalo de nuevo ms tarde."),p([])):p(N||[]),v(!1)},[e,o,t]);_.useEffect(()=>{T()},[T]);const S={weekly:"Semanal",monthly:"Mensual",all_time:"Histrico"};return f.jsxs("div",{className:"min-h-screen",children:[f.jsx("header",{className:"bg-[#4a148c] p-4 shadow-sm sticky top-0 z-10",children:f.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Comunidad"}),f.jsx("button",{className:"text-white",children:f.jsx("span",{className:"material-icons",children:"notifications"})})]})}),f.jsx("main",{className:"p-4 container mx-auto",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 border-b border-gray-200",children:f.jsxs("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:[f.jsx("a",{className:"whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300",href:"#",children:"Feed"}),f.jsx("a",{className:"whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-purple-600 text-purple-600",href:"#",children:"Clasificacin"}),f.jsx("a",{className:"whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300",href:"#",children:"Mi Perfil"})]})}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>a("global"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="global"?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-700"}`,children:"Global"}),f.jsx("button",{onClick:()=>a("friends"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="friends"?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-700"}`,children:"Amigos"})]}),f.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[f.jsx("span",{className:"material-icons text-sm",children:"event"}),f.jsx("span",{className:"text-sm font-medium",children:S[o]}),f.jsx("span",{className:"material-icons",children:"expand_more"})]})]}),f.jsx("div",{className:"space-y-2",children:g?f.jsx("div",{className:"flex justify-center items-center py-20",children:f.jsx(Ad,{text:"Cargando clasificacin..."})}):h?f.jsx("p",{className:"text-center text-red-500 py-20",children:h}):d.map((E,N)=>f.jsxs("div",{className:`bg-white rounded-xl p-3 flex items-center space-x-4 shadow ${E.user_id===(t==null?void 0:t.id)?"bg-purple-100 border-2 border-purple-500":""}`,children:[f.jsx("span",{className:"text-xl font-bold text-gray-500 w-6 text-center",children:N+1}),f.jsx("img",{alt:"Avatar",className:"h-10 w-10 rounded-full",src:E.avatar_url||"https://via.placeholder.com/150"}),f.jsxs("p",{className:"font-semibold flex-1",children:[E.display_name," ",E.user_id===(t==null?void 0:t.id)&&"(T)"]}),f.jsxs("p",{className:"font-bold text-gray-700",children:[E.total_focus_points," Pts"]})]},E.user_id))})]})}),f.jsx("div",{className:"pb-20"}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-t-md flex justify-around py-2 border-t border-gray-200",children:[f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"text-xs block",children:"Dashboard"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"track_changes"}),f.jsx("span",{className:"text-xs block",children:"Tracker"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"article"}),f.jsx("span",{className:"text-xs block",children:"Routines"})]}),f.jsxs("a",{className:"text-center text-purple-600 font-bold",href:"#",children:[f.jsx("span",{className:"material-icons",children:"people"}),f.jsx("span",{className:"text-xs block",children:"Social"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"store"}),f.jsx("span",{className:"text-xs block",children:"Store"})]})]})]})},tR=()=>{var Te,te;const{username:t}=zy(),{session:e,appTheme:a,getProfileFollowCounts:o}=sn(),[l,d]=_.useState(null),[p,g]=_.useState(!0),[v,h]=_.useState(null),[x,T]=_.useState(!1),[S,E]=_.useState(!1),[N,D]=_.useState(0),[G,V]=_.useState(0),[j,P]=_.useState(null),[K,F]=_.useState("profile"),ie=_.useCallback(async()=>{if(!t){h("No se ha especificado un nombre de usuario."),g(!1);return}g(!0),h(null);try{const{data:de,error:ue}=await et.from("profiles").select("id, username, display_name, current_stage, avatar_url, theme, focus_points, profile_flair_id, learning_languages, learning_days_count").eq("username",t).single();if(ue||!de)throw d(null),new Error("Perfil no encontrado.");d(de);const Me=await o(de.id);if(D(Me.followers),V(Me.following),e!=null&&e.user){const{data:ut,error:me}=await et.from("relationships").select("*",{count:"exact"}).eq("follower_id",e.user.id).eq("following_id",de.id).maybeSingle();if(me&&me.code!=="PGRST116")throw me;T(!!ut)}}catch(de){h("No se pudo encontrar el perfil de este usuario."),console.error("Error fetching profile:",de.message)}finally{g(!1)}},[t,e,o]);if(_.useEffect(()=>{ie()},[ie]),_.useEffect(()=>(l!=null&&l.theme&&(document.documentElement.className=l.theme),()=>{document.documentElement.className=a}),[l,a]),p)return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[var(--color-app-bg)]",children:f.jsx(Ad,{size:"lg",text:"Cargando perfil..."})});if(v||!l)return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[var(--color-app-bg)] p-4 text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-[var(--color-error)] mb-4",children:v||"Perfil no encontrado"}),f.jsx(yd,{to:Xe.DASHBOARD,className:"text-[var(--color-accent)] hover:underline",children:"Volver al Dashboard"})]});l.profile_flair_id&&ir.find(de=>de.id===l.profile_flair_id),l.current_stage&&Pn[l.current_stage];const Q=((Te=e==null?void 0:e.user)==null?void 0:Te.id)===l.id;return f.jsxs("div",{className:"min-h-screen",children:[f.jsx("header",{className:"bg-[#4a148c] p-4 shadow-sm sticky top-0 z-10",children:f.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Comunidad"}),f.jsx("button",{className:"text-white",children:f.jsx("span",{className:"material-icons",children:"notifications"})})]})}),f.jsx("main",{className:"p-4 container mx-auto",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 border-b border-gray-200",children:f.jsxs("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:[f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${K==="feed"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>F("feed"),href:"#",children:"Feed"}),f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${K==="leaderboard"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>F("leaderboard"),href:"#",children:"Clasificacin"}),f.jsx("a",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${K==="profile"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>F("profile"),href:"#",children:"Mi Perfil"})]})}),K==="profile"&&f.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{alt:"Avatar de Alex",className:"h-20 w-20 rounded-full",src:l.avatar_url||"https://via.placeholder.com/150"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h2",{className:"text-2xl font-bold",children:[l.display_name," ",Q&&"(T)"]}),f.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:f.jsx("span",{className:"material-icons",children:"edit"})})]}),f.jsxs("p",{className:"text-gray-500",children:["@",l.username]})]})]}),f.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold text-purple-600",children:l.focus_points}),f.jsx("p",{className:"text-sm text-gray-500",children:"Puntos de Enfoque"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold text-purple-600",children:l.learning_days_count}),f.jsx("p",{className:"text-sm text-gray-500",children:"Das Adquiriendo"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold text-purple-600",children:(te=l.learning_languages)==null?void 0:te.length}),f.jsx("p",{className:"text-sm text-gray-500",children:"Idiomas Activos"})]})]})]}),K==="feed"&&f.jsx("div",{className:"space-y-6",children:f.jsx("p",{children:"Feed Content"})}),K==="leaderboard"&&f.jsx("div",{children:f.jsx("p",{children:"Leaderboard Content"})}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mi Actividad Reciente"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow flex items-center space-x-4",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:f.jsx("span",{className:"material-icons",children:"task_alt"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:"Completaste una leccin de Francs"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Hace 2 horas"})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow flex items-center space-x-4",children:[f.jsx("div",{className:"bg-orange-100 p-2 rounded-full",children:f.jsx("span",{className:"material-icons",children:"local_fire_department"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:"Racha de 50 das!"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Ayer"})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow flex items-center space-x-4",children:[f.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:f.jsx("span",{className:"material-icons",children:"mic"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:"Practicaste pronunciacin en Alemn"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Hace 3 das"})]})]})]})]})]})}),f.jsx("div",{className:"pb-20"}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-t-md flex justify-around py-2 border-t border-gray-200",children:[f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"text-xs block",children:"Dashboard"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"track_changes"}),f.jsx("span",{className:"text-xs block",children:"Tracker"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"article"}),f.jsx("span",{className:"text-xs block",children:"Routines"})]}),f.jsxs("a",{className:"text-center text-purple-600 font-bold",href:"#",children:[f.jsx("span",{className:"material-icons",children:"people"}),f.jsx("span",{className:"text-xs block",children:"Social"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"store"}),f.jsx("span",{className:"text-xs block",children:"Store"})]})]})]})},nR=()=>{const[t,e]=_.useState("feed");return f.jsxs("div",{className:"min-h-screen",id:"social-screen",children:[f.jsx("header",{className:"bg-[#4a148c] p-4 shadow-sm sticky top-0 z-10",children:f.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Comunidad"}),f.jsx("button",{className:"text-white",children:f.jsx("span",{className:"material-icons",children:"notifications"})})]})}),f.jsx("main",{className:"p-4 container mx-auto",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 border-b border-gray-200",children:f.jsxs("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:[f.jsx("button",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${t==="feed"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>e("feed"),children:"Feed"}),f.jsx("button",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${t==="leaderboard"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>e("leaderboard"),children:"Clasificacin"}),f.jsx("button",{className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm ${t==="profile"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>e("profile"),children:"Mi Perfil"})]})}),t==="feed"&&f.jsx(WM,{}),t==="leaderboard"&&f.jsx(eR,{}),t==="profile"&&f.jsx(tR,{})]})}),f.jsx("div",{className:"pb-20"}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-t-md flex justify-around py-2 border-t border-gray-200",children:[f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"dashboard"}),f.jsx("span",{className:"text-xs block",children:"Dashboard"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"track_changes"}),f.jsx("span",{className:"text-xs block",children:"Tracker"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"article"}),f.jsx("span",{className:"text-xs block",children:"Routines"})]}),f.jsxs("a",{className:"text-center text-purple-600 font-bold",href:"#",children:[f.jsx("span",{className:"material-icons",children:"people"}),f.jsx("span",{className:"text-xs block",children:"Social"})]}),f.jsxs("a",{className:"text-center text-gray-500 hover:text-purple-600",href:"#",children:[f.jsx("span",{className:"material-icons",children:"store"}),f.jsx("span",{className:"text-xs block",children:"Store"})]})]})]})},My=({className:t="",count:e=1,height:a="h-4"})=>{const o=Array.from({length:e},(l,d)=>f.jsx("div",{className:`animate-pulse bg-[var(--color-light-purple)] rounded-md ${a} ${t}`},d));return f.jsx(f.Fragment,{children:o})},aR=()=>{const t=[{to:Xe.DASHBOARD,label:"Inicio",icon:f.jsx(vd,{className:"w-6 h-6"})},{to:Xe.TRACKER,label:"Tracker",icon:f.jsx(Qy,{className:"w-6 h-6"})},{to:Xe.ROUTINES,label:"Rutinas",icon:f.jsx(Wy,{className:"w-6 h-6"})},{to:Xe.REWARDS,label:"Tienda",icon:f.jsx(ev,{className:"w-6 h-6"})},{to:Xe.LEADERBOARD,label:"Ranking",icon:f.jsx(tv,{className:"w-6 h-6"})},{to:Xe.FEED,label:"Feed",icon:f.jsx(nv,{className:"w-6 h-6"})}],e="text-[var(--color-accent)]",a="text-[var(--color-nav-text)]";return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[var(--color-nav-bg)] border-t border-[var(--color-border-light)] shadow-lg md:hidden z-50",children:f.jsx("ul",{className:"flex justify-around h-16 items-center",children:t.map(o=>f.jsx("li",{className:"flex-1",children:f.jsxs(ar,{to:o.to,className:({isActive:l})=>`flex flex-col items-center justify-center h-full text-xs font-medium transition-colors duration-150 
                ${l?e:a}`,children:[o.icon,f.jsx("span",{className:"mt-1",children:o.label})]})},o.to))})})},Ry=1500,Dy=500,iR=({onComplete:t})=>{const[e,a]=_.useState(!1);return _.useEffect(()=>{a(!0);const o=setTimeout(()=>{a(!1)},Ry-Dy),l=setTimeout(()=>{t()},Ry);return()=>{clearTimeout(o),clearTimeout(l)}},[t]),f.jsxs("div",{className:`fixed inset-0 z-[1000] flex flex-col items-center justify-center p-8 text-center text-white transition-opacity ease-in-out
                  bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)]`,style:{opacity:e?1:0,transitionDuration:`${Dy}ms`},children:[f.jsx("img",{src:"./assets/logo.png",alt:"Logo El Antimtodo",className:"w-32 h-32 sm:w-40 sm:h-40 mb-4 object-contain"}),f.jsx("p",{className:"font-poppins font-semibold text-3xl sm:text-4xl mt-6",children:"El Antimtodo"})]})},oR=()=>{const e=zn().pathname.startsWith("/log"),a=e?"":"pb-16 md:pt-0";return f.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-[var(--color-app-bg)]",children:[!e&&f.jsxs(f.Fragment,{children:[f.jsx(GC,{})," ",f.jsx(aR,{})," "]}),f.jsx("main",{className:`flex-1 overflow-y-auto text-[var(--color-text-main)] ${a}`,children:f.jsxs(Fy,{children:[f.jsx(gn,{path:Xe.DASHBOARD,element:f.jsx(OM,{})}),f.jsx(gn,{path:Xe.TRACKER,element:f.jsx(jM,{})}),f.jsx(gn,{path:Xe.ROUTINES,element:f.jsx(qM,{})}),f.jsx(gn,{path:Xe.REWARDS,element:f.jsx(KM,{})}),f.jsx(gn,{path:Xe.SOCIAL,element:f.jsx(nR,{})}),f.jsx(gn,{path:Xe.GUIDES,element:f.jsx(YM,{})}),f.jsx(gn,{path:Xe.SETTINGS,element:f.jsx(ZM,{})}),f.jsx(gn,{path:"/log",element:f.jsx(Ny,{})}),f.jsx(gn,{path:"/log/:logId",element:f.jsx(Ny,{})}),f.jsx(gn,{path:"*",element:f.jsx(XT,{to:Xe.DASHBOARD,replace:!0})})]})})]})},sR=()=>{const{session:t,userProfile:e,isInitialLoadComplete:a,appTheme:o}=sn();if(_.useEffect(()=>{if(!window.location.hash.startsWith("#/profile/")){document.documentElement.className=o;const p=document.querySelector('meta[name="theme-color"]');p&&p.setAttribute("content",o==="dark"?"#121212":"#4a148c")}},[o]),_.useEffect(()=>{(()=>{const p=new URLSearchParams(window.location.search),g=new URLSearchParams(window.location.hash.substring(1));(p.has("code")||g.has("access_token"))&&window.history.replaceState({},document.title,window.location.pathname)})()},[]),!a)return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[var(--color-app-bg)] p-4",children:[f.jsx(My,{count:3,height:"h-6",className:"w-3/4 mb-4"}),f.jsx(My,{count:1,height:"h-4",className:"w-1/2"})]});const l=()=>t?e?f.jsx(oR,{}):f.jsx(VM,{}):f.jsx(QM,{});return f.jsx(Fy,{children:f.jsx(gn,{path:"/*",element:f.jsx(l,{})})})},lR=()=>{const[t,e]=_.useState(!1);return t?f.jsx(SC,{children:f.jsx(sR,{})}):f.jsx(iR,{onComplete:()=>e(!0)})},Ov=document.getElementById("root");if(!Ov)throw new Error("Could not find root element to mount to");const rR=lT.createRoot(Ov);rR.render(f.jsx(ky.StrictMode,{children:f.jsx(PC,{children:f.jsx(lR,{})})}));
